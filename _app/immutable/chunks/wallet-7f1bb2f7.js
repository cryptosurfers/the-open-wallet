var Le=Object.defineProperty;var Pe=(te,Vt,he)=>Vt in te?Le(te,Vt,{enumerable:!0,configurable:!0,writable:!0,value:he}):te[Vt]=he;var Ee=(te,Vt,he)=>(Pe(te,typeof Vt!="symbol"?Vt+"":Vt,he),he);import{S as je,i as qe,s as Ke,F as $e,l as Be,m as Me,n as De,h as Ae,p as Fe,K as Se,q as _e,b as Ge,G as He,L as xe,H as We,I as Ve,J as ze,f as Ze,t as Ye,T as Xe,C as Ie,M as Te,N as Ne}from"./index-d6efaadc.js";import{w as Je}from"./index-a0b22331.js";function Qe(te){let Vt,he,ge,ce,O,B;const s=te[10].default,y=$e(s,te,te[9],null);return{c(){Vt=Be("button"),he=Be("span"),y&&y.c(),this.h()},l(b){Vt=Me(b,"BUTTON",{class:!0,style:!0,type:!0});var m=De(Vt);he=Me(m,"SPAN",{});var g=De(he);y&&y.l(g),g.forEach(Ae),m.forEach(Ae),this.h()},h(){Fe(Vt,"class",ge=Se(te[2])+" svelte-1rql73e"),_e(Vt,"width",te[1]?"":te[0]),Fe(Vt,"type","button")},m(b,m){Ge(b,Vt,m),He(Vt,he),y&&y.m(he,null),ce=!0,O||(B=[xe(Vt,"click",te[11]),xe(Vt,"keypress",te[12])],O=!0)},p(b,[m]){y&&y.p&&(!ce||m&512)&&We(y,s,b,b[9],ce?ze(s,b[9],m,null):Ve(b[9]),null),(!ce||m&4&&ge!==(ge=Se(b[2])+" svelte-1rql73e"))&&Fe(Vt,"class",ge),(!ce||m&3)&&_e(Vt,"width",b[1]?"":b[0])},i(b){ce||(Ze(y,b),ce=!0)},o(b){Ye(y,b),ce=!1},d(b){b&&Ae(Vt),y&&y.d(b),O=!1,Xe(B)}}}function tr(te,Vt,he){let{$$slots:ge={},$$scope:ce}=Vt,{size:O="lg"}=Vt,{type:B="default"}=Vt,{icon:s=""}=Vt,{label:y=""}=Vt,{width:b=""}=Vt,{wide:m=!1}=Vt,{loading:g=!1}=Vt,{disabled:n=!1}=Vt,u=Vt.class||Vt.className||"",l;function c(f){Ne.call(this,te,f)}function p(f){Ne.call(this,te,f)}return te.$$set=f=>{he(14,Vt=Ie(Ie({},Vt),Te(f))),"size"in f&&he(3,O=f.size),"type"in f&&he(4,B=f.type),"icon"in f&&he(5,s=f.icon),"label"in f&&he(6,y=f.label),"width"in f&&he(0,b=f.width),"wide"in f&&he(1,m=f.wide),"loading"in f&&he(7,g=f.loading),"disabled"in f&&he(8,n=f.disabled),"$$scope"in f&&he(9,ce=f.$$scope)},te.$$.update=()=>{te.$$.dirty&410&&he(2,l=[B,O,u,m&&"wide",g&&"loading",n&&"disabled"].filter(f=>f).join(" "))},Vt=Te(Vt),[b,m,l,O,B,s,y,g,n,ce,ge,c,p]}class dr extends je{constructor(Vt){super(),qe(this,Vt,tr,Qe,Ke,{size:3,type:4,icon:5,label:6,width:0,wide:1,loading:7,disabled:8})}}var Ce=(te=>(te.CREATE_WALLET="createWallet",te.TRANSFER="transfer",te.REMOVE_WALLET="removeWallet",te.WALLET_CREATED="walletCreated",te.WALLET_UPDATED="walletUpdated",te.WALLET_REMOVED="walletRemoved",te))(Ce||{});const er=window.Telegram.WebApp;class rr{constructor(Vt){this.webapp=Vt,this.webapp=Vt}createWallet({params:Vt}){this.webapp.sendData(JSON.stringify({method:Ce.WALLET_CREATED,params:Vt}))}updateWallet({params:Vt}){this.webapp.sendData(JSON.stringify({method:Ce.WALLET_UPDATED,params:Vt}))}deleteWallet({params:Vt}){this.webapp.sendData(JSON.stringify({method:Ce.WALLET_REMOVED,params:Vt}))}}const pr=new rr(er);function ir(te){return te&&te.__esModule&&Object.prototype.hasOwnProperty.call(te,"default")?te.default:te}var ke={exports:{}};/*! For license information please see tonweb.js.LICENSE.txt */(function(te,Vt){(function(he,ge){te.exports=ge()})(self,function(){return(()=>{var he=[(O,B,s)=>{const y=s(1),b=y.Address,m=s(19),g=s(22),n=s(24).default,{Contract:u}=s(23),l=s(27).default,c=s(34).default,p=s(35).default,f=s(41).default,{BlockSubscription:d,InMemoryBlockStorage:w}=s(44),{SubscriptionContract:F}=s(47),{Payments:C,PaymentChannel:M}=s(48),x=s(51).default,K=s(106).default,j=s(107).default,{Dns:U,DnsCollection:G,DnsItem:X}=s(222).default,Y="0.0.50";class Q{constructor(h){this.version=Y,this.utils=y,this.Address=b,this.boc=m,this.Contract=u,this.BlockSubscription=d,this.InMemoryBlockStorage=w,this.provider=h||new n,this.dns=new U(this.provider),this.wallet=new l(this.provider),this.payments=new C(this.provider),this.lockupWallet=c}async getTransactions(h,r=20,e,t,o){return this.provider.getTransactions(h.toString(),r,e,t,o)}async getBalance(h){return this.provider.getBalance(h.toString())}async sendBoc(h){return this.provider.sendBoc(y.bytesToBase64(h))}async call(h,r,e=[]){return this.provider.call(h.toString(),r,e)}}Q.version=Y,Q.utils=y,Q.Address=b,Q.boc=m,Q.HttpProvider=n,Q.Contract=u,Q.Wallets=l,Q.LockupWallets=c,Q.SubscriptionContract=F,Q.BlockSubscription=d,Q.InMemoryBlockStorage=w,Q.ledger={TransportWebUSB:x,TransportWebHID:K,BluetoothTransport:j,AppTon:g},Q.token={nft:p,ft:f,jetton:f},Q.dns=U,Q.dns.DnsCollection=G,Q.dns.DnsItem=X,Q.payments=C,Q.payments.PaymentChannel=M,O.exports=Q},(O,B,s)=>{const{BN:y,nacl:b,sha256:m,fromNano:g,toNano:n,bytesToHex:u,hexToBytes:l,stringToBytes:c,crc32c:p,crc16:f,concatBytes:d,bytesToBase64:w,base64ToBytes:F,base64toString:C,stringToBase64:M,compareBytes:x,readNBytesUIntFromArray:K,keyPairFromSeed:j,newKeyPair:U,newSeed:G}=s(2),X=s(18).default;O.exports={Address:X,BN:y,nacl:b,sha256:m,fromNano:g,toNano:n,bytesToHex:u,hexToBytes:l,stringToBytes:c,crc32c:p,crc16:f,concatBytes:d,bytesToBase64:w,base64ToBytes:F,base64toString:C,stringToBase64:M,compareBytes:x,readNBytesUIntFromArray:K,parseTransferUrl:function(Y){const Q="ton://transfer/";if(!Y.startsWith(Q))throw new Error("must starts with "+Q);const i=Y.substring(Q.length).split("?");if(i.length>2)throw new Error('multiple "?"');const h=i[0];if(!X.isValid(h))throw new Error("invalid address format "+h);const r={address:h},e=i[1];if(e&&e.length){const t=e.split("&").map(o=>o.split("="));for(const o of t){if(o.length!==2)throw new Error("invalid url pair");const a=o[0],v=o[1];if(a==="amount"){if(r.amount)throw new Error("amount already set");if(new y(v).isNeg())throw new Error("negative amount");r.amount=v}else{if(a!=="text")throw new Error("unknown url var "+a);if(r.text)throw new Error("text already set");r.text=decodeURIComponent(v)}}}return r},formatTransferUrl:function(Y,Q,i){let h="ton://transfer/"+Y;const r=[];return Q&&r.push("amount="+Q),i&&r.push("text="+encodeURIComponent(i)),r.length===0?h:h+"?"+r.join("&")},keyPairFromSeed:j,newKeyPair:U,newSeed:G}},(O,B,s)=>{var y=s(9).Buffer;const b=s(3),m=s(5),g=s(7),n=typeof self<"u"&&self.crypto&&self.crypto.subtle;let u=null;n||(u=s(16));const l=[],c={};for(let d=0;d<=255;d++){let w=d.toString(16);w.length<2&&(w="0"+w),l.push(w),c[w]=d}const p=(()=>{const d=[],w="A".charCodeAt(0),F="a".charCodeAt(0),C="0".charCodeAt(0);for(let M=0;M<26;++M)d.push(String.fromCharCode(w+M));for(let M=0;M<26;++M)d.push(String.fromCharCode(F+M));for(let M=0;M<10;++M)d.push(String.fromCharCode(C+M));return d.push("+"),d.push("/"),d})();function f(d){return typeof self>"u"?y.from(d,"base64").toString("binary"):atob(d)}O.exports={BN:b,nacl:m,sha256:function(d){return n?crypto.subtle.digest("SHA-256",d):u.subtle.digest({name:"SHA-256"},d)},fromNano:function(d){if(!b.isBN(d)&&typeof d!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return g.fromWei(d,"gwei")},toNano:function(d){if(!b.isBN(d)&&typeof d!="string")throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return g.toWei(d,"gwei")},bytesToHex:function(d){const w=[];for(let F=0;F<d.byteLength;F++)w.push(l[d[F]]);return w.join("")},hexToBytes:function(d){const w=(d=d.toLowerCase()).length;if(w%2!=0)throw"hex string must have length a multiple of 2";const F=w/2,C=new Uint8Array(F);for(let M=0;M<F;M++){const x=2*M,K=d.substring(x,x+2);if(!c.hasOwnProperty(K))throw new Error("invalid hex character "+K);C[M]=c[K]}return C},stringToBytes:function(d,w=1){let F,C;w===1&&(F=new ArrayBuffer(d.length),C=new Uint8Array(F)),w===2&&(F=new ArrayBuffer(2*d.length),C=new Uint16Array(F)),w===4&&(F=new ArrayBuffer(4*d.length),C=new Uint32Array(F));for(let M=0,x=d.length;M<x;M++)C[M]=d.charCodeAt(M);return new Uint8Array(C.buffer)},crc32c:function(d){const w=function(C,M){C^=4294967295;for(let K=0;K<M.length;K++)C=1&(C=1&(C=1&(C=1&(C=1&(C=1&(C=1&(C=1&(C^=M[K])?C>>>1^2197175160:C>>>1)?C>>>1^2197175160:C>>>1)?C>>>1^2197175160:C>>>1)?C>>>1^2197175160:C>>>1)?C>>>1^2197175160:C>>>1)?C>>>1^2197175160:C>>>1)?C>>>1^2197175160:C>>>1)?C>>>1^2197175160:C>>>1;return 4294967295^C}(0,d),F=new ArrayBuffer(4);return new DataView(F).setUint32(0,w,!1),new Uint8Array(F).reverse()},crc16:function(d){let w=0;const F=new Uint8Array(d.length+2);F.set(d);for(let C of F){let M=128;for(;M>0;)w<<=1,C&M&&(w+=1),M>>=1,w>65535&&(w&=65535,w^=4129)}return new Uint8Array([Math.floor(w/256),w%256])},concatBytes:function(d,w){const F=new Uint8Array(d.length+w.length);return F.set(d),F.set(w,d.length),F},bytesToBase64:function(d){let w,F="";const C=d.length;for(w=2;w<C;w+=3)F+=p[d[w-2]>>2],F+=p[(3&d[w-2])<<4|d[w-1]>>4],F+=p[(15&d[w-1])<<2|d[w]>>6],F+=p[63&d[w]];return w===C+1&&(F+=p[d[w-2]>>2],F+=p[(3&d[w-2])<<4],F+="=="),w===C&&(F+=p[d[w-2]>>2],F+=p[(3&d[w-2])<<4|d[w-1]>>4],F+=p[(15&d[w-1])<<2],F+="="),F},base64ToBytes:function(d){const w=f(d),F=w.length,C=new Uint8Array(F);for(let M=0;M<F;M++)C[M]=w.charCodeAt(M);return C},base64toString:f,stringToBase64:function(d){return typeof self>"u"?y.from(d,"binary").toString("base64"):btoa(d)},compareBytes:function(d,w){return d.toString()===w.toString()},readNBytesUIntFromArray:function(d,w){let F=0;for(let C=0;C<d;C++)F*=256,F+=w[C];return F},keyPairFromSeed:function(d){return m.sign.keyPair.fromSeed(d)},newKeyPair:function(){return m.sign.keyPair()},newSeed:function(){return m.sign.keyPair().secretKey.slice(0,32)}}},function(O,B,s){(function(y,b){function m(r,e){if(!r)throw new Error(e||"Assertion failed")}function g(r,e){r.super_=e;var t=function(){};t.prototype=e.prototype,r.prototype=new t,r.prototype.constructor=r}function n(r,e,t){if(n.isBN(r))return r;this.negative=0,this.words=null,this.length=0,this.red=null,r!==null&&(e!=="le"&&e!=="be"||(t=e,e=10),this._init(r||0,e||10,t||"be"))}var u;typeof y=="object"?y.exports=n:b.BN=n,n.BN=n,n.wordSize=26;try{u=s(4).Buffer}catch{}function l(r,e,t){for(var o=0,a=Math.min(r.length,t),v=0,S=e;S<a;S++){var _,L=r.charCodeAt(S)-48;o<<=4,o|=_=L>=49&&L<=54?L-49+10:L>=17&&L<=22?L-17+10:L,v|=_}return m(!(240&v),"Invalid character in "+r),o}function c(r,e,t,o){for(var a=0,v=0,S=Math.min(r.length,t),_=e;_<S;_++){var L=r.charCodeAt(_)-48;a*=o,v=L>=49?L-49+10:L>=17?L-17+10:L,m(L>=0&&v<o,"Invalid character"),a+=v}return a}function p(r,e){r.words=e.words,r.length=e.length,r.negative=e.negative,r.red=e.red}function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}n.isBN=function(r){return r instanceof n||r!==null&&typeof r=="object"&&r.constructor.wordSize===n.wordSize&&Array.isArray(r.words)},n.max=function(r,e){return r.cmp(e)>0?r:e},n.min=function(r,e){return r.cmp(e)<0?r:e},n.prototype._init=function(r,e,t){if(typeof r=="number")return this._initNumber(r,e,t);if(typeof r=="object")return this._initArray(r,e,t);e==="hex"&&(e=16),m(e===(0|e)&&e>=2&&e<=36);var o=0;(r=r.toString().replace(/\s+/g,""))[0]==="-"&&o++,e===16?this._parseHex(r,o):this._parseBase(r,e,o),r[0]==="-"&&(this.negative=1),this._strip(),t==="le"&&this._initArray(this.toArray(),e,t)},n.prototype._initNumber=function(r,e,t){r<0&&(this.negative=1,r=-r),r<67108864?(this.words=[67108863&r],this.length=1):r<4503599627370496?(this.words=[67108863&r,r/67108864&67108863],this.length=2):(m(r<9007199254740992),this.words=[67108863&r,r/67108864&67108863,1],this.length=3),t==="le"&&this._initArray(this.toArray(),e,t)},n.prototype._initArray=function(r,e,t){if(m(typeof r.length=="number"),r.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(r.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var a,v,S=0;if(t==="be")for(o=r.length-1,a=0;o>=0;o-=3)v=r[o]|r[o-1]<<8|r[o-2]<<16,this.words[a]|=v<<S&67108863,this.words[a+1]=v>>>26-S&67108863,(S+=24)>=26&&(S-=26,a++);else if(t==="le")for(o=0,a=0;o<r.length;o+=3)v=r[o]|r[o+1]<<8|r[o+2]<<16,this.words[a]|=v<<S&67108863,this.words[a+1]=v>>>26-S&67108863,(S+=24)>=26&&(S-=26,a++);return this._strip()},n.prototype._parseHex=function(r,e){this.length=Math.ceil((r.length-e)/6),this.words=new Array(this.length);for(var t=0;t<this.length;t++)this.words[t]=0;var o,a,v=0;for(t=r.length-6,o=0;t>=e;t-=6)a=l(r,t,t+6),this.words[o]|=a<<v&67108863,this.words[o+1]|=a>>>26-v&4194303,(v+=24)>=26&&(v-=26,o++);t+6!==e&&(a=l(r,e,t+6),this.words[o]|=a<<v&67108863,this.words[o+1]|=a>>>26-v&4194303),this._strip()},n.prototype._parseBase=function(r,e,t){this.words=[0],this.length=1;for(var o=0,a=1;a<=67108863;a*=e)o++;o--,a=a/e|0;for(var v=r.length-t,S=v%o,_=Math.min(v,v-S)+t,L=0,R=t;R<_;R+=o)L=c(r,R,R+o,e),this.imuln(a),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L);if(S!==0){var W=1;for(L=c(r,R,r.length,e),R=0;R<S;R++)W*=e;this.imuln(W),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L)}},n.prototype.copy=function(r){r.words=new Array(this.length);for(var e=0;e<this.length;e++)r.words[e]=this.words[e];r.length=this.length,r.negative=this.negative,r.red=this.red},n.prototype._move=function(r){p(r,this)},n.prototype.clone=function(){var r=new n(null);return this.copy(r),r},n.prototype._expand=function(r){for(;this.length<r;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function"?n.prototype[Symbol.for("nodejs.util.inspect.custom")]=f:n.prototype.inspect=f;var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function C(r,e,t){t.negative=e.negative^r.negative;var o=r.length+e.length|0;t.length=o,o=o-1|0;var a=0|r.words[0],v=0|e.words[0],S=a*v,_=67108863&S,L=S/67108864|0;t.words[0]=_;for(var R=1;R<o;R++){for(var W=L>>>26,H=67108863&L,rt=Math.min(R,e.length-1),tt=Math.max(0,R-r.length+1);tt<=rt;tt++){var ft=R-tt|0;W+=(S=(a=0|r.words[ft])*(v=0|e.words[tt])+H)/67108864|0,H=67108863&S}t.words[R]=0|H,L=0|W}return L!==0?t.words[R]=0|L:t.length--,t._strip()}n.prototype.toString=function(r,e){var t;if(e=0|e||1,(r=r||10)===16||r==="hex"){t="";for(var o=0,a=0,v=0;v<this.length;v++){var S=this.words[v],_=(16777215&(S<<o|a)).toString(16);t=(a=S>>>24-o&16777215)!=0||v!==this.length-1?d[6-_.length]+_+t:_+t,(o+=2)>=26&&(o-=26,v--)}for(a!==0&&(t=a.toString(16)+t);t.length%e!=0;)t="0"+t;return this.negative!==0&&(t="-"+t),t}if(r===(0|r)&&r>=2&&r<=36){var L=w[r],R=F[r];t="";var W=this.clone();for(W.negative=0;!W.isZero();){var H=W.modrn(R).toString(r);t=(W=W.idivn(R)).isZero()?H+t:d[L-H.length]+H+t}for(this.isZero()&&(t="0"+t);t.length%e!=0;)t="0"+t;return this.negative!==0&&(t="-"+t),t}m(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var r=this.words[0];return this.length===2?r+=67108864*this.words[1]:this.length===3&&this.words[2]===1?r+=4503599627370496+67108864*this.words[1]:this.length>2&&m(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-r:r},n.prototype.toJSON=function(){return this.toString(16,2)},u&&(n.prototype.toBuffer=function(r,e){return this.toArrayLike(u,r,e)}),n.prototype.toArray=function(r,e){return this.toArrayLike(Array,r,e)},n.prototype.toArrayLike=function(r,e,t){this._strip();var o=this.byteLength(),a=t||Math.max(1,o);m(o<=a,"byte array longer than desired length"),m(a>0,"Requested array length <= 0");var v=function(S,_){return S.allocUnsafe?S.allocUnsafe(_):new S(_)}(r,a);return this["_toArrayLike"+(e==="le"?"LE":"BE")](v,o),v},n.prototype._toArrayLikeLE=function(r,e){for(var t=0,o=0,a=0,v=0;a<this.length;a++){var S=this.words[a]<<v|o;r[t++]=255&S,t<r.length&&(r[t++]=S>>8&255),t<r.length&&(r[t++]=S>>16&255),v===6?(t<r.length&&(r[t++]=S>>24&255),o=0,v=0):(o=S>>>24,v+=2)}if(t<r.length)for(r[t++]=o;t<r.length;)r[t++]=0},n.prototype._toArrayLikeBE=function(r,e){for(var t=r.length-1,o=0,a=0,v=0;a<this.length;a++){var S=this.words[a]<<v|o;r[t--]=255&S,t>=0&&(r[t--]=S>>8&255),t>=0&&(r[t--]=S>>16&255),v===6?(t>=0&&(r[t--]=S>>24&255),o=0,v=0):(o=S>>>24,v+=2)}if(t>=0)for(r[t--]=o;t>=0;)r[t--]=0},Math.clz32?n.prototype._countBits=function(r){return 32-Math.clz32(r)}:n.prototype._countBits=function(r){var e=r,t=0;return e>=4096&&(t+=13,e>>>=13),e>=64&&(t+=7,e>>>=7),e>=8&&(t+=4,e>>>=4),e>=2&&(t+=2,e>>>=2),t+e},n.prototype._zeroBits=function(r){if(r===0)return 26;var e=r,t=0;return(8191&e)==0&&(t+=13,e>>>=13),(127&e)==0&&(t+=7,e>>>=7),(15&e)==0&&(t+=4,e>>>=4),(3&e)==0&&(t+=2,e>>>=2),(1&e)==0&&t++,t},n.prototype.bitLength=function(){var r=this.words[this.length-1],e=this._countBits(r);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,e=0;e<this.length;e++){var t=this._zeroBits(this.words[e]);if(r+=t,t!==26)break}return r},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(r){return this.negative!==0?this.abs().inotn(r).iaddn(1):this.clone()},n.prototype.fromTwos=function(r){return this.testn(r-1)?this.notn(r).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(r){for(;this.length<r.length;)this.words[this.length++]=0;for(var e=0;e<r.length;e++)this.words[e]=this.words[e]|r.words[e];return this._strip()},n.prototype.ior=function(r){return m((this.negative|r.negative)==0),this.iuor(r)},n.prototype.or=function(r){return this.length>r.length?this.clone().ior(r):r.clone().ior(this)},n.prototype.uor=function(r){return this.length>r.length?this.clone().iuor(r):r.clone().iuor(this)},n.prototype.iuand=function(r){var e;e=this.length>r.length?r:this;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]&r.words[t];return this.length=e.length,this._strip()},n.prototype.iand=function(r){return m((this.negative|r.negative)==0),this.iuand(r)},n.prototype.and=function(r){return this.length>r.length?this.clone().iand(r):r.clone().iand(this)},n.prototype.uand=function(r){return this.length>r.length?this.clone().iuand(r):r.clone().iuand(this)},n.prototype.iuxor=function(r){var e,t;this.length>r.length?(e=this,t=r):(e=r,t=this);for(var o=0;o<t.length;o++)this.words[o]=e.words[o]^t.words[o];if(this!==e)for(;o<e.length;o++)this.words[o]=e.words[o];return this.length=e.length,this._strip()},n.prototype.ixor=function(r){return m((this.negative|r.negative)==0),this.iuxor(r)},n.prototype.xor=function(r){return this.length>r.length?this.clone().ixor(r):r.clone().ixor(this)},n.prototype.uxor=function(r){return this.length>r.length?this.clone().iuxor(r):r.clone().iuxor(this)},n.prototype.inotn=function(r){m(typeof r=="number"&&r>=0);var e=0|Math.ceil(r/26),t=r%26;this._expand(e),t>0&&e--;for(var o=0;o<e;o++)this.words[o]=67108863&~this.words[o];return t>0&&(this.words[o]=~this.words[o]&67108863>>26-t),this._strip()},n.prototype.notn=function(r){return this.clone().inotn(r)},n.prototype.setn=function(r,e){m(typeof r=="number"&&r>=0);var t=r/26|0,o=r%26;return this._expand(t+1),this.words[t]=e?this.words[t]|1<<o:this.words[t]&~(1<<o),this._strip()},n.prototype.iadd=function(r){var e,t,o;if(this.negative!==0&&r.negative===0)return this.negative=0,e=this.isub(r),this.negative^=1,this._normSign();if(this.negative===0&&r.negative!==0)return r.negative=0,e=this.isub(r),r.negative=1,e._normSign();this.length>r.length?(t=this,o=r):(t=r,o=this);for(var a=0,v=0;v<o.length;v++)e=(0|t.words[v])+(0|o.words[v])+a,this.words[v]=67108863&e,a=e>>>26;for(;a!==0&&v<t.length;v++)e=(0|t.words[v])+a,this.words[v]=67108863&e,a=e>>>26;if(this.length=t.length,a!==0)this.words[this.length]=a,this.length++;else if(t!==this)for(;v<t.length;v++)this.words[v]=t.words[v];return this},n.prototype.add=function(r){var e;return r.negative!==0&&this.negative===0?(r.negative=0,e=this.sub(r),r.negative^=1,e):r.negative===0&&this.negative!==0?(this.negative=0,e=r.sub(this),this.negative=1,e):this.length>r.length?this.clone().iadd(r):r.clone().iadd(this)},n.prototype.isub=function(r){if(r.negative!==0){r.negative=0;var e=this.iadd(r);return r.negative=1,e._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(r),this.negative=1,this._normSign();var t,o,a=this.cmp(r);if(a===0)return this.negative=0,this.length=1,this.words[0]=0,this;a>0?(t=this,o=r):(t=r,o=this);for(var v=0,S=0;S<o.length;S++)v=(e=(0|t.words[S])-(0|o.words[S])+v)>>26,this.words[S]=67108863&e;for(;v!==0&&S<t.length;S++)v=(e=(0|t.words[S])+v)>>26,this.words[S]=67108863&e;if(v===0&&S<t.length&&t!==this)for(;S<t.length;S++)this.words[S]=t.words[S];return this.length=Math.max(this.length,S),t!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(r){return this.clone().isub(r)};var M=function(r,e,t){var o,a,v,S=r.words,_=e.words,L=t.words,R=0,W=0|S[0],H=8191&W,rt=W>>>13,tt=0|S[1],ft=8191&tt,wt=tt>>>13,Tt=0|S[2],pt=8191&Tt,ct=Tt>>>13,St=0|S[3],Gt=8191&St,mt=St>>>13,kt=0|S[4],oe=8191&kt,_t=kt>>>13,Kt=0|S[5],E=8191&Kt,D=Kt>>>13,T=0|S[6],Z=8191&T,V=T>>>13,J=0|S[7],ot=8191&J,yt=J>>>13,xt=0|S[8],Jt=8191&xt,At=xt>>>13,Lt=0|S[9],ue=8191&Lt,qt=Lt>>>13,ee=0|_[0],se=8191&ee,Ht=ee>>>13,N=0|_[1],P=8191&N,k=N>>>13,A=0|_[2],I=8191&A,$=A>>>13,z=0|_[3],it=8191&z,q=z>>>13,st=0|_[4],It=8191&st,nt=st>>>13,Ct=0|_[5],Nt=8191&Ct,ht=Ct>>>13,Ft=0|_[6],Ut=8191&Ft,dt=Ft>>>13,Dt=0|_[7],Rt=8191&Dt,ut=Dt>>>13,Bt=0|_[8],$t=8191&Bt,lt=Bt>>>13,et=0|_[9],at=8191&et,vt=et>>>13;t.negative=r.negative^e.negative,t.length=19;var bt=(R+(o=Math.imul(H,se))|0)+((8191&(a=(a=Math.imul(H,Ht))+Math.imul(rt,se)|0))<<13)|0;R=((v=Math.imul(rt,Ht))+(a>>>13)|0)+(bt>>>26)|0,bt&=67108863,o=Math.imul(ft,se),a=(a=Math.imul(ft,Ht))+Math.imul(wt,se)|0,v=Math.imul(wt,Ht);var Et=(R+(o=o+Math.imul(H,P)|0)|0)+((8191&(a=(a=a+Math.imul(H,k)|0)+Math.imul(rt,P)|0))<<13)|0;R=((v=v+Math.imul(rt,k)|0)+(a>>>13)|0)+(Et>>>26)|0,Et&=67108863,o=Math.imul(pt,se),a=(a=Math.imul(pt,Ht))+Math.imul(ct,se)|0,v=Math.imul(ct,Ht),o=o+Math.imul(ft,P)|0,a=(a=a+Math.imul(ft,k)|0)+Math.imul(wt,P)|0,v=v+Math.imul(wt,k)|0;var Mt=(R+(o=o+Math.imul(H,I)|0)|0)+((8191&(a=(a=a+Math.imul(H,$)|0)+Math.imul(rt,I)|0))<<13)|0;R=((v=v+Math.imul(rt,$)|0)+(a>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,o=Math.imul(Gt,se),a=(a=Math.imul(Gt,Ht))+Math.imul(mt,se)|0,v=Math.imul(mt,Ht),o=o+Math.imul(pt,P)|0,a=(a=a+Math.imul(pt,k)|0)+Math.imul(ct,P)|0,v=v+Math.imul(ct,k)|0,o=o+Math.imul(ft,I)|0,a=(a=a+Math.imul(ft,$)|0)+Math.imul(wt,I)|0,v=v+Math.imul(wt,$)|0;var Xt=(R+(o=o+Math.imul(H,it)|0)|0)+((8191&(a=(a=a+Math.imul(H,q)|0)+Math.imul(rt,it)|0))<<13)|0;R=((v=v+Math.imul(rt,q)|0)+(a>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,o=Math.imul(oe,se),a=(a=Math.imul(oe,Ht))+Math.imul(_t,se)|0,v=Math.imul(_t,Ht),o=o+Math.imul(Gt,P)|0,a=(a=a+Math.imul(Gt,k)|0)+Math.imul(mt,P)|0,v=v+Math.imul(mt,k)|0,o=o+Math.imul(pt,I)|0,a=(a=a+Math.imul(pt,$)|0)+Math.imul(ct,I)|0,v=v+Math.imul(ct,$)|0,o=o+Math.imul(ft,it)|0,a=(a=a+Math.imul(ft,q)|0)+Math.imul(wt,it)|0,v=v+Math.imul(wt,q)|0;var Qt=(R+(o=o+Math.imul(H,It)|0)|0)+((8191&(a=(a=a+Math.imul(H,nt)|0)+Math.imul(rt,It)|0))<<13)|0;R=((v=v+Math.imul(rt,nt)|0)+(a>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,o=Math.imul(E,se),a=(a=Math.imul(E,Ht))+Math.imul(D,se)|0,v=Math.imul(D,Ht),o=o+Math.imul(oe,P)|0,a=(a=a+Math.imul(oe,k)|0)+Math.imul(_t,P)|0,v=v+Math.imul(_t,k)|0,o=o+Math.imul(Gt,I)|0,a=(a=a+Math.imul(Gt,$)|0)+Math.imul(mt,I)|0,v=v+Math.imul(mt,$)|0,o=o+Math.imul(pt,it)|0,a=(a=a+Math.imul(pt,q)|0)+Math.imul(ct,it)|0,v=v+Math.imul(ct,q)|0,o=o+Math.imul(ft,It)|0,a=(a=a+Math.imul(ft,nt)|0)+Math.imul(wt,It)|0,v=v+Math.imul(wt,nt)|0;var Yt=(R+(o=o+Math.imul(H,Nt)|0)|0)+((8191&(a=(a=a+Math.imul(H,ht)|0)+Math.imul(rt,Nt)|0))<<13)|0;R=((v=v+Math.imul(rt,ht)|0)+(a>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,o=Math.imul(Z,se),a=(a=Math.imul(Z,Ht))+Math.imul(V,se)|0,v=Math.imul(V,Ht),o=o+Math.imul(E,P)|0,a=(a=a+Math.imul(E,k)|0)+Math.imul(D,P)|0,v=v+Math.imul(D,k)|0,o=o+Math.imul(oe,I)|0,a=(a=a+Math.imul(oe,$)|0)+Math.imul(_t,I)|0,v=v+Math.imul(_t,$)|0,o=o+Math.imul(Gt,it)|0,a=(a=a+Math.imul(Gt,q)|0)+Math.imul(mt,it)|0,v=v+Math.imul(mt,q)|0,o=o+Math.imul(pt,It)|0,a=(a=a+Math.imul(pt,nt)|0)+Math.imul(ct,It)|0,v=v+Math.imul(ct,nt)|0,o=o+Math.imul(ft,Nt)|0,a=(a=a+Math.imul(ft,ht)|0)+Math.imul(wt,Nt)|0,v=v+Math.imul(wt,ht)|0;var re=(R+(o=o+Math.imul(H,Ut)|0)|0)+((8191&(a=(a=a+Math.imul(H,dt)|0)+Math.imul(rt,Ut)|0))<<13)|0;R=((v=v+Math.imul(rt,dt)|0)+(a>>>13)|0)+(re>>>26)|0,re&=67108863,o=Math.imul(ot,se),a=(a=Math.imul(ot,Ht))+Math.imul(yt,se)|0,v=Math.imul(yt,Ht),o=o+Math.imul(Z,P)|0,a=(a=a+Math.imul(Z,k)|0)+Math.imul(V,P)|0,v=v+Math.imul(V,k)|0,o=o+Math.imul(E,I)|0,a=(a=a+Math.imul(E,$)|0)+Math.imul(D,I)|0,v=v+Math.imul(D,$)|0,o=o+Math.imul(oe,it)|0,a=(a=a+Math.imul(oe,q)|0)+Math.imul(_t,it)|0,v=v+Math.imul(_t,q)|0,o=o+Math.imul(Gt,It)|0,a=(a=a+Math.imul(Gt,nt)|0)+Math.imul(mt,It)|0,v=v+Math.imul(mt,nt)|0,o=o+Math.imul(pt,Nt)|0,a=(a=a+Math.imul(pt,ht)|0)+Math.imul(ct,Nt)|0,v=v+Math.imul(ct,ht)|0,o=o+Math.imul(ft,Ut)|0,a=(a=a+Math.imul(ft,dt)|0)+Math.imul(wt,Ut)|0,v=v+Math.imul(wt,dt)|0;var ie=(R+(o=o+Math.imul(H,Rt)|0)|0)+((8191&(a=(a=a+Math.imul(H,ut)|0)+Math.imul(rt,Rt)|0))<<13)|0;R=((v=v+Math.imul(rt,ut)|0)+(a>>>13)|0)+(ie>>>26)|0,ie&=67108863,o=Math.imul(Jt,se),a=(a=Math.imul(Jt,Ht))+Math.imul(At,se)|0,v=Math.imul(At,Ht),o=o+Math.imul(ot,P)|0,a=(a=a+Math.imul(ot,k)|0)+Math.imul(yt,P)|0,v=v+Math.imul(yt,k)|0,o=o+Math.imul(Z,I)|0,a=(a=a+Math.imul(Z,$)|0)+Math.imul(V,I)|0,v=v+Math.imul(V,$)|0,o=o+Math.imul(E,it)|0,a=(a=a+Math.imul(E,q)|0)+Math.imul(D,it)|0,v=v+Math.imul(D,q)|0,o=o+Math.imul(oe,It)|0,a=(a=a+Math.imul(oe,nt)|0)+Math.imul(_t,It)|0,v=v+Math.imul(_t,nt)|0,o=o+Math.imul(Gt,Nt)|0,a=(a=a+Math.imul(Gt,ht)|0)+Math.imul(mt,Nt)|0,v=v+Math.imul(mt,ht)|0,o=o+Math.imul(pt,Ut)|0,a=(a=a+Math.imul(pt,dt)|0)+Math.imul(ct,Ut)|0,v=v+Math.imul(ct,dt)|0,o=o+Math.imul(ft,Rt)|0,a=(a=a+Math.imul(ft,ut)|0)+Math.imul(wt,Rt)|0,v=v+Math.imul(wt,ut)|0;var ne=(R+(o=o+Math.imul(H,$t)|0)|0)+((8191&(a=(a=a+Math.imul(H,lt)|0)+Math.imul(rt,$t)|0))<<13)|0;R=((v=v+Math.imul(rt,lt)|0)+(a>>>13)|0)+(ne>>>26)|0,ne&=67108863,o=Math.imul(ue,se),a=(a=Math.imul(ue,Ht))+Math.imul(qt,se)|0,v=Math.imul(qt,Ht),o=o+Math.imul(Jt,P)|0,a=(a=a+Math.imul(Jt,k)|0)+Math.imul(At,P)|0,v=v+Math.imul(At,k)|0,o=o+Math.imul(ot,I)|0,a=(a=a+Math.imul(ot,$)|0)+Math.imul(yt,I)|0,v=v+Math.imul(yt,$)|0,o=o+Math.imul(Z,it)|0,a=(a=a+Math.imul(Z,q)|0)+Math.imul(V,it)|0,v=v+Math.imul(V,q)|0,o=o+Math.imul(E,It)|0,a=(a=a+Math.imul(E,nt)|0)+Math.imul(D,It)|0,v=v+Math.imul(D,nt)|0,o=o+Math.imul(oe,Nt)|0,a=(a=a+Math.imul(oe,ht)|0)+Math.imul(_t,Nt)|0,v=v+Math.imul(_t,ht)|0,o=o+Math.imul(Gt,Ut)|0,a=(a=a+Math.imul(Gt,dt)|0)+Math.imul(mt,Ut)|0,v=v+Math.imul(mt,dt)|0,o=o+Math.imul(pt,Rt)|0,a=(a=a+Math.imul(pt,ut)|0)+Math.imul(ct,Rt)|0,v=v+Math.imul(ct,ut)|0,o=o+Math.imul(ft,$t)|0,a=(a=a+Math.imul(ft,lt)|0)+Math.imul(wt,$t)|0,v=v+Math.imul(wt,lt)|0;var Wt=(R+(o=o+Math.imul(H,at)|0)|0)+((8191&(a=(a=a+Math.imul(H,vt)|0)+Math.imul(rt,at)|0))<<13)|0;R=((v=v+Math.imul(rt,vt)|0)+(a>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,o=Math.imul(ue,P),a=(a=Math.imul(ue,k))+Math.imul(qt,P)|0,v=Math.imul(qt,k),o=o+Math.imul(Jt,I)|0,a=(a=a+Math.imul(Jt,$)|0)+Math.imul(At,I)|0,v=v+Math.imul(At,$)|0,o=o+Math.imul(ot,it)|0,a=(a=a+Math.imul(ot,q)|0)+Math.imul(yt,it)|0,v=v+Math.imul(yt,q)|0,o=o+Math.imul(Z,It)|0,a=(a=a+Math.imul(Z,nt)|0)+Math.imul(V,It)|0,v=v+Math.imul(V,nt)|0,o=o+Math.imul(E,Nt)|0,a=(a=a+Math.imul(E,ht)|0)+Math.imul(D,Nt)|0,v=v+Math.imul(D,ht)|0,o=o+Math.imul(oe,Ut)|0,a=(a=a+Math.imul(oe,dt)|0)+Math.imul(_t,Ut)|0,v=v+Math.imul(_t,dt)|0,o=o+Math.imul(Gt,Rt)|0,a=(a=a+Math.imul(Gt,ut)|0)+Math.imul(mt,Rt)|0,v=v+Math.imul(mt,ut)|0,o=o+Math.imul(pt,$t)|0,a=(a=a+Math.imul(pt,lt)|0)+Math.imul(ct,$t)|0,v=v+Math.imul(ct,lt)|0;var gt=(R+(o=o+Math.imul(ft,at)|0)|0)+((8191&(a=(a=a+Math.imul(ft,vt)|0)+Math.imul(wt,at)|0))<<13)|0;R=((v=v+Math.imul(wt,vt)|0)+(a>>>13)|0)+(gt>>>26)|0,gt&=67108863,o=Math.imul(ue,I),a=(a=Math.imul(ue,$))+Math.imul(qt,I)|0,v=Math.imul(qt,$),o=o+Math.imul(Jt,it)|0,a=(a=a+Math.imul(Jt,q)|0)+Math.imul(At,it)|0,v=v+Math.imul(At,q)|0,o=o+Math.imul(ot,It)|0,a=(a=a+Math.imul(ot,nt)|0)+Math.imul(yt,It)|0,v=v+Math.imul(yt,nt)|0,o=o+Math.imul(Z,Nt)|0,a=(a=a+Math.imul(Z,ht)|0)+Math.imul(V,Nt)|0,v=v+Math.imul(V,ht)|0,o=o+Math.imul(E,Ut)|0,a=(a=a+Math.imul(E,dt)|0)+Math.imul(D,Ut)|0,v=v+Math.imul(D,dt)|0,o=o+Math.imul(oe,Rt)|0,a=(a=a+Math.imul(oe,ut)|0)+Math.imul(_t,Rt)|0,v=v+Math.imul(_t,ut)|0,o=o+Math.imul(Gt,$t)|0,a=(a=a+Math.imul(Gt,lt)|0)+Math.imul(mt,$t)|0,v=v+Math.imul(mt,lt)|0;var Pt=(R+(o=o+Math.imul(pt,at)|0)|0)+((8191&(a=(a=a+Math.imul(pt,vt)|0)+Math.imul(ct,at)|0))<<13)|0;R=((v=v+Math.imul(ct,vt)|0)+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,o=Math.imul(ue,it),a=(a=Math.imul(ue,q))+Math.imul(qt,it)|0,v=Math.imul(qt,q),o=o+Math.imul(Jt,It)|0,a=(a=a+Math.imul(Jt,nt)|0)+Math.imul(At,It)|0,v=v+Math.imul(At,nt)|0,o=o+Math.imul(ot,Nt)|0,a=(a=a+Math.imul(ot,ht)|0)+Math.imul(yt,Nt)|0,v=v+Math.imul(yt,ht)|0,o=o+Math.imul(Z,Ut)|0,a=(a=a+Math.imul(Z,dt)|0)+Math.imul(V,Ut)|0,v=v+Math.imul(V,dt)|0,o=o+Math.imul(E,Rt)|0,a=(a=a+Math.imul(E,ut)|0)+Math.imul(D,Rt)|0,v=v+Math.imul(D,ut)|0,o=o+Math.imul(oe,$t)|0,a=(a=a+Math.imul(oe,lt)|0)+Math.imul(_t,$t)|0,v=v+Math.imul(_t,lt)|0;var jt=(R+(o=o+Math.imul(Gt,at)|0)|0)+((8191&(a=(a=a+Math.imul(Gt,vt)|0)+Math.imul(mt,at)|0))<<13)|0;R=((v=v+Math.imul(mt,vt)|0)+(a>>>13)|0)+(jt>>>26)|0,jt&=67108863,o=Math.imul(ue,It),a=(a=Math.imul(ue,nt))+Math.imul(qt,It)|0,v=Math.imul(qt,nt),o=o+Math.imul(Jt,Nt)|0,a=(a=a+Math.imul(Jt,ht)|0)+Math.imul(At,Nt)|0,v=v+Math.imul(At,ht)|0,o=o+Math.imul(ot,Ut)|0,a=(a=a+Math.imul(ot,dt)|0)+Math.imul(yt,Ut)|0,v=v+Math.imul(yt,dt)|0,o=o+Math.imul(Z,Rt)|0,a=(a=a+Math.imul(Z,ut)|0)+Math.imul(V,Rt)|0,v=v+Math.imul(V,ut)|0,o=o+Math.imul(E,$t)|0,a=(a=a+Math.imul(E,lt)|0)+Math.imul(D,$t)|0,v=v+Math.imul(D,lt)|0;var Ot=(R+(o=o+Math.imul(oe,at)|0)|0)+((8191&(a=(a=a+Math.imul(oe,vt)|0)+Math.imul(_t,at)|0))<<13)|0;R=((v=v+Math.imul(_t,vt)|0)+(a>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,o=Math.imul(ue,Nt),a=(a=Math.imul(ue,ht))+Math.imul(qt,Nt)|0,v=Math.imul(qt,ht),o=o+Math.imul(Jt,Ut)|0,a=(a=a+Math.imul(Jt,dt)|0)+Math.imul(At,Ut)|0,v=v+Math.imul(At,dt)|0,o=o+Math.imul(ot,Rt)|0,a=(a=a+Math.imul(ot,ut)|0)+Math.imul(yt,Rt)|0,v=v+Math.imul(yt,ut)|0,o=o+Math.imul(Z,$t)|0,a=(a=a+Math.imul(Z,lt)|0)+Math.imul(V,$t)|0,v=v+Math.imul(V,lt)|0;var zt=(R+(o=o+Math.imul(E,at)|0)|0)+((8191&(a=(a=a+Math.imul(E,vt)|0)+Math.imul(D,at)|0))<<13)|0;R=((v=v+Math.imul(D,vt)|0)+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,o=Math.imul(ue,Ut),a=(a=Math.imul(ue,dt))+Math.imul(qt,Ut)|0,v=Math.imul(qt,dt),o=o+Math.imul(Jt,Rt)|0,a=(a=a+Math.imul(Jt,ut)|0)+Math.imul(At,Rt)|0,v=v+Math.imul(At,ut)|0,o=o+Math.imul(ot,$t)|0,a=(a=a+Math.imul(ot,lt)|0)+Math.imul(yt,$t)|0,v=v+Math.imul(yt,lt)|0;var Zt=(R+(o=o+Math.imul(Z,at)|0)|0)+((8191&(a=(a=a+Math.imul(Z,vt)|0)+Math.imul(V,at)|0))<<13)|0;R=((v=v+Math.imul(V,vt)|0)+(a>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,o=Math.imul(ue,Rt),a=(a=Math.imul(ue,ut))+Math.imul(qt,Rt)|0,v=Math.imul(qt,ut),o=o+Math.imul(Jt,$t)|0,a=(a=a+Math.imul(Jt,lt)|0)+Math.imul(At,$t)|0,v=v+Math.imul(At,lt)|0;var ae=(R+(o=o+Math.imul(ot,at)|0)|0)+((8191&(a=(a=a+Math.imul(ot,vt)|0)+Math.imul(yt,at)|0))<<13)|0;R=((v=v+Math.imul(yt,vt)|0)+(a>>>13)|0)+(ae>>>26)|0,ae&=67108863,o=Math.imul(ue,$t),a=(a=Math.imul(ue,lt))+Math.imul(qt,$t)|0,v=Math.imul(qt,lt);var le=(R+(o=o+Math.imul(Jt,at)|0)|0)+((8191&(a=(a=a+Math.imul(Jt,vt)|0)+Math.imul(At,at)|0))<<13)|0;R=((v=v+Math.imul(At,vt)|0)+(a>>>13)|0)+(le>>>26)|0,le&=67108863;var fe=(R+(o=Math.imul(ue,at))|0)+((8191&(a=(a=Math.imul(ue,vt))+Math.imul(qt,at)|0))<<13)|0;return R=((v=Math.imul(qt,vt))+(a>>>13)|0)+(fe>>>26)|0,fe&=67108863,L[0]=bt,L[1]=Et,L[2]=Mt,L[3]=Xt,L[4]=Qt,L[5]=Yt,L[6]=re,L[7]=ie,L[8]=ne,L[9]=Wt,L[10]=gt,L[11]=Pt,L[12]=jt,L[13]=Ot,L[14]=zt,L[15]=Zt,L[16]=ae,L[17]=le,L[18]=fe,R!==0&&(L[19]=R,t.length++),t};function x(r,e,t){t.negative=e.negative^r.negative,t.length=r.length+e.length;for(var o=0,a=0,v=0;v<t.length-1;v++){var S=a;a=0;for(var _=67108863&o,L=Math.min(v,e.length-1),R=Math.max(0,v-r.length+1);R<=L;R++){var W=v-R,H=(0|r.words[W])*(0|e.words[R]),rt=67108863&H;_=67108863&(rt=rt+_|0),a+=(S=(S=S+(H/67108864|0)|0)+(rt>>>26)|0)>>>26,S&=67108863}t.words[v]=_,o=S,S=a}return o!==0?t.words[v]=o:t.length--,t._strip()}function K(r,e,t){return x(r,e,t)}Math.imul||(M=C),n.prototype.mulTo=function(r,e){var t=this.length+r.length;return this.length===10&&r.length===10?M(this,r,e):t<63?C(this,r,e):t<1024?x(this,r,e):K(this,r,e)},n.prototype.mul=function(r){var e=new n(null);return e.words=new Array(this.length+r.length),this.mulTo(r,e)},n.prototype.mulf=function(r){var e=new n(null);return e.words=new Array(this.length+r.length),K(this,r,e)},n.prototype.imul=function(r){return this.clone().mulTo(r,this)},n.prototype.imuln=function(r){var e=r<0;e&&(r=-r),m(typeof r=="number"),m(r<67108864);for(var t=0,o=0;o<this.length;o++){var a=(0|this.words[o])*r,v=(67108863&a)+(67108863&t);t>>=26,t+=a/67108864|0,t+=v>>>26,this.words[o]=67108863&v}return t!==0&&(this.words[o]=t,this.length++),e?this.ineg():this},n.prototype.muln=function(r){return this.clone().imuln(r)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(r){var e=function(v){for(var S=new Array(v.bitLength()),_=0;_<S.length;_++){var L=_/26|0,R=_%26;S[_]=v.words[L]>>>R&1}return S}(r);if(e.length===0)return new n(1);for(var t=this,o=0;o<e.length&&e[o]===0;o++,t=t.sqr());if(++o<e.length)for(var a=t.sqr();o<e.length;o++,a=a.sqr())e[o]!==0&&(t=t.mul(a));return t},n.prototype.iushln=function(r){m(typeof r=="number"&&r>=0);var e,t=r%26,o=(r-t)/26,a=67108863>>>26-t<<26-t;if(t!==0){var v=0;for(e=0;e<this.length;e++){var S=this.words[e]&a,_=(0|this.words[e])-S<<t;this.words[e]=_|v,v=S>>>26-t}v&&(this.words[e]=v,this.length++)}if(o!==0){for(e=this.length-1;e>=0;e--)this.words[e+o]=this.words[e];for(e=0;e<o;e++)this.words[e]=0;this.length+=o}return this._strip()},n.prototype.ishln=function(r){return m(this.negative===0),this.iushln(r)},n.prototype.iushrn=function(r,e,t){var o;m(typeof r=="number"&&r>=0),o=e?(e-e%26)/26:0;var a=r%26,v=Math.min((r-a)/26,this.length),S=67108863^67108863>>>a<<a,_=t;if(o-=v,o=Math.max(0,o),_){for(var L=0;L<v;L++)_.words[L]=this.words[L];_.length=v}if(v!==0)if(this.length>v)for(this.length-=v,L=0;L<this.length;L++)this.words[L]=this.words[L+v];else this.words[0]=0,this.length=1;var R=0;for(L=this.length-1;L>=0&&(R!==0||L>=o);L--){var W=0|this.words[L];this.words[L]=R<<26-a|W>>>a,R=W&S}return _&&R!==0&&(_.words[_.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(r,e,t){return m(this.negative===0),this.iushrn(r,e,t)},n.prototype.shln=function(r){return this.clone().ishln(r)},n.prototype.ushln=function(r){return this.clone().iushln(r)},n.prototype.shrn=function(r){return this.clone().ishrn(r)},n.prototype.ushrn=function(r){return this.clone().iushrn(r)},n.prototype.testn=function(r){m(typeof r=="number"&&r>=0);var e=r%26,t=(r-e)/26,o=1<<e;return!(this.length<=t||!(this.words[t]&o))},n.prototype.imaskn=function(r){m(typeof r=="number"&&r>=0);var e=r%26,t=(r-e)/26;if(m(this.negative===0,"imaskn works only with positive numbers"),this.length<=t)return this;if(e!==0&&t++,this.length=Math.min(t,this.length),e!==0){var o=67108863^67108863>>>e<<e;this.words[this.length-1]&=o}return this._strip()},n.prototype.maskn=function(r){return this.clone().imaskn(r)},n.prototype.iaddn=function(r){return m(typeof r=="number"),m(r<67108864),r<0?this.isubn(-r):this.negative!==0?this.length===1&&(0|this.words[0])<=r?(this.words[0]=r-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(r),this.negative=1,this):this._iaddn(r)},n.prototype._iaddn=function(r){this.words[0]+=r;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(r){if(m(typeof r=="number"),m(r<67108864),r<0)return this.iaddn(-r);if(this.negative!==0)return this.negative=0,this.iaddn(r),this.negative=1,this;if(this.words[0]-=r,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},n.prototype.addn=function(r){return this.clone().iaddn(r)},n.prototype.subn=function(r){return this.clone().isubn(r)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(r,e,t){var o,a,v=r.length+t;this._expand(v);var S=0;for(o=0;o<r.length;o++){a=(0|this.words[o+t])+S;var _=(0|r.words[o])*e;S=((a-=67108863&_)>>26)-(_/67108864|0),this.words[o+t]=67108863&a}for(;o<this.length-t;o++)S=(a=(0|this.words[o+t])+S)>>26,this.words[o+t]=67108863&a;if(S===0)return this._strip();for(m(S===-1),S=0,o=0;o<this.length;o++)S=(a=-(0|this.words[o])+S)>>26,this.words[o]=67108863&a;return this.negative=1,this._strip()},n.prototype._wordDiv=function(r,e){var t=(this.length,r.length),o=this.clone(),a=r,v=0|a.words[a.length-1];(t=26-this._countBits(v))!=0&&(a=a.ushln(t),o.iushln(t),v=0|a.words[a.length-1]);var S,_=o.length-a.length;if(e!=="mod"){(S=new n(null)).length=_+1,S.words=new Array(S.length);for(var L=0;L<S.length;L++)S.words[L]=0}var R=o.clone()._ishlnsubmul(a,1,_);R.negative===0&&(o=R,S&&(S.words[_]=1));for(var W=_-1;W>=0;W--){var H=67108864*(0|o.words[a.length+W])+(0|o.words[a.length+W-1]);for(H=Math.min(H/v|0,67108863),o._ishlnsubmul(a,H,W);o.negative!==0;)H--,o.negative=0,o._ishlnsubmul(a,1,W),o.isZero()||(o.negative^=1);S&&(S.words[W]=H)}return S&&S._strip(),o._strip(),e!=="div"&&t!==0&&o.iushrn(t),{div:S||null,mod:o}},n.prototype.divmod=function(r,e,t){return m(!r.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:this.negative!==0&&r.negative===0?(v=this.neg().divmod(r,e),e!=="mod"&&(o=v.div.neg()),e!=="div"&&(a=v.mod.neg(),t&&a.negative!==0&&a.iadd(r)),{div:o,mod:a}):this.negative===0&&r.negative!==0?(v=this.divmod(r.neg(),e),e!=="mod"&&(o=v.div.neg()),{div:o,mod:v.mod}):(this.negative&r.negative)!=0?(v=this.neg().divmod(r.neg(),e),e!=="div"&&(a=v.mod.neg(),t&&a.negative!==0&&a.isub(r)),{div:v.div,mod:a}):r.length>this.length||this.cmp(r)<0?{div:new n(0),mod:this}:r.length===1?e==="div"?{div:this.divn(r.words[0]),mod:null}:e==="mod"?{div:null,mod:new n(this.modrn(r.words[0]))}:{div:this.divn(r.words[0]),mod:new n(this.modrn(r.words[0]))}:this._wordDiv(r,e);var o,a,v},n.prototype.div=function(r){return this.divmod(r,"div",!1).div},n.prototype.mod=function(r){return this.divmod(r,"mod",!1).mod},n.prototype.umod=function(r){return this.divmod(r,"mod",!0).mod},n.prototype.divRound=function(r){var e=this.divmod(r);if(e.mod.isZero())return e.div;var t=e.div.negative!==0?e.mod.isub(r):e.mod,o=r.ushrn(1),a=r.andln(1),v=t.cmp(o);return v<0||a===1&&v===0?e.div:e.div.negative!==0?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modrn=function(r){var e=r<0;e&&(r=-r),m(r<=67108863);for(var t=67108864%r,o=0,a=this.length-1;a>=0;a--)o=(t*o+(0|this.words[a]))%r;return e?-o:o},n.prototype.modn=function(r){return this.modrn(r)},n.prototype.idivn=function(r){var e=r<0;e&&(r=-r),m(r<=67108863);for(var t=0,o=this.length-1;o>=0;o--){var a=(0|this.words[o])+67108864*t;this.words[o]=a/r|0,t=a%r}return this._strip(),e?this.ineg():this},n.prototype.divn=function(r){return this.clone().idivn(r)},n.prototype.egcd=function(r){m(r.negative===0),m(!r.isZero());var e=this,t=r.clone();e=e.negative!==0?e.umod(r):e.clone();for(var o=new n(1),a=new n(0),v=new n(0),S=new n(1),_=0;e.isEven()&&t.isEven();)e.iushrn(1),t.iushrn(1),++_;for(var L=t.clone(),R=e.clone();!e.isZero();){for(var W=0,H=1;(e.words[0]&H)==0&&W<26;++W,H<<=1);if(W>0)for(e.iushrn(W);W-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(L),a.isub(R)),o.iushrn(1),a.iushrn(1);for(var rt=0,tt=1;(t.words[0]&tt)==0&&rt<26;++rt,tt<<=1);if(rt>0)for(t.iushrn(rt);rt-- >0;)(v.isOdd()||S.isOdd())&&(v.iadd(L),S.isub(R)),v.iushrn(1),S.iushrn(1);e.cmp(t)>=0?(e.isub(t),o.isub(v),a.isub(S)):(t.isub(e),v.isub(o),S.isub(a))}return{a:v,b:S,gcd:t.iushln(_)}},n.prototype._invmp=function(r){m(r.negative===0),m(!r.isZero());var e=this,t=r.clone();e=e.negative!==0?e.umod(r):e.clone();for(var o,a=new n(1),v=new n(0),S=t.clone();e.cmpn(1)>0&&t.cmpn(1)>0;){for(var _=0,L=1;(e.words[0]&L)==0&&_<26;++_,L<<=1);if(_>0)for(e.iushrn(_);_-- >0;)a.isOdd()&&a.iadd(S),a.iushrn(1);for(var R=0,W=1;(t.words[0]&W)==0&&R<26;++R,W<<=1);if(R>0)for(t.iushrn(R);R-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);e.cmp(t)>=0?(e.isub(t),a.isub(v)):(t.isub(e),v.isub(a))}return(o=e.cmpn(1)===0?a:v).cmpn(0)<0&&o.iadd(r),o},n.prototype.gcd=function(r){if(this.isZero())return r.abs();if(r.isZero())return this.abs();var e=this.clone(),t=r.clone();e.negative=0,t.negative=0;for(var o=0;e.isEven()&&t.isEven();o++)e.iushrn(1),t.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;t.isEven();)t.iushrn(1);var a=e.cmp(t);if(a<0){var v=e;e=t,t=v}else if(a===0||t.cmpn(1)===0)break;e.isub(t)}return t.iushln(o)},n.prototype.invm=function(r){return this.egcd(r).a.umod(r)},n.prototype.isEven=function(){return(1&this.words[0])==0},n.prototype.isOdd=function(){return(1&this.words[0])==1},n.prototype.andln=function(r){return this.words[0]&r},n.prototype.bincn=function(r){m(typeof r=="number");var e=r%26,t=(r-e)/26,o=1<<e;if(this.length<=t)return this._expand(t+1),this.words[t]|=o,this;for(var a=o,v=t;a!==0&&v<this.length;v++){var S=0|this.words[v];a=(S+=a)>>>26,S&=67108863,this.words[v]=S}return a!==0&&(this.words[v]=a,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(r){var e,t=r<0;if(this.negative!==0&&!t)return-1;if(this.negative===0&&t)return 1;if(this._strip(),this.length>1)e=1;else{t&&(r=-r),m(r<=67108863,"Number is too big");var o=0|this.words[0];e=o===r?0:o<r?-1:1}return this.negative!==0?0|-e:e},n.prototype.cmp=function(r){if(this.negative!==0&&r.negative===0)return-1;if(this.negative===0&&r.negative!==0)return 1;var e=this.ucmp(r);return this.negative!==0?0|-e:e},n.prototype.ucmp=function(r){if(this.length>r.length)return 1;if(this.length<r.length)return-1;for(var e=0,t=this.length-1;t>=0;t--){var o=0|this.words[t],a=0|r.words[t];if(o!==a){o<a?e=-1:o>a&&(e=1);break}}return e},n.prototype.gtn=function(r){return this.cmpn(r)===1},n.prototype.gt=function(r){return this.cmp(r)===1},n.prototype.gten=function(r){return this.cmpn(r)>=0},n.prototype.gte=function(r){return this.cmp(r)>=0},n.prototype.ltn=function(r){return this.cmpn(r)===-1},n.prototype.lt=function(r){return this.cmp(r)===-1},n.prototype.lten=function(r){return this.cmpn(r)<=0},n.prototype.lte=function(r){return this.cmp(r)<=0},n.prototype.eqn=function(r){return this.cmpn(r)===0},n.prototype.eq=function(r){return this.cmp(r)===0},n.red=function(r){return new i(r)},n.prototype.toRed=function(r){return m(!this.red,"Already a number in reduction context"),m(this.negative===0,"red works only with positives"),r.convertTo(this)._forceRed(r)},n.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(r){return this.red=r,this},n.prototype.forceRed=function(r){return m(!this.red,"Already a number in reduction context"),this._forceRed(r)},n.prototype.redAdd=function(r){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,r)},n.prototype.redIAdd=function(r){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,r)},n.prototype.redSub=function(r){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,r)},n.prototype.redISub=function(r){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,r)},n.prototype.redShl=function(r){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,r)},n.prototype.redMul=function(r){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.mul(this,r)},n.prototype.redIMul=function(r){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,r),this.red.imul(this,r)},n.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(r){return m(this.red&&!r.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,r)};var j={k256:null,p224:null,p192:null,p25519:null};function U(r,e){this.name=r,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function G(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function X(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Y(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function i(r){if(typeof r=="string"){var e=n._prime(r);this.m=e.p,this.prime=e}else m(r.gtn(1),"modulus must be greater than 1"),this.m=r,this.prime=null}function h(r){i.call(this,r),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}U.prototype._tmp=function(){var r=new n(null);return r.words=new Array(Math.ceil(this.n/13)),r},U.prototype.ireduce=function(r){var e,t=r;do this.split(t,this.tmp),e=(t=(t=this.imulK(t)).iadd(this.tmp)).bitLength();while(e>this.n);var o=e<this.n?-1:t.ucmp(this.p);return o===0?(t.words[0]=0,t.length=1):o>0?t.isub(this.p):t._strip(),t},U.prototype.split=function(r,e){r.iushrn(this.n,0,e)},U.prototype.imulK=function(r){return r.imul(this.k)},g(G,U),G.prototype.split=function(r,e){for(var t=4194303,o=Math.min(r.length,9),a=0;a<o;a++)e.words[a]=r.words[a];if(e.length=o,r.length<=9)return r.words[0]=0,void(r.length=1);var v=r.words[9];for(e.words[e.length++]=v&t,a=10;a<r.length;a++){var S=0|r.words[a];r.words[a-10]=(S&t)<<4|v>>>22,v=S}v>>>=22,r.words[a-10]=v,v===0&&r.length>10?r.length-=10:r.length-=9},G.prototype.imulK=function(r){r.words[r.length]=0,r.words[r.length+1]=0,r.length+=2;for(var e=0,t=0;t<r.length;t++){var o=0|r.words[t];e+=977*o,r.words[t]=67108863&e,e=64*o+(e/67108864|0)}return r.words[r.length-1]===0&&(r.length--,r.words[r.length-1]===0&&r.length--),r},g(X,U),g(Y,U),g(Q,U),Q.prototype.imulK=function(r){for(var e=0,t=0;t<r.length;t++){var o=19*(0|r.words[t])+e,a=67108863&o;o>>>=26,r.words[t]=a,e=o}return e!==0&&(r.words[r.length++]=e),r},n._prime=function(r){if(j[r])return j[r];var e;if(r==="k256")e=new G;else if(r==="p224")e=new X;else if(r==="p192")e=new Y;else{if(r!=="p25519")throw new Error("Unknown prime "+r);e=new Q}return j[r]=e,e},i.prototype._verify1=function(r){m(r.negative===0,"red works only with positives"),m(r.red,"red works only with red numbers")},i.prototype._verify2=function(r,e){m((r.negative|e.negative)==0,"red works only with positives"),m(r.red&&r.red===e.red,"red works only with red numbers")},i.prototype.imod=function(r){return this.prime?this.prime.ireduce(r)._forceRed(this):(p(r,r.umod(this.m)._forceRed(this)),r)},i.prototype.neg=function(r){return r.isZero()?r.clone():this.m.sub(r)._forceRed(this)},i.prototype.add=function(r,e){this._verify2(r,e);var t=r.add(e);return t.cmp(this.m)>=0&&t.isub(this.m),t._forceRed(this)},i.prototype.iadd=function(r,e){this._verify2(r,e);var t=r.iadd(e);return t.cmp(this.m)>=0&&t.isub(this.m),t},i.prototype.sub=function(r,e){this._verify2(r,e);var t=r.sub(e);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},i.prototype.isub=function(r,e){this._verify2(r,e);var t=r.isub(e);return t.cmpn(0)<0&&t.iadd(this.m),t},i.prototype.shl=function(r,e){return this._verify1(r),this.imod(r.ushln(e))},i.prototype.imul=function(r,e){return this._verify2(r,e),this.imod(r.imul(e))},i.prototype.mul=function(r,e){return this._verify2(r,e),this.imod(r.mul(e))},i.prototype.isqr=function(r){return this.imul(r,r.clone())},i.prototype.sqr=function(r){return this.mul(r,r)},i.prototype.sqrt=function(r){if(r.isZero())return r.clone();var e=this.m.andln(3);if(m(e%2==1),e===3){var t=this.m.add(new n(1)).iushrn(2);return this.pow(r,t)}for(var o=this.m.subn(1),a=0;!o.isZero()&&o.andln(1)===0;)a++,o.iushrn(1);m(!o.isZero());var v=new n(1).toRed(this),S=v.redNeg(),_=this.m.subn(1).iushrn(1),L=this.m.bitLength();for(L=new n(2*L*L).toRed(this);this.pow(L,_).cmp(S)!==0;)L.redIAdd(S);for(var R=this.pow(L,o),W=this.pow(r,o.addn(1).iushrn(1)),H=this.pow(r,o),rt=a;H.cmp(v)!==0;){for(var tt=H,ft=0;tt.cmp(v)!==0;ft++)tt=tt.redSqr();m(ft<rt);var wt=this.pow(R,new n(1).iushln(rt-ft-1));W=W.redMul(wt),R=wt.redSqr(),H=H.redMul(R),rt=ft}return W},i.prototype.invm=function(r){var e=r._invmp(this.m);return e.negative!==0?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},i.prototype.pow=function(r,e){if(e.isZero())return new n(1).toRed(this);if(e.cmpn(1)===0)return r.clone();var t=new Array(16);t[0]=new n(1).toRed(this),t[1]=r;for(var o=2;o<t.length;o++)t[o]=this.mul(t[o-1],r);var a=t[0],v=0,S=0,_=e.bitLength()%26;for(_===0&&(_=26),o=e.length-1;o>=0;o--){for(var L=e.words[o],R=_-1;R>=0;R--){var W=L>>R&1;a!==t[0]&&(a=this.sqr(a)),W!==0||v!==0?(v<<=1,v|=W,(++S==4||o===0&&R===0)&&(a=this.mul(a,t[v]),S=0,v=0)):S=0}_=26}return a},i.prototype.convertTo=function(r){var e=r.umod(this.m);return e===r?e.clone():e},i.prototype.convertFrom=function(r){var e=r.clone();return e.red=null,e},n.mont=function(r){return new h(r)},g(h,i),h.prototype.convertTo=function(r){return this.imod(r.ushln(this.shift))},h.prototype.convertFrom=function(r){var e=this.imod(r.mul(this.rinv));return e.red=null,e},h.prototype.imul=function(r,e){if(r.isZero()||e.isZero())return r.words[0]=0,r.length=1,r;var t=r.imul(e),o=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=t.isub(o).iushrn(this.shift),v=a;return a.cmp(this.m)>=0?v=a.isub(this.m):a.cmpn(0)<0&&(v=a.iadd(this.m)),v._forceRed(this)},h.prototype.mul=function(r,e){if(r.isZero()||e.isZero())return new n(0)._forceRed(this);var t=r.mul(e),o=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=t.isub(o).iushrn(this.shift),v=a;return a.cmp(this.m)>=0?v=a.isub(this.m):a.cmpn(0)<0&&(v=a.iadd(this.m)),v._forceRed(this)},h.prototype.invm=function(r){return this.imod(r._invmp(this.m).mul(this.r2))._forceRed(this)}})(O=s.nmd(O),this)},()=>{},(O,B,s)=>{(function(y){var b=function(N){var P,k=new Float64Array(16);if(N)for(P=0;P<N.length;P++)k[P]=N[P];return k},m=function(){throw new Error("no PRNG")},g=new Uint8Array(16),n=new Uint8Array(32);n[0]=9;var u=b(),l=b([1]),c=b([56129,1]),p=b([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=b([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=b([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),w=b([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),F=b([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function C(N,P,k,A){N[P]=k>>24&255,N[P+1]=k>>16&255,N[P+2]=k>>8&255,N[P+3]=255&k,N[P+4]=A>>24&255,N[P+5]=A>>16&255,N[P+6]=A>>8&255,N[P+7]=255&A}function M(N,P,k,A,I){var $,z=0;for($=0;$<I;$++)z|=N[P+$]^k[A+$];return(1&z-1>>>8)-1}function x(N,P,k,A){return M(N,P,k,A,16)}function K(N,P,k,A){return M(N,P,k,A,32)}function j(N,P,k,A){(function(I,$,z,it){for(var q,st=255&it[0]|(255&it[1])<<8|(255&it[2])<<16|(255&it[3])<<24,It=255&z[0]|(255&z[1])<<8|(255&z[2])<<16|(255&z[3])<<24,nt=255&z[4]|(255&z[5])<<8|(255&z[6])<<16|(255&z[7])<<24,Ct=255&z[8]|(255&z[9])<<8|(255&z[10])<<16|(255&z[11])<<24,Nt=255&z[12]|(255&z[13])<<8|(255&z[14])<<16|(255&z[15])<<24,ht=255&it[4]|(255&it[5])<<8|(255&it[6])<<16|(255&it[7])<<24,Ft=255&$[0]|(255&$[1])<<8|(255&$[2])<<16|(255&$[3])<<24,Ut=255&$[4]|(255&$[5])<<8|(255&$[6])<<16|(255&$[7])<<24,dt=255&$[8]|(255&$[9])<<8|(255&$[10])<<16|(255&$[11])<<24,Dt=255&$[12]|(255&$[13])<<8|(255&$[14])<<16|(255&$[15])<<24,Rt=255&it[8]|(255&it[9])<<8|(255&it[10])<<16|(255&it[11])<<24,ut=255&z[16]|(255&z[17])<<8|(255&z[18])<<16|(255&z[19])<<24,Bt=255&z[20]|(255&z[21])<<8|(255&z[22])<<16|(255&z[23])<<24,$t=255&z[24]|(255&z[25])<<8|(255&z[26])<<16|(255&z[27])<<24,lt=255&z[28]|(255&z[29])<<8|(255&z[30])<<16|(255&z[31])<<24,et=255&it[12]|(255&it[13])<<8|(255&it[14])<<16|(255&it[15])<<24,at=st,vt=It,bt=nt,Et=Ct,Mt=Nt,Xt=ht,Qt=Ft,Yt=Ut,re=dt,ie=Dt,ne=Rt,Wt=ut,gt=Bt,Pt=$t,jt=lt,Ot=et,zt=0;zt<20;zt+=2)at^=(q=(gt^=(q=(re^=(q=(Mt^=(q=at+gt|0)<<7|q>>>25)+at|0)<<9|q>>>23)+Mt|0)<<13|q>>>19)+re|0)<<18|q>>>14,Xt^=(q=(vt^=(q=(Pt^=(q=(ie^=(q=Xt+vt|0)<<7|q>>>25)+Xt|0)<<9|q>>>23)+ie|0)<<13|q>>>19)+Pt|0)<<18|q>>>14,ne^=(q=(Qt^=(q=(bt^=(q=(jt^=(q=ne+Qt|0)<<7|q>>>25)+ne|0)<<9|q>>>23)+jt|0)<<13|q>>>19)+bt|0)<<18|q>>>14,Ot^=(q=(Wt^=(q=(Yt^=(q=(Et^=(q=Ot+Wt|0)<<7|q>>>25)+Ot|0)<<9|q>>>23)+Et|0)<<13|q>>>19)+Yt|0)<<18|q>>>14,at^=(q=(Et^=(q=(bt^=(q=(vt^=(q=at+Et|0)<<7|q>>>25)+at|0)<<9|q>>>23)+vt|0)<<13|q>>>19)+bt|0)<<18|q>>>14,Xt^=(q=(Mt^=(q=(Yt^=(q=(Qt^=(q=Xt+Mt|0)<<7|q>>>25)+Xt|0)<<9|q>>>23)+Qt|0)<<13|q>>>19)+Yt|0)<<18|q>>>14,ne^=(q=(ie^=(q=(re^=(q=(Wt^=(q=ne+ie|0)<<7|q>>>25)+ne|0)<<9|q>>>23)+Wt|0)<<13|q>>>19)+re|0)<<18|q>>>14,Ot^=(q=(jt^=(q=(Pt^=(q=(gt^=(q=Ot+jt|0)<<7|q>>>25)+Ot|0)<<9|q>>>23)+gt|0)<<13|q>>>19)+Pt|0)<<18|q>>>14;at=at+st|0,vt=vt+It|0,bt=bt+nt|0,Et=Et+Ct|0,Mt=Mt+Nt|0,Xt=Xt+ht|0,Qt=Qt+Ft|0,Yt=Yt+Ut|0,re=re+dt|0,ie=ie+Dt|0,ne=ne+Rt|0,Wt=Wt+ut|0,gt=gt+Bt|0,Pt=Pt+$t|0,jt=jt+lt|0,Ot=Ot+et|0,I[0]=at>>>0&255,I[1]=at>>>8&255,I[2]=at>>>16&255,I[3]=at>>>24&255,I[4]=vt>>>0&255,I[5]=vt>>>8&255,I[6]=vt>>>16&255,I[7]=vt>>>24&255,I[8]=bt>>>0&255,I[9]=bt>>>8&255,I[10]=bt>>>16&255,I[11]=bt>>>24&255,I[12]=Et>>>0&255,I[13]=Et>>>8&255,I[14]=Et>>>16&255,I[15]=Et>>>24&255,I[16]=Mt>>>0&255,I[17]=Mt>>>8&255,I[18]=Mt>>>16&255,I[19]=Mt>>>24&255,I[20]=Xt>>>0&255,I[21]=Xt>>>8&255,I[22]=Xt>>>16&255,I[23]=Xt>>>24&255,I[24]=Qt>>>0&255,I[25]=Qt>>>8&255,I[26]=Qt>>>16&255,I[27]=Qt>>>24&255,I[28]=Yt>>>0&255,I[29]=Yt>>>8&255,I[30]=Yt>>>16&255,I[31]=Yt>>>24&255,I[32]=re>>>0&255,I[33]=re>>>8&255,I[34]=re>>>16&255,I[35]=re>>>24&255,I[36]=ie>>>0&255,I[37]=ie>>>8&255,I[38]=ie>>>16&255,I[39]=ie>>>24&255,I[40]=ne>>>0&255,I[41]=ne>>>8&255,I[42]=ne>>>16&255,I[43]=ne>>>24&255,I[44]=Wt>>>0&255,I[45]=Wt>>>8&255,I[46]=Wt>>>16&255,I[47]=Wt>>>24&255,I[48]=gt>>>0&255,I[49]=gt>>>8&255,I[50]=gt>>>16&255,I[51]=gt>>>24&255,I[52]=Pt>>>0&255,I[53]=Pt>>>8&255,I[54]=Pt>>>16&255,I[55]=Pt>>>24&255,I[56]=jt>>>0&255,I[57]=jt>>>8&255,I[58]=jt>>>16&255,I[59]=jt>>>24&255,I[60]=Ot>>>0&255,I[61]=Ot>>>8&255,I[62]=Ot>>>16&255,I[63]=Ot>>>24&255})(N,P,k,A)}function U(N,P,k,A){(function(I,$,z,it){for(var q,st=255&it[0]|(255&it[1])<<8|(255&it[2])<<16|(255&it[3])<<24,It=255&z[0]|(255&z[1])<<8|(255&z[2])<<16|(255&z[3])<<24,nt=255&z[4]|(255&z[5])<<8|(255&z[6])<<16|(255&z[7])<<24,Ct=255&z[8]|(255&z[9])<<8|(255&z[10])<<16|(255&z[11])<<24,Nt=255&z[12]|(255&z[13])<<8|(255&z[14])<<16|(255&z[15])<<24,ht=255&it[4]|(255&it[5])<<8|(255&it[6])<<16|(255&it[7])<<24,Ft=255&$[0]|(255&$[1])<<8|(255&$[2])<<16|(255&$[3])<<24,Ut=255&$[4]|(255&$[5])<<8|(255&$[6])<<16|(255&$[7])<<24,dt=255&$[8]|(255&$[9])<<8|(255&$[10])<<16|(255&$[11])<<24,Dt=255&$[12]|(255&$[13])<<8|(255&$[14])<<16|(255&$[15])<<24,Rt=255&it[8]|(255&it[9])<<8|(255&it[10])<<16|(255&it[11])<<24,ut=255&z[16]|(255&z[17])<<8|(255&z[18])<<16|(255&z[19])<<24,Bt=255&z[20]|(255&z[21])<<8|(255&z[22])<<16|(255&z[23])<<24,$t=255&z[24]|(255&z[25])<<8|(255&z[26])<<16|(255&z[27])<<24,lt=255&z[28]|(255&z[29])<<8|(255&z[30])<<16|(255&z[31])<<24,et=255&it[12]|(255&it[13])<<8|(255&it[14])<<16|(255&it[15])<<24,at=0;at<20;at+=2)st^=(q=(Bt^=(q=(dt^=(q=(Nt^=(q=st+Bt|0)<<7|q>>>25)+st|0)<<9|q>>>23)+Nt|0)<<13|q>>>19)+dt|0)<<18|q>>>14,ht^=(q=(It^=(q=($t^=(q=(Dt^=(q=ht+It|0)<<7|q>>>25)+ht|0)<<9|q>>>23)+Dt|0)<<13|q>>>19)+$t|0)<<18|q>>>14,Rt^=(q=(Ft^=(q=(nt^=(q=(lt^=(q=Rt+Ft|0)<<7|q>>>25)+Rt|0)<<9|q>>>23)+lt|0)<<13|q>>>19)+nt|0)<<18|q>>>14,et^=(q=(ut^=(q=(Ut^=(q=(Ct^=(q=et+ut|0)<<7|q>>>25)+et|0)<<9|q>>>23)+Ct|0)<<13|q>>>19)+Ut|0)<<18|q>>>14,st^=(q=(Ct^=(q=(nt^=(q=(It^=(q=st+Ct|0)<<7|q>>>25)+st|0)<<9|q>>>23)+It|0)<<13|q>>>19)+nt|0)<<18|q>>>14,ht^=(q=(Nt^=(q=(Ut^=(q=(Ft^=(q=ht+Nt|0)<<7|q>>>25)+ht|0)<<9|q>>>23)+Ft|0)<<13|q>>>19)+Ut|0)<<18|q>>>14,Rt^=(q=(Dt^=(q=(dt^=(q=(ut^=(q=Rt+Dt|0)<<7|q>>>25)+Rt|0)<<9|q>>>23)+ut|0)<<13|q>>>19)+dt|0)<<18|q>>>14,et^=(q=(lt^=(q=($t^=(q=(Bt^=(q=et+lt|0)<<7|q>>>25)+et|0)<<9|q>>>23)+Bt|0)<<13|q>>>19)+$t|0)<<18|q>>>14;I[0]=st>>>0&255,I[1]=st>>>8&255,I[2]=st>>>16&255,I[3]=st>>>24&255,I[4]=ht>>>0&255,I[5]=ht>>>8&255,I[6]=ht>>>16&255,I[7]=ht>>>24&255,I[8]=Rt>>>0&255,I[9]=Rt>>>8&255,I[10]=Rt>>>16&255,I[11]=Rt>>>24&255,I[12]=et>>>0&255,I[13]=et>>>8&255,I[14]=et>>>16&255,I[15]=et>>>24&255,I[16]=Ft>>>0&255,I[17]=Ft>>>8&255,I[18]=Ft>>>16&255,I[19]=Ft>>>24&255,I[20]=Ut>>>0&255,I[21]=Ut>>>8&255,I[22]=Ut>>>16&255,I[23]=Ut>>>24&255,I[24]=dt>>>0&255,I[25]=dt>>>8&255,I[26]=dt>>>16&255,I[27]=dt>>>24&255,I[28]=Dt>>>0&255,I[29]=Dt>>>8&255,I[30]=Dt>>>16&255,I[31]=Dt>>>24&255})(N,P,k,A)}var G=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function X(N,P,k,A,I,$,z){var it,q,st=new Uint8Array(16),It=new Uint8Array(64);for(q=0;q<16;q++)st[q]=0;for(q=0;q<8;q++)st[q]=$[q];for(;I>=64;){for(j(It,st,z,G),q=0;q<64;q++)N[P+q]=k[A+q]^It[q];for(it=1,q=8;q<16;q++)it=it+(255&st[q])|0,st[q]=255&it,it>>>=8;I-=64,P+=64,A+=64}if(I>0)for(j(It,st,z,G),q=0;q<I;q++)N[P+q]=k[A+q]^It[q];return 0}function Y(N,P,k,A,I){var $,z,it=new Uint8Array(16),q=new Uint8Array(64);for(z=0;z<16;z++)it[z]=0;for(z=0;z<8;z++)it[z]=A[z];for(;k>=64;){for(j(q,it,I,G),z=0;z<64;z++)N[P+z]=q[z];for($=1,z=8;z<16;z++)$=$+(255&it[z])|0,it[z]=255&$,$>>>=8;k-=64,P+=64}if(k>0)for(j(q,it,I,G),z=0;z<k;z++)N[P+z]=q[z];return 0}function Q(N,P,k,A,I){var $=new Uint8Array(32);U($,A,I,G);for(var z=new Uint8Array(8),it=0;it<8;it++)z[it]=A[it+16];return Y(N,P,k,z,$)}function i(N,P,k,A,I,$,z){var it=new Uint8Array(32);U(it,$,z,G);for(var q=new Uint8Array(8),st=0;st<8;st++)q[st]=$[st+16];return X(N,P,k,A,I,q,it)}var h=function(N){var P,k,A,I,$,z,it,q;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,P=255&N[0]|(255&N[1])<<8,this.r[0]=8191&P,k=255&N[2]|(255&N[3])<<8,this.r[1]=8191&(P>>>13|k<<3),A=255&N[4]|(255&N[5])<<8,this.r[2]=7939&(k>>>10|A<<6),I=255&N[6]|(255&N[7])<<8,this.r[3]=8191&(A>>>7|I<<9),$=255&N[8]|(255&N[9])<<8,this.r[4]=255&(I>>>4|$<<12),this.r[5]=$>>>1&8190,z=255&N[10]|(255&N[11])<<8,this.r[6]=8191&($>>>14|z<<2),it=255&N[12]|(255&N[13])<<8,this.r[7]=8065&(z>>>11|it<<5),q=255&N[14]|(255&N[15])<<8,this.r[8]=8191&(it>>>8|q<<8),this.r[9]=q>>>5&127,this.pad[0]=255&N[16]|(255&N[17])<<8,this.pad[1]=255&N[18]|(255&N[19])<<8,this.pad[2]=255&N[20]|(255&N[21])<<8,this.pad[3]=255&N[22]|(255&N[23])<<8,this.pad[4]=255&N[24]|(255&N[25])<<8,this.pad[5]=255&N[26]|(255&N[27])<<8,this.pad[6]=255&N[28]|(255&N[29])<<8,this.pad[7]=255&N[30]|(255&N[31])<<8};function r(N,P,k,A,I,$){var z=new h($);return z.update(k,A,I),z.finish(N,P),0}function e(N,P,k,A,I,$){var z=new Uint8Array(16);return r(z,0,k,A,I,$),x(N,P,z,0)}function t(N,P,k,A,I){var $;if(k<32)return-1;for(i(N,0,P,0,k,A,I),r(N,16,N,32,k-32,N),$=0;$<16;$++)N[$]=0;return 0}function o(N,P,k,A,I){var $,z=new Uint8Array(32);if(k<32||(Q(z,0,32,A,I),e(P,16,P,32,k-32,z)!==0))return-1;for(i(N,0,P,0,k,A,I),$=0;$<32;$++)N[$]=0;return 0}function a(N,P){var k;for(k=0;k<16;k++)N[k]=0|P[k]}function v(N){var P,k,A=1;for(P=0;P<16;P++)k=N[P]+A+65535,A=Math.floor(k/65536),N[P]=k-65536*A;N[0]+=A-1+37*(A-1)}function S(N,P,k){for(var A,I=~(k-1),$=0;$<16;$++)A=I&(N[$]^P[$]),N[$]^=A,P[$]^=A}function _(N,P){var k,A,I,$=b(),z=b();for(k=0;k<16;k++)z[k]=P[k];for(v(z),v(z),v(z),A=0;A<2;A++){for($[0]=z[0]-65517,k=1;k<15;k++)$[k]=z[k]-65535-($[k-1]>>16&1),$[k-1]&=65535;$[15]=z[15]-32767-($[14]>>16&1),I=$[15]>>16&1,$[14]&=65535,S(z,$,1-I)}for(k=0;k<16;k++)N[2*k]=255&z[k],N[2*k+1]=z[k]>>8}function L(N,P){var k=new Uint8Array(32),A=new Uint8Array(32);return _(k,N),_(A,P),K(k,0,A,0)}function R(N){var P=new Uint8Array(32);return _(P,N),1&P[0]}function W(N,P){var k;for(k=0;k<16;k++)N[k]=P[2*k]+(P[2*k+1]<<8);N[15]&=32767}function H(N,P,k){for(var A=0;A<16;A++)N[A]=P[A]+k[A]}function rt(N,P,k){for(var A=0;A<16;A++)N[A]=P[A]-k[A]}function tt(N,P,k){var A,I,$=0,z=0,it=0,q=0,st=0,It=0,nt=0,Ct=0,Nt=0,ht=0,Ft=0,Ut=0,dt=0,Dt=0,Rt=0,ut=0,Bt=0,$t=0,lt=0,et=0,at=0,vt=0,bt=0,Et=0,Mt=0,Xt=0,Qt=0,Yt=0,re=0,ie=0,ne=0,Wt=k[0],gt=k[1],Pt=k[2],jt=k[3],Ot=k[4],zt=k[5],Zt=k[6],ae=k[7],le=k[8],fe=k[9],de=k[10],pe=k[11],me=k[12],ye=k[13],ve=k[14],we=k[15];$+=(A=P[0])*Wt,z+=A*gt,it+=A*Pt,q+=A*jt,st+=A*Ot,It+=A*zt,nt+=A*Zt,Ct+=A*ae,Nt+=A*le,ht+=A*fe,Ft+=A*de,Ut+=A*pe,dt+=A*me,Dt+=A*ye,Rt+=A*ve,ut+=A*we,z+=(A=P[1])*Wt,it+=A*gt,q+=A*Pt,st+=A*jt,It+=A*Ot,nt+=A*zt,Ct+=A*Zt,Nt+=A*ae,ht+=A*le,Ft+=A*fe,Ut+=A*de,dt+=A*pe,Dt+=A*me,Rt+=A*ye,ut+=A*ve,Bt+=A*we,it+=(A=P[2])*Wt,q+=A*gt,st+=A*Pt,It+=A*jt,nt+=A*Ot,Ct+=A*zt,Nt+=A*Zt,ht+=A*ae,Ft+=A*le,Ut+=A*fe,dt+=A*de,Dt+=A*pe,Rt+=A*me,ut+=A*ye,Bt+=A*ve,$t+=A*we,q+=(A=P[3])*Wt,st+=A*gt,It+=A*Pt,nt+=A*jt,Ct+=A*Ot,Nt+=A*zt,ht+=A*Zt,Ft+=A*ae,Ut+=A*le,dt+=A*fe,Dt+=A*de,Rt+=A*pe,ut+=A*me,Bt+=A*ye,$t+=A*ve,lt+=A*we,st+=(A=P[4])*Wt,It+=A*gt,nt+=A*Pt,Ct+=A*jt,Nt+=A*Ot,ht+=A*zt,Ft+=A*Zt,Ut+=A*ae,dt+=A*le,Dt+=A*fe,Rt+=A*de,ut+=A*pe,Bt+=A*me,$t+=A*ye,lt+=A*ve,et+=A*we,It+=(A=P[5])*Wt,nt+=A*gt,Ct+=A*Pt,Nt+=A*jt,ht+=A*Ot,Ft+=A*zt,Ut+=A*Zt,dt+=A*ae,Dt+=A*le,Rt+=A*fe,ut+=A*de,Bt+=A*pe,$t+=A*me,lt+=A*ye,et+=A*ve,at+=A*we,nt+=(A=P[6])*Wt,Ct+=A*gt,Nt+=A*Pt,ht+=A*jt,Ft+=A*Ot,Ut+=A*zt,dt+=A*Zt,Dt+=A*ae,Rt+=A*le,ut+=A*fe,Bt+=A*de,$t+=A*pe,lt+=A*me,et+=A*ye,at+=A*ve,vt+=A*we,Ct+=(A=P[7])*Wt,Nt+=A*gt,ht+=A*Pt,Ft+=A*jt,Ut+=A*Ot,dt+=A*zt,Dt+=A*Zt,Rt+=A*ae,ut+=A*le,Bt+=A*fe,$t+=A*de,lt+=A*pe,et+=A*me,at+=A*ye,vt+=A*ve,bt+=A*we,Nt+=(A=P[8])*Wt,ht+=A*gt,Ft+=A*Pt,Ut+=A*jt,dt+=A*Ot,Dt+=A*zt,Rt+=A*Zt,ut+=A*ae,Bt+=A*le,$t+=A*fe,lt+=A*de,et+=A*pe,at+=A*me,vt+=A*ye,bt+=A*ve,Et+=A*we,ht+=(A=P[9])*Wt,Ft+=A*gt,Ut+=A*Pt,dt+=A*jt,Dt+=A*Ot,Rt+=A*zt,ut+=A*Zt,Bt+=A*ae,$t+=A*le,lt+=A*fe,et+=A*de,at+=A*pe,vt+=A*me,bt+=A*ye,Et+=A*ve,Mt+=A*we,Ft+=(A=P[10])*Wt,Ut+=A*gt,dt+=A*Pt,Dt+=A*jt,Rt+=A*Ot,ut+=A*zt,Bt+=A*Zt,$t+=A*ae,lt+=A*le,et+=A*fe,at+=A*de,vt+=A*pe,bt+=A*me,Et+=A*ye,Mt+=A*ve,Xt+=A*we,Ut+=(A=P[11])*Wt,dt+=A*gt,Dt+=A*Pt,Rt+=A*jt,ut+=A*Ot,Bt+=A*zt,$t+=A*Zt,lt+=A*ae,et+=A*le,at+=A*fe,vt+=A*de,bt+=A*pe,Et+=A*me,Mt+=A*ye,Xt+=A*ve,Qt+=A*we,dt+=(A=P[12])*Wt,Dt+=A*gt,Rt+=A*Pt,ut+=A*jt,Bt+=A*Ot,$t+=A*zt,lt+=A*Zt,et+=A*ae,at+=A*le,vt+=A*fe,bt+=A*de,Et+=A*pe,Mt+=A*me,Xt+=A*ye,Qt+=A*ve,Yt+=A*we,Dt+=(A=P[13])*Wt,Rt+=A*gt,ut+=A*Pt,Bt+=A*jt,$t+=A*Ot,lt+=A*zt,et+=A*Zt,at+=A*ae,vt+=A*le,bt+=A*fe,Et+=A*de,Mt+=A*pe,Xt+=A*me,Qt+=A*ye,Yt+=A*ve,re+=A*we,Rt+=(A=P[14])*Wt,ut+=A*gt,Bt+=A*Pt,$t+=A*jt,lt+=A*Ot,et+=A*zt,at+=A*Zt,vt+=A*ae,bt+=A*le,Et+=A*fe,Mt+=A*de,Xt+=A*pe,Qt+=A*me,Yt+=A*ye,re+=A*ve,ie+=A*we,ut+=(A=P[15])*Wt,z+=38*($t+=A*Pt),it+=38*(lt+=A*jt),q+=38*(et+=A*Ot),st+=38*(at+=A*zt),It+=38*(vt+=A*Zt),nt+=38*(bt+=A*ae),Ct+=38*(Et+=A*le),Nt+=38*(Mt+=A*fe),ht+=38*(Xt+=A*de),Ft+=38*(Qt+=A*pe),Ut+=38*(Yt+=A*me),dt+=38*(re+=A*ye),Dt+=38*(ie+=A*ve),Rt+=38*(ne+=A*we),$=(A=($+=38*(Bt+=A*gt))+(I=1)+65535)-65536*(I=Math.floor(A/65536)),z=(A=z+I+65535)-65536*(I=Math.floor(A/65536)),it=(A=it+I+65535)-65536*(I=Math.floor(A/65536)),q=(A=q+I+65535)-65536*(I=Math.floor(A/65536)),st=(A=st+I+65535)-65536*(I=Math.floor(A/65536)),It=(A=It+I+65535)-65536*(I=Math.floor(A/65536)),nt=(A=nt+I+65535)-65536*(I=Math.floor(A/65536)),Ct=(A=Ct+I+65535)-65536*(I=Math.floor(A/65536)),Nt=(A=Nt+I+65535)-65536*(I=Math.floor(A/65536)),ht=(A=ht+I+65535)-65536*(I=Math.floor(A/65536)),Ft=(A=Ft+I+65535)-65536*(I=Math.floor(A/65536)),Ut=(A=Ut+I+65535)-65536*(I=Math.floor(A/65536)),dt=(A=dt+I+65535)-65536*(I=Math.floor(A/65536)),Dt=(A=Dt+I+65535)-65536*(I=Math.floor(A/65536)),Rt=(A=Rt+I+65535)-65536*(I=Math.floor(A/65536)),ut=(A=ut+I+65535)-65536*(I=Math.floor(A/65536)),$=(A=($+=I-1+37*(I-1))+(I=1)+65535)-65536*(I=Math.floor(A/65536)),z=(A=z+I+65535)-65536*(I=Math.floor(A/65536)),it=(A=it+I+65535)-65536*(I=Math.floor(A/65536)),q=(A=q+I+65535)-65536*(I=Math.floor(A/65536)),st=(A=st+I+65535)-65536*(I=Math.floor(A/65536)),It=(A=It+I+65535)-65536*(I=Math.floor(A/65536)),nt=(A=nt+I+65535)-65536*(I=Math.floor(A/65536)),Ct=(A=Ct+I+65535)-65536*(I=Math.floor(A/65536)),Nt=(A=Nt+I+65535)-65536*(I=Math.floor(A/65536)),ht=(A=ht+I+65535)-65536*(I=Math.floor(A/65536)),Ft=(A=Ft+I+65535)-65536*(I=Math.floor(A/65536)),Ut=(A=Ut+I+65535)-65536*(I=Math.floor(A/65536)),dt=(A=dt+I+65535)-65536*(I=Math.floor(A/65536)),Dt=(A=Dt+I+65535)-65536*(I=Math.floor(A/65536)),Rt=(A=Rt+I+65535)-65536*(I=Math.floor(A/65536)),ut=(A=ut+I+65535)-65536*(I=Math.floor(A/65536)),$+=I-1+37*(I-1),N[0]=$,N[1]=z,N[2]=it,N[3]=q,N[4]=st,N[5]=It,N[6]=nt,N[7]=Ct,N[8]=Nt,N[9]=ht,N[10]=Ft,N[11]=Ut,N[12]=dt,N[13]=Dt,N[14]=Rt,N[15]=ut}function ft(N,P){tt(N,P,P)}function wt(N,P){var k,A=b();for(k=0;k<16;k++)A[k]=P[k];for(k=253;k>=0;k--)ft(A,A),k!==2&&k!==4&&tt(A,A,P);for(k=0;k<16;k++)N[k]=A[k]}function Tt(N,P){var k,A=b();for(k=0;k<16;k++)A[k]=P[k];for(k=250;k>=0;k--)ft(A,A),k!==1&&tt(A,A,P);for(k=0;k<16;k++)N[k]=A[k]}function pt(N,P,k){var A,I,$=new Uint8Array(32),z=new Float64Array(80),it=b(),q=b(),st=b(),It=b(),nt=b(),Ct=b();for(I=0;I<31;I++)$[I]=P[I];for($[31]=127&P[31]|64,$[0]&=248,W(z,k),I=0;I<16;I++)q[I]=z[I],It[I]=it[I]=st[I]=0;for(it[0]=It[0]=1,I=254;I>=0;--I)S(it,q,A=$[I>>>3]>>>(7&I)&1),S(st,It,A),H(nt,it,st),rt(it,it,st),H(st,q,It),rt(q,q,It),ft(It,nt),ft(Ct,it),tt(it,st,it),tt(st,q,nt),H(nt,it,st),rt(it,it,st),ft(q,it),rt(st,It,Ct),tt(it,st,c),H(it,it,It),tt(st,st,it),tt(it,It,Ct),tt(It,q,z),ft(q,nt),S(it,q,A),S(st,It,A);for(I=0;I<16;I++)z[I+16]=it[I],z[I+32]=st[I],z[I+48]=q[I],z[I+64]=It[I];var Nt=z.subarray(32),ht=z.subarray(16);return wt(Nt,Nt),tt(ht,ht,Nt),_(N,ht),0}function ct(N,P){return pt(N,P,n)}function St(N,P){return m(P,32),ct(N,P)}function Gt(N,P,k){var A=new Uint8Array(32);return pt(A,k,P),U(N,g,A,G)}h.prototype.blocks=function(N,P,k){for(var A,I,$,z,it,q,st,It,nt,Ct,Nt,ht,Ft,Ut,dt,Dt,Rt,ut,Bt,$t=this.fin?0:2048,lt=this.h[0],et=this.h[1],at=this.h[2],vt=this.h[3],bt=this.h[4],Et=this.h[5],Mt=this.h[6],Xt=this.h[7],Qt=this.h[8],Yt=this.h[9],re=this.r[0],ie=this.r[1],ne=this.r[2],Wt=this.r[3],gt=this.r[4],Pt=this.r[5],jt=this.r[6],Ot=this.r[7],zt=this.r[8],Zt=this.r[9];k>=16;)Ct=nt=0,Ct+=(lt+=8191&(A=255&N[P+0]|(255&N[P+1])<<8))*re,Ct+=(et+=8191&(A>>>13|(I=255&N[P+2]|(255&N[P+3])<<8)<<3))*(5*Zt),Ct+=(at+=8191&(I>>>10|($=255&N[P+4]|(255&N[P+5])<<8)<<6))*(5*zt),Ct+=(vt+=8191&($>>>7|(z=255&N[P+6]|(255&N[P+7])<<8)<<9))*(5*Ot),nt=(Ct+=(bt+=8191&(z>>>4|(it=255&N[P+8]|(255&N[P+9])<<8)<<12))*(5*jt))>>>13,Ct&=8191,Ct+=(Et+=it>>>1&8191)*(5*Pt),Ct+=(Mt+=8191&(it>>>14|(q=255&N[P+10]|(255&N[P+11])<<8)<<2))*(5*gt),Ct+=(Xt+=8191&(q>>>11|(st=255&N[P+12]|(255&N[P+13])<<8)<<5))*(5*Wt),Ct+=(Qt+=8191&(st>>>8|(It=255&N[P+14]|(255&N[P+15])<<8)<<8))*(5*ne),Nt=nt+=(Ct+=(Yt+=It>>>5|$t)*(5*ie))>>>13,Nt+=lt*ie,Nt+=et*re,Nt+=at*(5*Zt),Nt+=vt*(5*zt),nt=(Nt+=bt*(5*Ot))>>>13,Nt&=8191,Nt+=Et*(5*jt),Nt+=Mt*(5*Pt),Nt+=Xt*(5*gt),Nt+=Qt*(5*Wt),nt+=(Nt+=Yt*(5*ne))>>>13,Nt&=8191,ht=nt,ht+=lt*ne,ht+=et*ie,ht+=at*re,ht+=vt*(5*Zt),nt=(ht+=bt*(5*zt))>>>13,ht&=8191,ht+=Et*(5*Ot),ht+=Mt*(5*jt),ht+=Xt*(5*Pt),ht+=Qt*(5*gt),Ft=nt+=(ht+=Yt*(5*Wt))>>>13,Ft+=lt*Wt,Ft+=et*ne,Ft+=at*ie,Ft+=vt*re,nt=(Ft+=bt*(5*Zt))>>>13,Ft&=8191,Ft+=Et*(5*zt),Ft+=Mt*(5*Ot),Ft+=Xt*(5*jt),Ft+=Qt*(5*Pt),Ut=nt+=(Ft+=Yt*(5*gt))>>>13,Ut+=lt*gt,Ut+=et*Wt,Ut+=at*ne,Ut+=vt*ie,nt=(Ut+=bt*re)>>>13,Ut&=8191,Ut+=Et*(5*Zt),Ut+=Mt*(5*zt),Ut+=Xt*(5*Ot),Ut+=Qt*(5*jt),dt=nt+=(Ut+=Yt*(5*Pt))>>>13,dt+=lt*Pt,dt+=et*gt,dt+=at*Wt,dt+=vt*ne,nt=(dt+=bt*ie)>>>13,dt&=8191,dt+=Et*re,dt+=Mt*(5*Zt),dt+=Xt*(5*zt),dt+=Qt*(5*Ot),Dt=nt+=(dt+=Yt*(5*jt))>>>13,Dt+=lt*jt,Dt+=et*Pt,Dt+=at*gt,Dt+=vt*Wt,nt=(Dt+=bt*ne)>>>13,Dt&=8191,Dt+=Et*ie,Dt+=Mt*re,Dt+=Xt*(5*Zt),Dt+=Qt*(5*zt),Rt=nt+=(Dt+=Yt*(5*Ot))>>>13,Rt+=lt*Ot,Rt+=et*jt,Rt+=at*Pt,Rt+=vt*gt,nt=(Rt+=bt*Wt)>>>13,Rt&=8191,Rt+=Et*ne,Rt+=Mt*ie,Rt+=Xt*re,Rt+=Qt*(5*Zt),ut=nt+=(Rt+=Yt*(5*zt))>>>13,ut+=lt*zt,ut+=et*Ot,ut+=at*jt,ut+=vt*Pt,nt=(ut+=bt*gt)>>>13,ut&=8191,ut+=Et*Wt,ut+=Mt*ne,ut+=Xt*ie,ut+=Qt*re,Bt=nt+=(ut+=Yt*(5*Zt))>>>13,Bt+=lt*Zt,Bt+=et*zt,Bt+=at*Ot,Bt+=vt*jt,nt=(Bt+=bt*Pt)>>>13,Bt&=8191,Bt+=Et*gt,Bt+=Mt*Wt,Bt+=Xt*ne,Bt+=Qt*ie,lt=Ct=8191&(nt=(nt=((nt+=(Bt+=Yt*re)>>>13)<<2)+nt|0)+(Ct&=8191)|0),et=Nt+=nt>>>=13,at=ht&=8191,vt=Ft&=8191,bt=Ut&=8191,Et=dt&=8191,Mt=Dt&=8191,Xt=Rt&=8191,Qt=ut&=8191,Yt=Bt&=8191,P+=16,k-=16;this.h[0]=lt,this.h[1]=et,this.h[2]=at,this.h[3]=vt,this.h[4]=bt,this.h[5]=Et,this.h[6]=Mt,this.h[7]=Xt,this.h[8]=Qt,this.h[9]=Yt},h.prototype.finish=function(N,P){var k,A,I,$,z=new Uint16Array(10);if(this.leftover){for($=this.leftover,this.buffer[$++]=1;$<16;$++)this.buffer[$]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(k=this.h[1]>>>13,this.h[1]&=8191,$=2;$<10;$++)this.h[$]+=k,k=this.h[$]>>>13,this.h[$]&=8191;for(this.h[0]+=5*k,k=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=k,k=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=k,z[0]=this.h[0]+5,k=z[0]>>>13,z[0]&=8191,$=1;$<10;$++)z[$]=this.h[$]+k,k=z[$]>>>13,z[$]&=8191;for(z[9]-=8192,A=(1^k)-1,$=0;$<10;$++)z[$]&=A;for(A=~A,$=0;$<10;$++)this.h[$]=this.h[$]&A|z[$];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),I=this.h[0]+this.pad[0],this.h[0]=65535&I,$=1;$<8;$++)I=(this.h[$]+this.pad[$]|0)+(I>>>16)|0,this.h[$]=65535&I;N[P+0]=this.h[0]>>>0&255,N[P+1]=this.h[0]>>>8&255,N[P+2]=this.h[1]>>>0&255,N[P+3]=this.h[1]>>>8&255,N[P+4]=this.h[2]>>>0&255,N[P+5]=this.h[2]>>>8&255,N[P+6]=this.h[3]>>>0&255,N[P+7]=this.h[3]>>>8&255,N[P+8]=this.h[4]>>>0&255,N[P+9]=this.h[4]>>>8&255,N[P+10]=this.h[5]>>>0&255,N[P+11]=this.h[5]>>>8&255,N[P+12]=this.h[6]>>>0&255,N[P+13]=this.h[6]>>>8&255,N[P+14]=this.h[7]>>>0&255,N[P+15]=this.h[7]>>>8&255},h.prototype.update=function(N,P,k){var A,I;if(this.leftover){for((I=16-this.leftover)>k&&(I=k),A=0;A<I;A++)this.buffer[this.leftover+A]=N[P+A];if(k-=I,P+=I,this.leftover+=I,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(k>=16&&(I=k-k%16,this.blocks(N,P,I),P+=I,k-=I),k){for(A=0;A<k;A++)this.buffer[this.leftover+A]=N[P+A];this.leftover+=k}};var mt=t,kt=o,oe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _t(N,P,k,A){for(var I,$,z,it,q,st,It,nt,Ct,Nt,ht,Ft,Ut,dt,Dt,Rt,ut,Bt,$t,lt,et,at,vt,bt,Et,Mt,Xt=new Int32Array(16),Qt=new Int32Array(16),Yt=N[0],re=N[1],ie=N[2],ne=N[3],Wt=N[4],gt=N[5],Pt=N[6],jt=N[7],Ot=P[0],zt=P[1],Zt=P[2],ae=P[3],le=P[4],fe=P[5],de=P[6],pe=P[7],me=0;A>=128;){for($t=0;$t<16;$t++)lt=8*$t+me,Xt[$t]=k[lt+0]<<24|k[lt+1]<<16|k[lt+2]<<8|k[lt+3],Qt[$t]=k[lt+4]<<24|k[lt+5]<<16|k[lt+6]<<8|k[lt+7];for($t=0;$t<80;$t++)if(I=Yt,$=re,z=ie,it=ne,q=Wt,st=gt,It=Pt,Ct=Ot,Nt=zt,ht=Zt,Ft=ae,Ut=le,dt=fe,Dt=de,vt=65535&(at=pe),bt=at>>>16,Et=65535&(et=jt),Mt=et>>>16,vt+=65535&(at=(le>>>14|Wt<<18)^(le>>>18|Wt<<14)^(Wt>>>9|le<<23)),bt+=at>>>16,Et+=65535&(et=(Wt>>>14|le<<18)^(Wt>>>18|le<<14)^(le>>>9|Wt<<23)),Mt+=et>>>16,vt+=65535&(at=le&fe^~le&de),bt+=at>>>16,Et+=65535&(et=Wt&gt^~Wt&Pt),Mt+=et>>>16,vt+=65535&(at=oe[2*$t+1]),bt+=at>>>16,Et+=65535&(et=oe[2*$t]),Mt+=et>>>16,et=Xt[$t%16],bt+=(at=Qt[$t%16])>>>16,Et+=65535&et,Mt+=et>>>16,Et+=(bt+=(vt+=65535&at)>>>16)>>>16,vt=65535&(at=Bt=65535&vt|bt<<16),bt=at>>>16,Et=65535&(et=ut=65535&Et|(Mt+=Et>>>16)<<16),Mt=et>>>16,vt+=65535&(at=(Ot>>>28|Yt<<4)^(Yt>>>2|Ot<<30)^(Yt>>>7|Ot<<25)),bt+=at>>>16,Et+=65535&(et=(Yt>>>28|Ot<<4)^(Ot>>>2|Yt<<30)^(Ot>>>7|Yt<<25)),Mt+=et>>>16,bt+=(at=Ot&zt^Ot&Zt^zt&Zt)>>>16,Et+=65535&(et=Yt&re^Yt&ie^re&ie),Mt+=et>>>16,nt=65535&(Et+=(bt+=(vt+=65535&at)>>>16)>>>16)|(Mt+=Et>>>16)<<16,Rt=65535&vt|bt<<16,vt=65535&(at=Ft),bt=at>>>16,Et=65535&(et=it),Mt=et>>>16,bt+=(at=Bt)>>>16,Et+=65535&(et=ut),Mt+=et>>>16,re=I,ie=$,ne=z,Wt=it=65535&(Et+=(bt+=(vt+=65535&at)>>>16)>>>16)|(Mt+=Et>>>16)<<16,gt=q,Pt=st,jt=It,Yt=nt,zt=Ct,Zt=Nt,ae=ht,le=Ft=65535&vt|bt<<16,fe=Ut,de=dt,pe=Dt,Ot=Rt,$t%16==15)for(lt=0;lt<16;lt++)et=Xt[lt],vt=65535&(at=Qt[lt]),bt=at>>>16,Et=65535&et,Mt=et>>>16,et=Xt[(lt+9)%16],vt+=65535&(at=Qt[(lt+9)%16]),bt+=at>>>16,Et+=65535&et,Mt+=et>>>16,ut=Xt[(lt+1)%16],vt+=65535&(at=((Bt=Qt[(lt+1)%16])>>>1|ut<<31)^(Bt>>>8|ut<<24)^(Bt>>>7|ut<<25)),bt+=at>>>16,Et+=65535&(et=(ut>>>1|Bt<<31)^(ut>>>8|Bt<<24)^ut>>>7),Mt+=et>>>16,ut=Xt[(lt+14)%16],bt+=(at=((Bt=Qt[(lt+14)%16])>>>19|ut<<13)^(ut>>>29|Bt<<3)^(Bt>>>6|ut<<26))>>>16,Et+=65535&(et=(ut>>>19|Bt<<13)^(Bt>>>29|ut<<3)^ut>>>6),Mt+=et>>>16,Mt+=(Et+=(bt+=(vt+=65535&at)>>>16)>>>16)>>>16,Xt[lt]=65535&Et|Mt<<16,Qt[lt]=65535&vt|bt<<16;vt=65535&(at=Ot),bt=at>>>16,Et=65535&(et=Yt),Mt=et>>>16,et=N[0],bt+=(at=P[0])>>>16,Et+=65535&et,Mt+=et>>>16,Mt+=(Et+=(bt+=(vt+=65535&at)>>>16)>>>16)>>>16,N[0]=Yt=65535&Et|Mt<<16,P[0]=Ot=65535&vt|bt<<16,vt=65535&(at=zt),bt=at>>>16,Et=65535&(et=re),Mt=et>>>16,et=N[1],bt+=(at=P[1])>>>16,Et+=65535&et,Mt+=et>>>16,Mt+=(Et+=(bt+=(vt+=65535&at)>>>16)>>>16)>>>16,N[1]=re=65535&Et|Mt<<16,P[1]=zt=65535&vt|bt<<16,vt=65535&(at=Zt),bt=at>>>16,Et=65535&(et=ie),Mt=et>>>16,et=N[2],bt+=(at=P[2])>>>16,Et+=65535&et,Mt+=et>>>16,Mt+=(Et+=(bt+=(vt+=65535&at)>>>16)>>>16)>>>16,N[2]=ie=65535&Et|Mt<<16,P[2]=Zt=65535&vt|bt<<16,vt=65535&(at=ae),bt=at>>>16,Et=65535&(et=ne),Mt=et>>>16,et=N[3],bt+=(at=P[3])>>>16,Et+=65535&et,Mt+=et>>>16,Mt+=(Et+=(bt+=(vt+=65535&at)>>>16)>>>16)>>>16,N[3]=ne=65535&Et|Mt<<16,P[3]=ae=65535&vt|bt<<16,vt=65535&(at=le),bt=at>>>16,Et=65535&(et=Wt),Mt=et>>>16,et=N[4],bt+=(at=P[4])>>>16,Et+=65535&et,Mt+=et>>>16,Mt+=(Et+=(bt+=(vt+=65535&at)>>>16)>>>16)>>>16,N[4]=Wt=65535&Et|Mt<<16,P[4]=le=65535&vt|bt<<16,vt=65535&(at=fe),bt=at>>>16,Et=65535&(et=gt),Mt=et>>>16,et=N[5],bt+=(at=P[5])>>>16,Et+=65535&et,Mt+=et>>>16,Mt+=(Et+=(bt+=(vt+=65535&at)>>>16)>>>16)>>>16,N[5]=gt=65535&Et|Mt<<16,P[5]=fe=65535&vt|bt<<16,vt=65535&(at=de),bt=at>>>16,Et=65535&(et=Pt),Mt=et>>>16,et=N[6],bt+=(at=P[6])>>>16,Et+=65535&et,Mt+=et>>>16,Mt+=(Et+=(bt+=(vt+=65535&at)>>>16)>>>16)>>>16,N[6]=Pt=65535&Et|Mt<<16,P[6]=de=65535&vt|bt<<16,vt=65535&(at=pe),bt=at>>>16,Et=65535&(et=jt),Mt=et>>>16,et=N[7],bt+=(at=P[7])>>>16,Et+=65535&et,Mt+=et>>>16,Mt+=(Et+=(bt+=(vt+=65535&at)>>>16)>>>16)>>>16,N[7]=jt=65535&Et|Mt<<16,P[7]=pe=65535&vt|bt<<16,me+=128,A-=128}return A}function Kt(N,P,k){var A,I=new Int32Array(8),$=new Int32Array(8),z=new Uint8Array(256),it=k;for(I[0]=1779033703,I[1]=3144134277,I[2]=1013904242,I[3]=2773480762,I[4]=1359893119,I[5]=2600822924,I[6]=528734635,I[7]=1541459225,$[0]=4089235720,$[1]=2227873595,$[2]=4271175723,$[3]=1595750129,$[4]=2917565137,$[5]=725511199,$[6]=4215389547,$[7]=327033209,_t(I,$,P,k),k%=128,A=0;A<k;A++)z[A]=P[it-k+A];for(z[k]=128,z[(k=256-128*(k<112?1:0))-9]=0,C(z,k-8,it/536870912|0,it<<3),_t(I,$,z,k),A=0;A<8;A++)C(N,8*A,I[A],$[A]);return 0}function E(N,P){var k=b(),A=b(),I=b(),$=b(),z=b(),it=b(),q=b(),st=b(),It=b();rt(k,N[1],N[0]),rt(It,P[1],P[0]),tt(k,k,It),H(A,N[0],N[1]),H(It,P[0],P[1]),tt(A,A,It),tt(I,N[3],P[3]),tt(I,I,f),tt($,N[2],P[2]),H($,$,$),rt(z,A,k),rt(it,$,I),H(q,$,I),H(st,A,k),tt(N[0],z,it),tt(N[1],st,q),tt(N[2],q,it),tt(N[3],z,st)}function D(N,P,k){var A;for(A=0;A<4;A++)S(N[A],P[A],k)}function T(N,P){var k=b(),A=b(),I=b();wt(I,P[2]),tt(k,P[0],I),tt(A,P[1],I),_(N,A),N[31]^=R(k)<<7}function Z(N,P,k){var A,I;for(a(N[0],u),a(N[1],l),a(N[2],l),a(N[3],u),I=255;I>=0;--I)D(N,P,A=k[I/8|0]>>(7&I)&1),E(P,N),E(N,N),D(N,P,A)}function V(N,P){var k=[b(),b(),b(),b()];a(k[0],d),a(k[1],w),a(k[2],l),tt(k[3],d,w),Z(N,k,P)}function J(N,P,k){var A,I=new Uint8Array(64),$=[b(),b(),b(),b()];for(k||m(P,32),Kt(I,P,32),I[0]&=248,I[31]&=127,I[31]|=64,V($,I),T(N,$),A=0;A<32;A++)P[A+32]=N[A];return 0}var ot=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function yt(N,P){var k,A,I,$;for(A=63;A>=32;--A){for(k=0,I=A-32,$=A-12;I<$;++I)P[I]+=k-16*P[A]*ot[I-(A-32)],k=Math.floor((P[I]+128)/256),P[I]-=256*k;P[I]+=k,P[A]=0}for(k=0,I=0;I<32;I++)P[I]+=k-(P[31]>>4)*ot[I],k=P[I]>>8,P[I]&=255;for(I=0;I<32;I++)P[I]-=k*ot[I];for(A=0;A<32;A++)P[A+1]+=P[A]>>8,N[A]=255&P[A]}function xt(N){var P,k=new Float64Array(64);for(P=0;P<64;P++)k[P]=N[P];for(P=0;P<64;P++)N[P]=0;yt(N,k)}function Jt(N,P,k,A){var I,$,z=new Uint8Array(64),it=new Uint8Array(64),q=new Uint8Array(64),st=new Float64Array(64),It=[b(),b(),b(),b()];Kt(z,A,32),z[0]&=248,z[31]&=127,z[31]|=64;var nt=k+64;for(I=0;I<k;I++)N[64+I]=P[I];for(I=0;I<32;I++)N[32+I]=z[32+I];for(Kt(q,N.subarray(32),k+32),xt(q),V(It,q),T(N,It),I=32;I<64;I++)N[I]=A[I];for(Kt(it,N,k+64),xt(it),I=0;I<64;I++)st[I]=0;for(I=0;I<32;I++)st[I]=q[I];for(I=0;I<32;I++)for($=0;$<32;$++)st[I+$]+=it[I]*z[$];return yt(N.subarray(32),st),nt}function At(N,P,k,A){var I,$=new Uint8Array(32),z=new Uint8Array(64),it=[b(),b(),b(),b()],q=[b(),b(),b(),b()];if(k<64||function(st,It){var nt=b(),Ct=b(),Nt=b(),ht=b(),Ft=b(),Ut=b(),dt=b();return a(st[2],l),W(st[1],It),ft(Nt,st[1]),tt(ht,Nt,p),rt(Nt,Nt,st[2]),H(ht,st[2],ht),ft(Ft,ht),ft(Ut,Ft),tt(dt,Ut,Ft),tt(nt,dt,Nt),tt(nt,nt,ht),Tt(nt,nt),tt(nt,nt,Nt),tt(nt,nt,ht),tt(nt,nt,ht),tt(st[0],nt,ht),ft(Ct,st[0]),tt(Ct,Ct,ht),L(Ct,Nt)&&tt(st[0],st[0],F),ft(Ct,st[0]),tt(Ct,Ct,ht),L(Ct,Nt)?-1:(R(st[0])===It[31]>>7&&rt(st[0],u,st[0]),tt(st[3],st[0],st[1]),0)}(q,A))return-1;for(I=0;I<k;I++)N[I]=P[I];for(I=0;I<32;I++)N[I+32]=A[I];if(Kt(z,N,k),xt(z),Z(it,q,z),V(q,P.subarray(32)),E(it,q),T($,it),k-=64,K(P,0,$,0)){for(I=0;I<k;I++)N[I]=0;return-1}for(I=0;I<k;I++)N[I]=P[I+64];return k}var Lt=64,ue=32,qt=64;function ee(N,P){if(N.length!==32)throw new Error("bad key size");if(P.length!==24)throw new Error("bad nonce size")}function se(){for(var N=0;N<arguments.length;N++)if(!(arguments[N]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ht(N){for(var P=0;P<N.length;P++)N[P]=0}y.lowlevel={crypto_core_hsalsa20:U,crypto_stream_xor:i,crypto_stream:Q,crypto_stream_salsa20_xor:X,crypto_stream_salsa20:Y,crypto_onetimeauth:r,crypto_onetimeauth_verify:e,crypto_verify_16:x,crypto_verify_32:K,crypto_secretbox:t,crypto_secretbox_open:o,crypto_scalarmult:pt,crypto_scalarmult_base:ct,crypto_box_beforenm:Gt,crypto_box_afternm:mt,crypto_box:function(N,P,k,A,I,$){var z=new Uint8Array(32);return Gt(z,I,$),mt(N,P,k,A,z)},crypto_box_open:function(N,P,k,A,I,$){var z=new Uint8Array(32);return Gt(z,I,$),kt(N,P,k,A,z)},crypto_box_keypair:St,crypto_hash:Kt,crypto_sign:Jt,crypto_sign_keypair:J,crypto_sign_open:At,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:Lt,crypto_sign_PUBLICKEYBYTES:ue,crypto_sign_SECRETKEYBYTES:qt,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:b,D:p,L:ot,pack25519:_,unpack25519:W,M:tt,A:H,S:ft,Z:rt,pow2523:Tt,add:E,set25519:a,modL:yt,scalarmult:Z,scalarbase:V},y.randomBytes=function(N){var P=new Uint8Array(N);return m(P,N),P},y.secretbox=function(N,P,k){se(N,P,k),ee(k,P);for(var A=new Uint8Array(32+N.length),I=new Uint8Array(A.length),$=0;$<N.length;$++)A[$+32]=N[$];return t(I,A,A.length,P,k),I.subarray(16)},y.secretbox.open=function(N,P,k){se(N,P,k),ee(k,P);for(var A=new Uint8Array(16+N.length),I=new Uint8Array(A.length),$=0;$<N.length;$++)A[$+16]=N[$];return A.length<32||o(I,A,A.length,P,k)!==0?null:I.subarray(32)},y.secretbox.keyLength=32,y.secretbox.nonceLength=24,y.secretbox.overheadLength=16,y.scalarMult=function(N,P){if(se(N,P),N.length!==32)throw new Error("bad n size");if(P.length!==32)throw new Error("bad p size");var k=new Uint8Array(32);return pt(k,N,P),k},y.scalarMult.base=function(N){if(se(N),N.length!==32)throw new Error("bad n size");var P=new Uint8Array(32);return ct(P,N),P},y.scalarMult.scalarLength=32,y.scalarMult.groupElementLength=32,y.box=function(N,P,k,A){var I=y.box.before(k,A);return y.secretbox(N,P,I)},y.box.before=function(N,P){se(N,P),function(A,I){if(A.length!==32)throw new Error("bad public key size");if(I.length!==32)throw new Error("bad secret key size")}(N,P);var k=new Uint8Array(32);return Gt(k,N,P),k},y.box.after=y.secretbox,y.box.open=function(N,P,k,A){var I=y.box.before(k,A);return y.secretbox.open(N,P,I)},y.box.open.after=y.secretbox.open,y.box.keyPair=function(){var N=new Uint8Array(32),P=new Uint8Array(32);return St(N,P),{publicKey:N,secretKey:P}},y.box.keyPair.fromSecretKey=function(N){if(se(N),N.length!==32)throw new Error("bad secret key size");var P=new Uint8Array(32);return ct(P,N),{publicKey:P,secretKey:new Uint8Array(N)}},y.box.publicKeyLength=32,y.box.secretKeyLength=32,y.box.sharedKeyLength=32,y.box.nonceLength=24,y.box.overheadLength=y.secretbox.overheadLength,y.sign=function(N,P){if(se(N,P),P.length!==qt)throw new Error("bad secret key size");var k=new Uint8Array(Lt+N.length);return Jt(k,N,N.length,P),k},y.sign.open=function(N,P){if(se(N,P),P.length!==ue)throw new Error("bad public key size");var k=new Uint8Array(N.length),A=At(k,N,N.length,P);if(A<0)return null;for(var I=new Uint8Array(A),$=0;$<I.length;$++)I[$]=k[$];return I},y.sign.detached=function(N,P){for(var k=y.sign(N,P),A=new Uint8Array(Lt),I=0;I<A.length;I++)A[I]=k[I];return A},y.sign.detached.verify=function(N,P,k){if(se(N,P,k),P.length!==Lt)throw new Error("bad signature size");if(k.length!==ue)throw new Error("bad public key size");var A,I=new Uint8Array(Lt+N.length),$=new Uint8Array(Lt+N.length);for(A=0;A<Lt;A++)I[A]=P[A];for(A=0;A<N.length;A++)I[A+Lt]=N[A];return At($,I,I.length,k)>=0},y.sign.keyPair=function(){var N=new Uint8Array(ue),P=new Uint8Array(qt);return J(N,P),{publicKey:N,secretKey:P}},y.sign.keyPair.fromSecretKey=function(N){if(se(N),N.length!==qt)throw new Error("bad secret key size");for(var P=new Uint8Array(ue),k=0;k<P.length;k++)P[k]=N[32+k];return{publicKey:P,secretKey:new Uint8Array(N)}},y.sign.keyPair.fromSeed=function(N){if(se(N),N.length!==32)throw new Error("bad seed size");for(var P=new Uint8Array(ue),k=new Uint8Array(qt),A=0;A<32;A++)k[A]=N[A];return J(P,k,!0),{publicKey:P,secretKey:k}},y.sign.publicKeyLength=ue,y.sign.secretKeyLength=qt,y.sign.seedLength=32,y.sign.signatureLength=Lt,y.hash=function(N){se(N);var P=new Uint8Array(64);return Kt(P,N,N.length),P},y.hash.hashLength=64,y.verify=function(N,P){return se(N,P),N.length!==0&&P.length!==0&&N.length===P.length&&M(N,0,P,0,N.length)===0},y.setPRNG=function(N){m=N},function(){var N=typeof self<"u"?self.crypto||self.msCrypto:null;N&&N.getRandomValues?y.setPRNG(function(P,k){var A,I=new Uint8Array(k);for(A=0;A<k;A+=65536)N.getRandomValues(I.subarray(A,A+Math.min(k-A,65536)));for(A=0;A<k;A++)P[A]=I[A];Ht(I)}):(N=s(6))&&N.randomBytes&&y.setPRNG(function(P,k){var A,I=N.randomBytes(k);for(A=0;A<k;A++)P[A]=I[A];Ht(I)})}()})(O.exports?O.exports:self.nacl=self.nacl||{})},()=>{},(O,B,s)=>{var y=s(8),b=s(12),m=new y(0),g=new y(-1),n={noether:"0",wei:"1",kwei:"1000",Kwei:"1000",babbage:"1000",femtoether:"1000",mwei:"1000000",Mwei:"1000000",lovelace:"1000000",picoether:"1000000",gwei:"1000000000",Gwei:"1000000000",shannon:"1000000000",nanoether:"1000000000",nano:"1000000000",szabo:"1000000000000",microether:"1000000000000",micro:"1000000000000",finney:"1000000000000000",milliether:"1000000000000000",milli:"1000000000000000",ether:"1000000000000000000",kether:"1000000000000000000000",grand:"1000000000000000000000",mether:"1000000000000000000000000",gether:"1000000000000000000000000000",tether:"1000000000000000000000000000000"};function u(c){var p=c?c.toLowerCase():"ether",f=n[p];if(typeof f!="string")throw new Error("[ethjs-unit] the unit provided "+c+" doesn't exists, please use the one of the following units "+JSON.stringify(n,null,2));return new y(f,10)}function l(c){if(typeof c=="string"){if(!c.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+c+"', should be a number matching (^-?[0-9.]+).");return c}if(typeof c=="number")return String(c);if(typeof c=="object"&&c.toString&&(c.toTwos||c.dividedToIntegerBy))return c.toPrecision?String(c.toPrecision()):c.toString(10);throw new Error("while converting number to string, invalid number value '"+c+"' type "+typeof c+".")}O.exports={unitMap:n,numberToString:l,getValueOfUnit:u,fromWei:function(c,p,f){var d=b(c),w=d.lt(m),F=u(p),C=n[p].length-1||1,M=f||{};w&&(d=d.mul(g));for(var x=d.mod(F).toString(10);x.length<C;)x="0"+x;M.pad||(x=x.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var K=d.div(F).toString(10);M.commify&&(K=K.replace(/\B(?=(\d{3})+(?!\d))/g,","));var j=K+(x=="0"?"":"."+x);return w&&(j="-"+j),j},toWei:function(c,p){var f=l(c),d=u(p),w=n[p].length-1||1,F=f.substring(0,1)==="-";if(F&&(f=f.substring(1)),f===".")throw new Error("[ethjs-unit] while converting number "+c+" to wei, invalid value");var C=f.split(".");if(C.length>2)throw new Error("[ethjs-unit] while converting number "+c+" to wei,  too many decimal points");var M=C[0],x=C[1];if(M||(M="0"),x||(x="0"),x.length>w)throw new Error("[ethjs-unit] while converting number "+c+" to wei, too many decimal places");for(;x.length<w;)x+="0";M=new y(M),x=new y(x);var K=M.mul(d).add(x);return F&&(K=K.mul(g)),new y(K.toString(10),10)}}},function(O,B,s){(function(y,b){function m(i,h){if(!i)throw new Error(h||"Assertion failed")}function g(i,h){i.super_=h;var r=function(){};r.prototype=h.prototype,i.prototype=new r,i.prototype.constructor=i}function n(i,h,r){if(n.isBN(i))return i;this.negative=0,this.words=null,this.length=0,this.red=null,i!==null&&(h!=="le"&&h!=="be"||(r=h,h=10),this._init(i||0,h||10,r||"be"))}var u;typeof y=="object"?y.exports=n:b.BN=n,n.BN=n,n.wordSize=26;try{u=s(9).Buffer}catch{}function l(i,h,r){for(var e=0,t=Math.min(i.length,r),o=h;o<t;o++){var a=i.charCodeAt(o)-48;e<<=4,e|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return e}function c(i,h,r,e){for(var t=0,o=Math.min(i.length,r),a=h;a<o;a++){var v=i.charCodeAt(a)-48;t*=e,t+=v>=49?v-49+10:v>=17?v-17+10:v}return t}n.isBN=function(i){return i instanceof n||i!==null&&typeof i=="object"&&i.constructor.wordSize===n.wordSize&&Array.isArray(i.words)},n.max=function(i,h){return i.cmp(h)>0?i:h},n.min=function(i,h){return i.cmp(h)<0?i:h},n.prototype._init=function(i,h,r){if(typeof i=="number")return this._initNumber(i,h,r);if(typeof i=="object")return this._initArray(i,h,r);h==="hex"&&(h=16),m(h===(0|h)&&h>=2&&h<=36);var e=0;(i=i.toString().replace(/\s+/g,""))[0]==="-"&&e++,h===16?this._parseHex(i,e):this._parseBase(i,h,e),i[0]==="-"&&(this.negative=1),this.strip(),r==="le"&&this._initArray(this.toArray(),h,r)},n.prototype._initNumber=function(i,h,r){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[67108863&i],this.length=1):i<4503599627370496?(this.words=[67108863&i,i/67108864&67108863],this.length=2):(m(i<9007199254740992),this.words=[67108863&i,i/67108864&67108863,1],this.length=3),r==="le"&&this._initArray(this.toArray(),h,r)},n.prototype._initArray=function(i,h,r){if(m(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var e=0;e<this.length;e++)this.words[e]=0;var t,o,a=0;if(r==="be")for(e=i.length-1,t=0;e>=0;e-=3)o=i[e]|i[e-1]<<8|i[e-2]<<16,this.words[t]|=o<<a&67108863,this.words[t+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,t++);else if(r==="le")for(e=0,t=0;e<i.length;e+=3)o=i[e]|i[e+1]<<8|i[e+2]<<16,this.words[t]|=o<<a&67108863,this.words[t+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,t++);return this.strip()},n.prototype._parseHex=function(i,h){this.length=Math.ceil((i.length-h)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var e,t,o=0;for(r=i.length-6,e=0;r>=h;r-=6)t=l(i,r,r+6),this.words[e]|=t<<o&67108863,this.words[e+1]|=t>>>26-o&4194303,(o+=24)>=26&&(o-=26,e++);r+6!==h&&(t=l(i,h,r+6),this.words[e]|=t<<o&67108863,this.words[e+1]|=t>>>26-o&4194303),this.strip()},n.prototype._parseBase=function(i,h,r){this.words=[0],this.length=1;for(var e=0,t=1;t<=67108863;t*=h)e++;e--,t=t/h|0;for(var o=i.length-r,a=o%e,v=Math.min(o,o-a)+r,S=0,_=r;_<v;_+=e)S=c(i,_,_+e,h),this.imuln(t),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(a!==0){var L=1;for(S=c(i,_,i.length,h),_=0;_<a;_++)L*=h;this.imuln(L),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}},n.prototype.copy=function(i){i.words=new Array(this.length);for(var h=0;h<this.length;h++)i.words[h]=this.words[h];i.length=this.length,i.negative=this.negative,i.red=this.red},n.prototype.clone=function(){var i=new n(null);return this.copy(i),i},n.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function w(i,h,r){r.negative=h.negative^i.negative;var e=i.length+h.length|0;r.length=e,e=e-1|0;var t=0|i.words[0],o=0|h.words[0],a=t*o,v=67108863&a,S=a/67108864|0;r.words[0]=v;for(var _=1;_<e;_++){for(var L=S>>>26,R=67108863&S,W=Math.min(_,h.length-1),H=Math.max(0,_-i.length+1);H<=W;H++){var rt=_-H|0;L+=(a=(t=0|i.words[rt])*(o=0|h.words[H])+R)/67108864|0,R=67108863&a}r.words[_]=0|R,S=0|L}return S!==0?r.words[_]=0|S:r.length--,r.strip()}n.prototype.toString=function(i,h){var r;if(h=0|h||1,(i=i||10)===16||i==="hex"){r="";for(var e=0,t=0,o=0;o<this.length;o++){var a=this.words[o],v=(16777215&(a<<e|t)).toString(16);r=(t=a>>>24-e&16777215)!=0||o!==this.length-1?p[6-v.length]+v+r:v+r,(e+=2)>=26&&(e-=26,o--)}for(t!==0&&(r=t.toString(16)+r);r.length%h!=0;)r="0"+r;return this.negative!==0&&(r="-"+r),r}if(i===(0|i)&&i>=2&&i<=36){var S=f[i],_=d[i];r="";var L=this.clone();for(L.negative=0;!L.isZero();){var R=L.modn(_).toString(i);r=(L=L.idivn(_)).isZero()?R+r:p[S-R.length]+R+r}for(this.isZero()&&(r="0"+r);r.length%h!=0;)r="0"+r;return this.negative!==0&&(r="-"+r),r}m(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=67108864*this.words[1]:this.length===3&&this.words[2]===1?i+=4503599627370496+67108864*this.words[1]:this.length>2&&m(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(i,h){return m(u!==void 0),this.toArrayLike(u,i,h)},n.prototype.toArray=function(i,h){return this.toArrayLike(Array,i,h)},n.prototype.toArrayLike=function(i,h,r){var e=this.byteLength(),t=r||Math.max(1,e);m(e<=t,"byte array longer than desired length"),m(t>0,"Requested array length <= 0"),this.strip();var o,a,v=h==="le",S=new i(t),_=this.clone();if(v){for(a=0;!_.isZero();a++)o=_.andln(255),_.iushrn(8),S[a]=o;for(;a<t;a++)S[a]=0}else{for(a=0;a<t-e;a++)S[a]=0;for(a=0;!_.isZero();a++)o=_.andln(255),_.iushrn(8),S[t-a-1]=o}return S},Math.clz32?n.prototype._countBits=function(i){return 32-Math.clz32(i)}:n.prototype._countBits=function(i){var h=i,r=0;return h>=4096&&(r+=13,h>>>=13),h>=64&&(r+=7,h>>>=7),h>=8&&(r+=4,h>>>=4),h>=2&&(r+=2,h>>>=2),r+h},n.prototype._zeroBits=function(i){if(i===0)return 26;var h=i,r=0;return(8191&h)==0&&(r+=13,h>>>=13),(127&h)==0&&(r+=7,h>>>=7),(15&h)==0&&(r+=4,h>>>=4),(3&h)==0&&(r+=2,h>>>=2),(1&h)==0&&r++,r},n.prototype.bitLength=function(){var i=this.words[this.length-1],h=this._countBits(i);return 26*(this.length-1)+h},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,h=0;h<this.length;h++){var r=this._zeroBits(this.words[h]);if(i+=r,r!==26)break}return i},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},n.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var h=0;h<i.length;h++)this.words[h]=this.words[h]|i.words[h];return this.strip()},n.prototype.ior=function(i){return m((this.negative|i.negative)==0),this.iuor(i)},n.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},n.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},n.prototype.iuand=function(i){var h;h=this.length>i.length?i:this;for(var r=0;r<h.length;r++)this.words[r]=this.words[r]&i.words[r];return this.length=h.length,this.strip()},n.prototype.iand=function(i){return m((this.negative|i.negative)==0),this.iuand(i)},n.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},n.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},n.prototype.iuxor=function(i){var h,r;this.length>i.length?(h=this,r=i):(h=i,r=this);for(var e=0;e<r.length;e++)this.words[e]=h.words[e]^r.words[e];if(this!==h)for(;e<h.length;e++)this.words[e]=h.words[e];return this.length=h.length,this.strip()},n.prototype.ixor=function(i){return m((this.negative|i.negative)==0),this.iuxor(i)},n.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},n.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},n.prototype.inotn=function(i){m(typeof i=="number"&&i>=0);var h=0|Math.ceil(i/26),r=i%26;this._expand(h),r>0&&h--;for(var e=0;e<h;e++)this.words[e]=67108863&~this.words[e];return r>0&&(this.words[e]=~this.words[e]&67108863>>26-r),this.strip()},n.prototype.notn=function(i){return this.clone().inotn(i)},n.prototype.setn=function(i,h){m(typeof i=="number"&&i>=0);var r=i/26|0,e=i%26;return this._expand(r+1),this.words[r]=h?this.words[r]|1<<e:this.words[r]&~(1<<e),this.strip()},n.prototype.iadd=function(i){var h,r,e;if(this.negative!==0&&i.negative===0)return this.negative=0,h=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,h=this.isub(i),i.negative=1,h._normSign();this.length>i.length?(r=this,e=i):(r=i,e=this);for(var t=0,o=0;o<e.length;o++)h=(0|r.words[o])+(0|e.words[o])+t,this.words[o]=67108863&h,t=h>>>26;for(;t!==0&&o<r.length;o++)h=(0|r.words[o])+t,this.words[o]=67108863&h,t=h>>>26;if(this.length=r.length,t!==0)this.words[this.length]=t,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(i){var h;return i.negative!==0&&this.negative===0?(i.negative=0,h=this.sub(i),i.negative^=1,h):i.negative===0&&this.negative!==0?(this.negative=0,h=i.sub(this),this.negative=1,h):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},n.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var h=this.iadd(i);return i.negative=1,h._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var r,e,t=this.cmp(i);if(t===0)return this.negative=0,this.length=1,this.words[0]=0,this;t>0?(r=this,e=i):(r=i,e=this);for(var o=0,a=0;a<e.length;a++)o=(h=(0|r.words[a])-(0|e.words[a])+o)>>26,this.words[a]=67108863&h;for(;o!==0&&a<r.length;a++)o=(h=(0|r.words[a])+o)>>26,this.words[a]=67108863&h;if(o===0&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(i){return this.clone().isub(i)};var F=function(i,h,r){var e,t,o,a=i.words,v=h.words,S=r.words,_=0,L=0|a[0],R=8191&L,W=L>>>13,H=0|a[1],rt=8191&H,tt=H>>>13,ft=0|a[2],wt=8191&ft,Tt=ft>>>13,pt=0|a[3],ct=8191&pt,St=pt>>>13,Gt=0|a[4],mt=8191&Gt,kt=Gt>>>13,oe=0|a[5],_t=8191&oe,Kt=oe>>>13,E=0|a[6],D=8191&E,T=E>>>13,Z=0|a[7],V=8191&Z,J=Z>>>13,ot=0|a[8],yt=8191&ot,xt=ot>>>13,Jt=0|a[9],At=8191&Jt,Lt=Jt>>>13,ue=0|v[0],qt=8191&ue,ee=ue>>>13,se=0|v[1],Ht=8191&se,N=se>>>13,P=0|v[2],k=8191&P,A=P>>>13,I=0|v[3],$=8191&I,z=I>>>13,it=0|v[4],q=8191&it,st=it>>>13,It=0|v[5],nt=8191&It,Ct=It>>>13,Nt=0|v[6],ht=8191&Nt,Ft=Nt>>>13,Ut=0|v[7],dt=8191&Ut,Dt=Ut>>>13,Rt=0|v[8],ut=8191&Rt,Bt=Rt>>>13,$t=0|v[9],lt=8191&$t,et=$t>>>13;r.negative=i.negative^h.negative,r.length=19;var at=(_+(e=Math.imul(R,qt))|0)+((8191&(t=(t=Math.imul(R,ee))+Math.imul(W,qt)|0))<<13)|0;_=((o=Math.imul(W,ee))+(t>>>13)|0)+(at>>>26)|0,at&=67108863,e=Math.imul(rt,qt),t=(t=Math.imul(rt,ee))+Math.imul(tt,qt)|0,o=Math.imul(tt,ee);var vt=(_+(e=e+Math.imul(R,Ht)|0)|0)+((8191&(t=(t=t+Math.imul(R,N)|0)+Math.imul(W,Ht)|0))<<13)|0;_=((o=o+Math.imul(W,N)|0)+(t>>>13)|0)+(vt>>>26)|0,vt&=67108863,e=Math.imul(wt,qt),t=(t=Math.imul(wt,ee))+Math.imul(Tt,qt)|0,o=Math.imul(Tt,ee),e=e+Math.imul(rt,Ht)|0,t=(t=t+Math.imul(rt,N)|0)+Math.imul(tt,Ht)|0,o=o+Math.imul(tt,N)|0;var bt=(_+(e=e+Math.imul(R,k)|0)|0)+((8191&(t=(t=t+Math.imul(R,A)|0)+Math.imul(W,k)|0))<<13)|0;_=((o=o+Math.imul(W,A)|0)+(t>>>13)|0)+(bt>>>26)|0,bt&=67108863,e=Math.imul(ct,qt),t=(t=Math.imul(ct,ee))+Math.imul(St,qt)|0,o=Math.imul(St,ee),e=e+Math.imul(wt,Ht)|0,t=(t=t+Math.imul(wt,N)|0)+Math.imul(Tt,Ht)|0,o=o+Math.imul(Tt,N)|0,e=e+Math.imul(rt,k)|0,t=(t=t+Math.imul(rt,A)|0)+Math.imul(tt,k)|0,o=o+Math.imul(tt,A)|0;var Et=(_+(e=e+Math.imul(R,$)|0)|0)+((8191&(t=(t=t+Math.imul(R,z)|0)+Math.imul(W,$)|0))<<13)|0;_=((o=o+Math.imul(W,z)|0)+(t>>>13)|0)+(Et>>>26)|0,Et&=67108863,e=Math.imul(mt,qt),t=(t=Math.imul(mt,ee))+Math.imul(kt,qt)|0,o=Math.imul(kt,ee),e=e+Math.imul(ct,Ht)|0,t=(t=t+Math.imul(ct,N)|0)+Math.imul(St,Ht)|0,o=o+Math.imul(St,N)|0,e=e+Math.imul(wt,k)|0,t=(t=t+Math.imul(wt,A)|0)+Math.imul(Tt,k)|0,o=o+Math.imul(Tt,A)|0,e=e+Math.imul(rt,$)|0,t=(t=t+Math.imul(rt,z)|0)+Math.imul(tt,$)|0,o=o+Math.imul(tt,z)|0;var Mt=(_+(e=e+Math.imul(R,q)|0)|0)+((8191&(t=(t=t+Math.imul(R,st)|0)+Math.imul(W,q)|0))<<13)|0;_=((o=o+Math.imul(W,st)|0)+(t>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,e=Math.imul(_t,qt),t=(t=Math.imul(_t,ee))+Math.imul(Kt,qt)|0,o=Math.imul(Kt,ee),e=e+Math.imul(mt,Ht)|0,t=(t=t+Math.imul(mt,N)|0)+Math.imul(kt,Ht)|0,o=o+Math.imul(kt,N)|0,e=e+Math.imul(ct,k)|0,t=(t=t+Math.imul(ct,A)|0)+Math.imul(St,k)|0,o=o+Math.imul(St,A)|0,e=e+Math.imul(wt,$)|0,t=(t=t+Math.imul(wt,z)|0)+Math.imul(Tt,$)|0,o=o+Math.imul(Tt,z)|0,e=e+Math.imul(rt,q)|0,t=(t=t+Math.imul(rt,st)|0)+Math.imul(tt,q)|0,o=o+Math.imul(tt,st)|0;var Xt=(_+(e=e+Math.imul(R,nt)|0)|0)+((8191&(t=(t=t+Math.imul(R,Ct)|0)+Math.imul(W,nt)|0))<<13)|0;_=((o=o+Math.imul(W,Ct)|0)+(t>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,e=Math.imul(D,qt),t=(t=Math.imul(D,ee))+Math.imul(T,qt)|0,o=Math.imul(T,ee),e=e+Math.imul(_t,Ht)|0,t=(t=t+Math.imul(_t,N)|0)+Math.imul(Kt,Ht)|0,o=o+Math.imul(Kt,N)|0,e=e+Math.imul(mt,k)|0,t=(t=t+Math.imul(mt,A)|0)+Math.imul(kt,k)|0,o=o+Math.imul(kt,A)|0,e=e+Math.imul(ct,$)|0,t=(t=t+Math.imul(ct,z)|0)+Math.imul(St,$)|0,o=o+Math.imul(St,z)|0,e=e+Math.imul(wt,q)|0,t=(t=t+Math.imul(wt,st)|0)+Math.imul(Tt,q)|0,o=o+Math.imul(Tt,st)|0,e=e+Math.imul(rt,nt)|0,t=(t=t+Math.imul(rt,Ct)|0)+Math.imul(tt,nt)|0,o=o+Math.imul(tt,Ct)|0;var Qt=(_+(e=e+Math.imul(R,ht)|0)|0)+((8191&(t=(t=t+Math.imul(R,Ft)|0)+Math.imul(W,ht)|0))<<13)|0;_=((o=o+Math.imul(W,Ft)|0)+(t>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,e=Math.imul(V,qt),t=(t=Math.imul(V,ee))+Math.imul(J,qt)|0,o=Math.imul(J,ee),e=e+Math.imul(D,Ht)|0,t=(t=t+Math.imul(D,N)|0)+Math.imul(T,Ht)|0,o=o+Math.imul(T,N)|0,e=e+Math.imul(_t,k)|0,t=(t=t+Math.imul(_t,A)|0)+Math.imul(Kt,k)|0,o=o+Math.imul(Kt,A)|0,e=e+Math.imul(mt,$)|0,t=(t=t+Math.imul(mt,z)|0)+Math.imul(kt,$)|0,o=o+Math.imul(kt,z)|0,e=e+Math.imul(ct,q)|0,t=(t=t+Math.imul(ct,st)|0)+Math.imul(St,q)|0,o=o+Math.imul(St,st)|0,e=e+Math.imul(wt,nt)|0,t=(t=t+Math.imul(wt,Ct)|0)+Math.imul(Tt,nt)|0,o=o+Math.imul(Tt,Ct)|0,e=e+Math.imul(rt,ht)|0,t=(t=t+Math.imul(rt,Ft)|0)+Math.imul(tt,ht)|0,o=o+Math.imul(tt,Ft)|0;var Yt=(_+(e=e+Math.imul(R,dt)|0)|0)+((8191&(t=(t=t+Math.imul(R,Dt)|0)+Math.imul(W,dt)|0))<<13)|0;_=((o=o+Math.imul(W,Dt)|0)+(t>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,e=Math.imul(yt,qt),t=(t=Math.imul(yt,ee))+Math.imul(xt,qt)|0,o=Math.imul(xt,ee),e=e+Math.imul(V,Ht)|0,t=(t=t+Math.imul(V,N)|0)+Math.imul(J,Ht)|0,o=o+Math.imul(J,N)|0,e=e+Math.imul(D,k)|0,t=(t=t+Math.imul(D,A)|0)+Math.imul(T,k)|0,o=o+Math.imul(T,A)|0,e=e+Math.imul(_t,$)|0,t=(t=t+Math.imul(_t,z)|0)+Math.imul(Kt,$)|0,o=o+Math.imul(Kt,z)|0,e=e+Math.imul(mt,q)|0,t=(t=t+Math.imul(mt,st)|0)+Math.imul(kt,q)|0,o=o+Math.imul(kt,st)|0,e=e+Math.imul(ct,nt)|0,t=(t=t+Math.imul(ct,Ct)|0)+Math.imul(St,nt)|0,o=o+Math.imul(St,Ct)|0,e=e+Math.imul(wt,ht)|0,t=(t=t+Math.imul(wt,Ft)|0)+Math.imul(Tt,ht)|0,o=o+Math.imul(Tt,Ft)|0,e=e+Math.imul(rt,dt)|0,t=(t=t+Math.imul(rt,Dt)|0)+Math.imul(tt,dt)|0,o=o+Math.imul(tt,Dt)|0;var re=(_+(e=e+Math.imul(R,ut)|0)|0)+((8191&(t=(t=t+Math.imul(R,Bt)|0)+Math.imul(W,ut)|0))<<13)|0;_=((o=o+Math.imul(W,Bt)|0)+(t>>>13)|0)+(re>>>26)|0,re&=67108863,e=Math.imul(At,qt),t=(t=Math.imul(At,ee))+Math.imul(Lt,qt)|0,o=Math.imul(Lt,ee),e=e+Math.imul(yt,Ht)|0,t=(t=t+Math.imul(yt,N)|0)+Math.imul(xt,Ht)|0,o=o+Math.imul(xt,N)|0,e=e+Math.imul(V,k)|0,t=(t=t+Math.imul(V,A)|0)+Math.imul(J,k)|0,o=o+Math.imul(J,A)|0,e=e+Math.imul(D,$)|0,t=(t=t+Math.imul(D,z)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,z)|0,e=e+Math.imul(_t,q)|0,t=(t=t+Math.imul(_t,st)|0)+Math.imul(Kt,q)|0,o=o+Math.imul(Kt,st)|0,e=e+Math.imul(mt,nt)|0,t=(t=t+Math.imul(mt,Ct)|0)+Math.imul(kt,nt)|0,o=o+Math.imul(kt,Ct)|0,e=e+Math.imul(ct,ht)|0,t=(t=t+Math.imul(ct,Ft)|0)+Math.imul(St,ht)|0,o=o+Math.imul(St,Ft)|0,e=e+Math.imul(wt,dt)|0,t=(t=t+Math.imul(wt,Dt)|0)+Math.imul(Tt,dt)|0,o=o+Math.imul(Tt,Dt)|0,e=e+Math.imul(rt,ut)|0,t=(t=t+Math.imul(rt,Bt)|0)+Math.imul(tt,ut)|0,o=o+Math.imul(tt,Bt)|0;var ie=(_+(e=e+Math.imul(R,lt)|0)|0)+((8191&(t=(t=t+Math.imul(R,et)|0)+Math.imul(W,lt)|0))<<13)|0;_=((o=o+Math.imul(W,et)|0)+(t>>>13)|0)+(ie>>>26)|0,ie&=67108863,e=Math.imul(At,Ht),t=(t=Math.imul(At,N))+Math.imul(Lt,Ht)|0,o=Math.imul(Lt,N),e=e+Math.imul(yt,k)|0,t=(t=t+Math.imul(yt,A)|0)+Math.imul(xt,k)|0,o=o+Math.imul(xt,A)|0,e=e+Math.imul(V,$)|0,t=(t=t+Math.imul(V,z)|0)+Math.imul(J,$)|0,o=o+Math.imul(J,z)|0,e=e+Math.imul(D,q)|0,t=(t=t+Math.imul(D,st)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,st)|0,e=e+Math.imul(_t,nt)|0,t=(t=t+Math.imul(_t,Ct)|0)+Math.imul(Kt,nt)|0,o=o+Math.imul(Kt,Ct)|0,e=e+Math.imul(mt,ht)|0,t=(t=t+Math.imul(mt,Ft)|0)+Math.imul(kt,ht)|0,o=o+Math.imul(kt,Ft)|0,e=e+Math.imul(ct,dt)|0,t=(t=t+Math.imul(ct,Dt)|0)+Math.imul(St,dt)|0,o=o+Math.imul(St,Dt)|0,e=e+Math.imul(wt,ut)|0,t=(t=t+Math.imul(wt,Bt)|0)+Math.imul(Tt,ut)|0,o=o+Math.imul(Tt,Bt)|0;var ne=(_+(e=e+Math.imul(rt,lt)|0)|0)+((8191&(t=(t=t+Math.imul(rt,et)|0)+Math.imul(tt,lt)|0))<<13)|0;_=((o=o+Math.imul(tt,et)|0)+(t>>>13)|0)+(ne>>>26)|0,ne&=67108863,e=Math.imul(At,k),t=(t=Math.imul(At,A))+Math.imul(Lt,k)|0,o=Math.imul(Lt,A),e=e+Math.imul(yt,$)|0,t=(t=t+Math.imul(yt,z)|0)+Math.imul(xt,$)|0,o=o+Math.imul(xt,z)|0,e=e+Math.imul(V,q)|0,t=(t=t+Math.imul(V,st)|0)+Math.imul(J,q)|0,o=o+Math.imul(J,st)|0,e=e+Math.imul(D,nt)|0,t=(t=t+Math.imul(D,Ct)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,Ct)|0,e=e+Math.imul(_t,ht)|0,t=(t=t+Math.imul(_t,Ft)|0)+Math.imul(Kt,ht)|0,o=o+Math.imul(Kt,Ft)|0,e=e+Math.imul(mt,dt)|0,t=(t=t+Math.imul(mt,Dt)|0)+Math.imul(kt,dt)|0,o=o+Math.imul(kt,Dt)|0,e=e+Math.imul(ct,ut)|0,t=(t=t+Math.imul(ct,Bt)|0)+Math.imul(St,ut)|0,o=o+Math.imul(St,Bt)|0;var Wt=(_+(e=e+Math.imul(wt,lt)|0)|0)+((8191&(t=(t=t+Math.imul(wt,et)|0)+Math.imul(Tt,lt)|0))<<13)|0;_=((o=o+Math.imul(Tt,et)|0)+(t>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,e=Math.imul(At,$),t=(t=Math.imul(At,z))+Math.imul(Lt,$)|0,o=Math.imul(Lt,z),e=e+Math.imul(yt,q)|0,t=(t=t+Math.imul(yt,st)|0)+Math.imul(xt,q)|0,o=o+Math.imul(xt,st)|0,e=e+Math.imul(V,nt)|0,t=(t=t+Math.imul(V,Ct)|0)+Math.imul(J,nt)|0,o=o+Math.imul(J,Ct)|0,e=e+Math.imul(D,ht)|0,t=(t=t+Math.imul(D,Ft)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,Ft)|0,e=e+Math.imul(_t,dt)|0,t=(t=t+Math.imul(_t,Dt)|0)+Math.imul(Kt,dt)|0,o=o+Math.imul(Kt,Dt)|0,e=e+Math.imul(mt,ut)|0,t=(t=t+Math.imul(mt,Bt)|0)+Math.imul(kt,ut)|0,o=o+Math.imul(kt,Bt)|0;var gt=(_+(e=e+Math.imul(ct,lt)|0)|0)+((8191&(t=(t=t+Math.imul(ct,et)|0)+Math.imul(St,lt)|0))<<13)|0;_=((o=o+Math.imul(St,et)|0)+(t>>>13)|0)+(gt>>>26)|0,gt&=67108863,e=Math.imul(At,q),t=(t=Math.imul(At,st))+Math.imul(Lt,q)|0,o=Math.imul(Lt,st),e=e+Math.imul(yt,nt)|0,t=(t=t+Math.imul(yt,Ct)|0)+Math.imul(xt,nt)|0,o=o+Math.imul(xt,Ct)|0,e=e+Math.imul(V,ht)|0,t=(t=t+Math.imul(V,Ft)|0)+Math.imul(J,ht)|0,o=o+Math.imul(J,Ft)|0,e=e+Math.imul(D,dt)|0,t=(t=t+Math.imul(D,Dt)|0)+Math.imul(T,dt)|0,o=o+Math.imul(T,Dt)|0,e=e+Math.imul(_t,ut)|0,t=(t=t+Math.imul(_t,Bt)|0)+Math.imul(Kt,ut)|0,o=o+Math.imul(Kt,Bt)|0;var Pt=(_+(e=e+Math.imul(mt,lt)|0)|0)+((8191&(t=(t=t+Math.imul(mt,et)|0)+Math.imul(kt,lt)|0))<<13)|0;_=((o=o+Math.imul(kt,et)|0)+(t>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,e=Math.imul(At,nt),t=(t=Math.imul(At,Ct))+Math.imul(Lt,nt)|0,o=Math.imul(Lt,Ct),e=e+Math.imul(yt,ht)|0,t=(t=t+Math.imul(yt,Ft)|0)+Math.imul(xt,ht)|0,o=o+Math.imul(xt,Ft)|0,e=e+Math.imul(V,dt)|0,t=(t=t+Math.imul(V,Dt)|0)+Math.imul(J,dt)|0,o=o+Math.imul(J,Dt)|0,e=e+Math.imul(D,ut)|0,t=(t=t+Math.imul(D,Bt)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,Bt)|0;var jt=(_+(e=e+Math.imul(_t,lt)|0)|0)+((8191&(t=(t=t+Math.imul(_t,et)|0)+Math.imul(Kt,lt)|0))<<13)|0;_=((o=o+Math.imul(Kt,et)|0)+(t>>>13)|0)+(jt>>>26)|0,jt&=67108863,e=Math.imul(At,ht),t=(t=Math.imul(At,Ft))+Math.imul(Lt,ht)|0,o=Math.imul(Lt,Ft),e=e+Math.imul(yt,dt)|0,t=(t=t+Math.imul(yt,Dt)|0)+Math.imul(xt,dt)|0,o=o+Math.imul(xt,Dt)|0,e=e+Math.imul(V,ut)|0,t=(t=t+Math.imul(V,Bt)|0)+Math.imul(J,ut)|0,o=o+Math.imul(J,Bt)|0;var Ot=(_+(e=e+Math.imul(D,lt)|0)|0)+((8191&(t=(t=t+Math.imul(D,et)|0)+Math.imul(T,lt)|0))<<13)|0;_=((o=o+Math.imul(T,et)|0)+(t>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,e=Math.imul(At,dt),t=(t=Math.imul(At,Dt))+Math.imul(Lt,dt)|0,o=Math.imul(Lt,Dt),e=e+Math.imul(yt,ut)|0,t=(t=t+Math.imul(yt,Bt)|0)+Math.imul(xt,ut)|0,o=o+Math.imul(xt,Bt)|0;var zt=(_+(e=e+Math.imul(V,lt)|0)|0)+((8191&(t=(t=t+Math.imul(V,et)|0)+Math.imul(J,lt)|0))<<13)|0;_=((o=o+Math.imul(J,et)|0)+(t>>>13)|0)+(zt>>>26)|0,zt&=67108863,e=Math.imul(At,ut),t=(t=Math.imul(At,Bt))+Math.imul(Lt,ut)|0,o=Math.imul(Lt,Bt);var Zt=(_+(e=e+Math.imul(yt,lt)|0)|0)+((8191&(t=(t=t+Math.imul(yt,et)|0)+Math.imul(xt,lt)|0))<<13)|0;_=((o=o+Math.imul(xt,et)|0)+(t>>>13)|0)+(Zt>>>26)|0,Zt&=67108863;var ae=(_+(e=Math.imul(At,lt))|0)+((8191&(t=(t=Math.imul(At,et))+Math.imul(Lt,lt)|0))<<13)|0;return _=((o=Math.imul(Lt,et))+(t>>>13)|0)+(ae>>>26)|0,ae&=67108863,S[0]=at,S[1]=vt,S[2]=bt,S[3]=Et,S[4]=Mt,S[5]=Xt,S[6]=Qt,S[7]=Yt,S[8]=re,S[9]=ie,S[10]=ne,S[11]=Wt,S[12]=gt,S[13]=Pt,S[14]=jt,S[15]=Ot,S[16]=zt,S[17]=Zt,S[18]=ae,_!==0&&(S[19]=_,r.length++),r};function C(i,h,r){return new M().mulp(i,h,r)}function M(i,h){this.x=i,this.y=h}Math.imul||(F=w),n.prototype.mulTo=function(i,h){var r,e=this.length+i.length;return r=this.length===10&&i.length===10?F(this,i,h):e<63?w(this,i,h):e<1024?function(t,o,a){a.negative=o.negative^t.negative,a.length=t.length+o.length;for(var v=0,S=0,_=0;_<a.length-1;_++){var L=S;S=0;for(var R=67108863&v,W=Math.min(_,o.length-1),H=Math.max(0,_-t.length+1);H<=W;H++){var rt=_-H,tt=(0|t.words[rt])*(0|o.words[H]),ft=67108863&tt;R=67108863&(ft=ft+R|0),S+=(L=(L=L+(tt/67108864|0)|0)+(ft>>>26)|0)>>>26,L&=67108863}a.words[_]=R,v=L,L=S}return v!==0?a.words[_]=v:a.length--,a.strip()}(this,i,h):C(this,i,h),r},M.prototype.makeRBT=function(i){for(var h=new Array(i),r=n.prototype._countBits(i)-1,e=0;e<i;e++)h[e]=this.revBin(e,r,i);return h},M.prototype.revBin=function(i,h,r){if(i===0||i===r-1)return i;for(var e=0,t=0;t<h;t++)e|=(1&i)<<h-t-1,i>>=1;return e},M.prototype.permute=function(i,h,r,e,t,o){for(var a=0;a<o;a++)e[a]=h[i[a]],t[a]=r[i[a]]},M.prototype.transform=function(i,h,r,e,t,o){this.permute(o,i,h,r,e,t);for(var a=1;a<t;a<<=1)for(var v=a<<1,S=Math.cos(2*Math.PI/v),_=Math.sin(2*Math.PI/v),L=0;L<t;L+=v)for(var R=S,W=_,H=0;H<a;H++){var rt=r[L+H],tt=e[L+H],ft=r[L+H+a],wt=e[L+H+a],Tt=R*ft-W*wt;wt=R*wt+W*ft,ft=Tt,r[L+H]=rt+ft,e[L+H]=tt+wt,r[L+H+a]=rt-ft,e[L+H+a]=tt-wt,H!==v&&(Tt=S*R-_*W,W=S*W+_*R,R=Tt)}},M.prototype.guessLen13b=function(i,h){var r=1|Math.max(h,i),e=1&r,t=0;for(r=r/2|0;r;r>>>=1)t++;return 1<<t+1+e},M.prototype.conjugate=function(i,h,r){if(!(r<=1))for(var e=0;e<r/2;e++){var t=i[e];i[e]=i[r-e-1],i[r-e-1]=t,t=h[e],h[e]=-h[r-e-1],h[r-e-1]=-t}},M.prototype.normalize13b=function(i,h){for(var r=0,e=0;e<h/2;e++){var t=8192*Math.round(i[2*e+1]/h)+Math.round(i[2*e]/h)+r;i[e]=67108863&t,r=t<67108864?0:t/67108864|0}return i},M.prototype.convert13b=function(i,h,r,e){for(var t=0,o=0;o<h;o++)t+=0|i[o],r[2*o]=8191&t,t>>>=13,r[2*o+1]=8191&t,t>>>=13;for(o=2*h;o<e;++o)r[o]=0;m(t===0),m((-8192&t)==0)},M.prototype.stub=function(i){for(var h=new Array(i),r=0;r<i;r++)h[r]=0;return h},M.prototype.mulp=function(i,h,r){var e=2*this.guessLen13b(i.length,h.length),t=this.makeRBT(e),o=this.stub(e),a=new Array(e),v=new Array(e),S=new Array(e),_=new Array(e),L=new Array(e),R=new Array(e),W=r.words;W.length=e,this.convert13b(i.words,i.length,a,e),this.convert13b(h.words,h.length,_,e),this.transform(a,o,v,S,e,t),this.transform(_,o,L,R,e,t);for(var H=0;H<e;H++){var rt=v[H]*L[H]-S[H]*R[H];S[H]=v[H]*R[H]+S[H]*L[H],v[H]=rt}return this.conjugate(v,S,e),this.transform(v,S,W,o,e,t),this.conjugate(W,o,e),this.normalize13b(W,e),r.negative=i.negative^h.negative,r.length=i.length+h.length,r.strip()},n.prototype.mul=function(i){var h=new n(null);return h.words=new Array(this.length+i.length),this.mulTo(i,h)},n.prototype.mulf=function(i){var h=new n(null);return h.words=new Array(this.length+i.length),C(this,i,h)},n.prototype.imul=function(i){return this.clone().mulTo(i,this)},n.prototype.imuln=function(i){m(typeof i=="number"),m(i<67108864);for(var h=0,r=0;r<this.length;r++){var e=(0|this.words[r])*i,t=(67108863&e)+(67108863&h);h>>=26,h+=e/67108864|0,h+=t>>>26,this.words[r]=67108863&t}return h!==0&&(this.words[r]=h,this.length++),this},n.prototype.muln=function(i){return this.clone().imuln(i)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(i){var h=function(o){for(var a=new Array(o.bitLength()),v=0;v<a.length;v++){var S=v/26|0,_=v%26;a[v]=(o.words[S]&1<<_)>>>_}return a}(i);if(h.length===0)return new n(1);for(var r=this,e=0;e<h.length&&h[e]===0;e++,r=r.sqr());if(++e<h.length)for(var t=r.sqr();e<h.length;e++,t=t.sqr())h[e]!==0&&(r=r.mul(t));return r},n.prototype.iushln=function(i){m(typeof i=="number"&&i>=0);var h,r=i%26,e=(i-r)/26,t=67108863>>>26-r<<26-r;if(r!==0){var o=0;for(h=0;h<this.length;h++){var a=this.words[h]&t,v=(0|this.words[h])-a<<r;this.words[h]=v|o,o=a>>>26-r}o&&(this.words[h]=o,this.length++)}if(e!==0){for(h=this.length-1;h>=0;h--)this.words[h+e]=this.words[h];for(h=0;h<e;h++)this.words[h]=0;this.length+=e}return this.strip()},n.prototype.ishln=function(i){return m(this.negative===0),this.iushln(i)},n.prototype.iushrn=function(i,h,r){var e;m(typeof i=="number"&&i>=0),e=h?(h-h%26)/26:0;var t=i%26,o=Math.min((i-t)/26,this.length),a=67108863^67108863>>>t<<t,v=r;if(e-=o,e=Math.max(0,e),v){for(var S=0;S<o;S++)v.words[S]=this.words[S];v.length=o}if(o!==0)if(this.length>o)for(this.length-=o,S=0;S<this.length;S++)this.words[S]=this.words[S+o];else this.words[0]=0,this.length=1;var _=0;for(S=this.length-1;S>=0&&(_!==0||S>=e);S--){var L=0|this.words[S];this.words[S]=_<<26-t|L>>>t,_=L&a}return v&&_!==0&&(v.words[v.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(i,h,r){return m(this.negative===0),this.iushrn(i,h,r)},n.prototype.shln=function(i){return this.clone().ishln(i)},n.prototype.ushln=function(i){return this.clone().iushln(i)},n.prototype.shrn=function(i){return this.clone().ishrn(i)},n.prototype.ushrn=function(i){return this.clone().iushrn(i)},n.prototype.testn=function(i){m(typeof i=="number"&&i>=0);var h=i%26,r=(i-h)/26,e=1<<h;return!(this.length<=r||!(this.words[r]&e))},n.prototype.imaskn=function(i){m(typeof i=="number"&&i>=0);var h=i%26,r=(i-h)/26;if(m(this.negative===0,"imaskn works only with positive numbers"),this.length<=r)return this;if(h!==0&&r++,this.length=Math.min(r,this.length),h!==0){var e=67108863^67108863>>>h<<h;this.words[this.length-1]&=e}return this.strip()},n.prototype.maskn=function(i){return this.clone().imaskn(i)},n.prototype.iaddn=function(i){return m(typeof i=="number"),m(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(0|this.words[0])<i?(this.words[0]=i-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},n.prototype._iaddn=function(i){this.words[0]+=i;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(i){if(m(typeof i=="number"),m(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},n.prototype.addn=function(i){return this.clone().iaddn(i)},n.prototype.subn=function(i){return this.clone().isubn(i)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(i,h,r){var e,t,o=i.length+r;this._expand(o);var a=0;for(e=0;e<i.length;e++){t=(0|this.words[e+r])+a;var v=(0|i.words[e])*h;a=((t-=67108863&v)>>26)-(v/67108864|0),this.words[e+r]=67108863&t}for(;e<this.length-r;e++)a=(t=(0|this.words[e+r])+a)>>26,this.words[e+r]=67108863&t;if(a===0)return this.strip();for(m(a===-1),a=0,e=0;e<this.length;e++)a=(t=-(0|this.words[e])+a)>>26,this.words[e]=67108863&t;return this.negative=1,this.strip()},n.prototype._wordDiv=function(i,h){var r=(this.length,i.length),e=this.clone(),t=i,o=0|t.words[t.length-1];(r=26-this._countBits(o))!=0&&(t=t.ushln(r),e.iushln(r),o=0|t.words[t.length-1]);var a,v=e.length-t.length;if(h!=="mod"){(a=new n(null)).length=v+1,a.words=new Array(a.length);for(var S=0;S<a.length;S++)a.words[S]=0}var _=e.clone()._ishlnsubmul(t,1,v);_.negative===0&&(e=_,a&&(a.words[v]=1));for(var L=v-1;L>=0;L--){var R=67108864*(0|e.words[t.length+L])+(0|e.words[t.length+L-1]);for(R=Math.min(R/o|0,67108863),e._ishlnsubmul(t,R,L);e.negative!==0;)R--,e.negative=0,e._ishlnsubmul(t,1,L),e.isZero()||(e.negative^=1);a&&(a.words[L]=R)}return a&&a.strip(),e.strip(),h!=="div"&&r!==0&&e.iushrn(r),{div:a||null,mod:e}},n.prototype.divmod=function(i,h,r){return m(!i.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:this.negative!==0&&i.negative===0?(o=this.neg().divmod(i,h),h!=="mod"&&(e=o.div.neg()),h!=="div"&&(t=o.mod.neg(),r&&t.negative!==0&&t.iadd(i)),{div:e,mod:t}):this.negative===0&&i.negative!==0?(o=this.divmod(i.neg(),h),h!=="mod"&&(e=o.div.neg()),{div:e,mod:o.mod}):(this.negative&i.negative)!=0?(o=this.neg().divmod(i.neg(),h),h!=="div"&&(t=o.mod.neg(),r&&t.negative!==0&&t.isub(i)),{div:o.div,mod:t}):i.length>this.length||this.cmp(i)<0?{div:new n(0),mod:this}:i.length===1?h==="div"?{div:this.divn(i.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new n(this.modn(i.words[0]))}:this._wordDiv(i,h);var e,t,o},n.prototype.div=function(i){return this.divmod(i,"div",!1).div},n.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},n.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},n.prototype.divRound=function(i){var h=this.divmod(i);if(h.mod.isZero())return h.div;var r=h.div.negative!==0?h.mod.isub(i):h.mod,e=i.ushrn(1),t=i.andln(1),o=r.cmp(e);return o<0||t===1&&o===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modn=function(i){m(i<=67108863);for(var h=67108864%i,r=0,e=this.length-1;e>=0;e--)r=(h*r+(0|this.words[e]))%i;return r},n.prototype.idivn=function(i){m(i<=67108863);for(var h=0,r=this.length-1;r>=0;r--){var e=(0|this.words[r])+67108864*h;this.words[r]=e/i|0,h=e%i}return this.strip()},n.prototype.divn=function(i){return this.clone().idivn(i)},n.prototype.egcd=function(i){m(i.negative===0),m(!i.isZero());var h=this,r=i.clone();h=h.negative!==0?h.umod(i):h.clone();for(var e=new n(1),t=new n(0),o=new n(0),a=new n(1),v=0;h.isEven()&&r.isEven();)h.iushrn(1),r.iushrn(1),++v;for(var S=r.clone(),_=h.clone();!h.isZero();){for(var L=0,R=1;(h.words[0]&R)==0&&L<26;++L,R<<=1);if(L>0)for(h.iushrn(L);L-- >0;)(e.isOdd()||t.isOdd())&&(e.iadd(S),t.isub(_)),e.iushrn(1),t.iushrn(1);for(var W=0,H=1;(r.words[0]&H)==0&&W<26;++W,H<<=1);if(W>0)for(r.iushrn(W);W-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(S),a.isub(_)),o.iushrn(1),a.iushrn(1);h.cmp(r)>=0?(h.isub(r),e.isub(o),t.isub(a)):(r.isub(h),o.isub(e),a.isub(t))}return{a:o,b:a,gcd:r.iushln(v)}},n.prototype._invmp=function(i){m(i.negative===0),m(!i.isZero());var h=this,r=i.clone();h=h.negative!==0?h.umod(i):h.clone();for(var e,t=new n(1),o=new n(0),a=r.clone();h.cmpn(1)>0&&r.cmpn(1)>0;){for(var v=0,S=1;(h.words[0]&S)==0&&v<26;++v,S<<=1);if(v>0)for(h.iushrn(v);v-- >0;)t.isOdd()&&t.iadd(a),t.iushrn(1);for(var _=0,L=1;(r.words[0]&L)==0&&_<26;++_,L<<=1);if(_>0)for(r.iushrn(_);_-- >0;)o.isOdd()&&o.iadd(a),o.iushrn(1);h.cmp(r)>=0?(h.isub(r),t.isub(o)):(r.isub(h),o.isub(t))}return(e=h.cmpn(1)===0?t:o).cmpn(0)<0&&e.iadd(i),e},n.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var h=this.clone(),r=i.clone();h.negative=0,r.negative=0;for(var e=0;h.isEven()&&r.isEven();e++)h.iushrn(1),r.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;r.isEven();)r.iushrn(1);var t=h.cmp(r);if(t<0){var o=h;h=r,r=o}else if(t===0||r.cmpn(1)===0)break;h.isub(r)}return r.iushln(e)},n.prototype.invm=function(i){return this.egcd(i).a.umod(i)},n.prototype.isEven=function(){return(1&this.words[0])==0},n.prototype.isOdd=function(){return(1&this.words[0])==1},n.prototype.andln=function(i){return this.words[0]&i},n.prototype.bincn=function(i){m(typeof i=="number");var h=i%26,r=(i-h)/26,e=1<<h;if(this.length<=r)return this._expand(r+1),this.words[r]|=e,this;for(var t=e,o=r;t!==0&&o<this.length;o++){var a=0|this.words[o];t=(a+=t)>>>26,a&=67108863,this.words[o]=a}return t!==0&&(this.words[o]=t,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(i){var h,r=i<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;if(this.strip(),this.length>1)h=1;else{r&&(i=-i),m(i<=67108863,"Number is too big");var e=0|this.words[0];h=e===i?0:e<i?-1:1}return this.negative!==0?0|-h:h},n.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var h=this.ucmp(i);return this.negative!==0?0|-h:h},n.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var h=0,r=this.length-1;r>=0;r--){var e=0|this.words[r],t=0|i.words[r];if(e!==t){e<t?h=-1:e>t&&(h=1);break}}return h},n.prototype.gtn=function(i){return this.cmpn(i)===1},n.prototype.gt=function(i){return this.cmp(i)===1},n.prototype.gten=function(i){return this.cmpn(i)>=0},n.prototype.gte=function(i){return this.cmp(i)>=0},n.prototype.ltn=function(i){return this.cmpn(i)===-1},n.prototype.lt=function(i){return this.cmp(i)===-1},n.prototype.lten=function(i){return this.cmpn(i)<=0},n.prototype.lte=function(i){return this.cmp(i)<=0},n.prototype.eqn=function(i){return this.cmpn(i)===0},n.prototype.eq=function(i){return this.cmp(i)===0},n.red=function(i){return new Y(i)},n.prototype.toRed=function(i){return m(!this.red,"Already a number in reduction context"),m(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},n.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(i){return this.red=i,this},n.prototype.forceRed=function(i){return m(!this.red,"Already a number in reduction context"),this._forceRed(i)},n.prototype.redAdd=function(i){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},n.prototype.redIAdd=function(i){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},n.prototype.redSub=function(i){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},n.prototype.redISub=function(i){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},n.prototype.redShl=function(i){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},n.prototype.redMul=function(i){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},n.prototype.redIMul=function(i){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},n.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(i){return m(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var x={k256:null,p224:null,p192:null,p25519:null};function K(i,h){this.name=i,this.p=new n(h,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function j(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function U(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function G(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function X(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Y(i){if(typeof i=="string"){var h=n._prime(i);this.m=h.p,this.prime=h}else m(i.gtn(1),"modulus must be greater than 1"),this.m=i,this.prime=null}function Q(i){Y.call(this,i),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}K.prototype._tmp=function(){var i=new n(null);return i.words=new Array(Math.ceil(this.n/13)),i},K.prototype.ireduce=function(i){var h,r=i;do this.split(r,this.tmp),h=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(h>this.n);var e=h<this.n?-1:r.ucmp(this.p);return e===0?(r.words[0]=0,r.length=1):e>0?r.isub(this.p):r.strip(),r},K.prototype.split=function(i,h){i.iushrn(this.n,0,h)},K.prototype.imulK=function(i){return i.imul(this.k)},g(j,K),j.prototype.split=function(i,h){for(var r=4194303,e=Math.min(i.length,9),t=0;t<e;t++)h.words[t]=i.words[t];if(h.length=e,i.length<=9)return i.words[0]=0,void(i.length=1);var o=i.words[9];for(h.words[h.length++]=o&r,t=10;t<i.length;t++){var a=0|i.words[t];i.words[t-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,i.words[t-10]=o,o===0&&i.length>10?i.length-=10:i.length-=9},j.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var h=0,r=0;r<i.length;r++){var e=0|i.words[r];h+=977*e,i.words[r]=67108863&h,h=64*e+(h/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i},g(U,K),g(G,K),g(X,K),X.prototype.imulK=function(i){for(var h=0,r=0;r<i.length;r++){var e=19*(0|i.words[r])+h,t=67108863&e;e>>>=26,i.words[r]=t,h=e}return h!==0&&(i.words[i.length++]=h),i},n._prime=function(i){if(x[i])return x[i];var h;if(i==="k256")h=new j;else if(i==="p224")h=new U;else if(i==="p192")h=new G;else{if(i!=="p25519")throw new Error("Unknown prime "+i);h=new X}return x[i]=h,h},Y.prototype._verify1=function(i){m(i.negative===0,"red works only with positives"),m(i.red,"red works only with red numbers")},Y.prototype._verify2=function(i,h){m((i.negative|h.negative)==0,"red works only with positives"),m(i.red&&i.red===h.red,"red works only with red numbers")},Y.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):i.umod(this.m)._forceRed(this)},Y.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},Y.prototype.add=function(i,h){this._verify2(i,h);var r=i.add(h);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},Y.prototype.iadd=function(i,h){this._verify2(i,h);var r=i.iadd(h);return r.cmp(this.m)>=0&&r.isub(this.m),r},Y.prototype.sub=function(i,h){this._verify2(i,h);var r=i.sub(h);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},Y.prototype.isub=function(i,h){this._verify2(i,h);var r=i.isub(h);return r.cmpn(0)<0&&r.iadd(this.m),r},Y.prototype.shl=function(i,h){return this._verify1(i),this.imod(i.ushln(h))},Y.prototype.imul=function(i,h){return this._verify2(i,h),this.imod(i.imul(h))},Y.prototype.mul=function(i,h){return this._verify2(i,h),this.imod(i.mul(h))},Y.prototype.isqr=function(i){return this.imul(i,i.clone())},Y.prototype.sqr=function(i){return this.mul(i,i)},Y.prototype.sqrt=function(i){if(i.isZero())return i.clone();var h=this.m.andln(3);if(m(h%2==1),h===3){var r=this.m.add(new n(1)).iushrn(2);return this.pow(i,r)}for(var e=this.m.subn(1),t=0;!e.isZero()&&e.andln(1)===0;)t++,e.iushrn(1);m(!e.isZero());var o=new n(1).toRed(this),a=o.redNeg(),v=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new n(2*S*S).toRed(this);this.pow(S,v).cmp(a)!==0;)S.redIAdd(a);for(var _=this.pow(S,e),L=this.pow(i,e.addn(1).iushrn(1)),R=this.pow(i,e),W=t;R.cmp(o)!==0;){for(var H=R,rt=0;H.cmp(o)!==0;rt++)H=H.redSqr();m(rt<W);var tt=this.pow(_,new n(1).iushln(W-rt-1));L=L.redMul(tt),_=tt.redSqr(),R=R.redMul(_),W=rt}return L},Y.prototype.invm=function(i){var h=i._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Y.prototype.pow=function(i,h){if(h.isZero())return new n(1);if(h.cmpn(1)===0)return i.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=i;for(var e=2;e<r.length;e++)r[e]=this.mul(r[e-1],i);var t=r[0],o=0,a=0,v=h.bitLength()%26;for(v===0&&(v=26),e=h.length-1;e>=0;e--){for(var S=h.words[e],_=v-1;_>=0;_--){var L=S>>_&1;t!==r[0]&&(t=this.sqr(t)),L!==0||o!==0?(o<<=1,o|=L,(++a==4||e===0&&_===0)&&(t=this.mul(t,r[o]),a=0,o=0)):a=0}v=26}return t},Y.prototype.convertTo=function(i){var h=i.umod(this.m);return h===i?h.clone():h},Y.prototype.convertFrom=function(i){var h=i.clone();return h.red=null,h},n.mont=function(i){return new Q(i)},g(Q,Y),Q.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},Q.prototype.convertFrom=function(i){var h=this.imod(i.mul(this.rinv));return h.red=null,h},Q.prototype.imul=function(i,h){if(i.isZero()||h.isZero())return i.words[0]=0,i.length=1,i;var r=i.imul(h),e=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=r.isub(e).iushrn(this.shift),o=t;return t.cmp(this.m)>=0?o=t.isub(this.m):t.cmpn(0)<0&&(o=t.iadd(this.m)),o._forceRed(this)},Q.prototype.mul=function(i,h){if(i.isZero()||h.isZero())return new n(0)._forceRed(this);var r=i.mul(h),e=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=r.isub(e).iushrn(this.shift),o=t;return t.cmp(this.m)>=0?o=t.isub(this.m):t.cmpn(0)<0&&(o=t.iadd(this.m)),o._forceRed(this)},Q.prototype.invm=function(i){return this.imod(i._invmp(this.m).mul(this.r2))._forceRed(this)}})(O=s.nmd(O),this)},(O,B,s)=>{const y=s(10),b=s(11),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=u,B.SlowBuffer=function(E){return+E!=E&&(E=0),u.alloc(+E)},B.INSPECT_MAX_BYTES=50;const g=2147483647;function n(E){if(E>g)throw new RangeError('The value "'+E+'" is invalid for option "size"');const D=new Uint8Array(E);return Object.setPrototypeOf(D,u.prototype),D}function u(E,D,T){if(typeof E=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(E)}return l(E,D,T)}function l(E,D,T){if(typeof E=="string")return function(J,ot){if(typeof ot=="string"&&ot!==""||(ot="utf8"),!u.isEncoding(ot))throw new TypeError("Unknown encoding: "+ot);const yt=0|F(J,ot);let xt=n(yt);const Jt=xt.write(J,ot);return Jt!==yt&&(xt=xt.slice(0,Jt)),xt}(E,D);if(ArrayBuffer.isView(E))return function(J){if(mt(J,Uint8Array)){const ot=new Uint8Array(J);return d(ot.buffer,ot.byteOffset,ot.byteLength)}return f(J)}(E);if(E==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(mt(E,ArrayBuffer)||E&&mt(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(mt(E,SharedArrayBuffer)||E&&mt(E.buffer,SharedArrayBuffer)))return d(E,D,T);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=E.valueOf&&E.valueOf();if(Z!=null&&Z!==E)return u.from(Z,D,T);const V=function(J){if(u.isBuffer(J)){const ot=0|w(J.length),yt=n(ot);return yt.length===0||J.copy(yt,0,0,ot),yt}return J.length!==void 0?typeof J.length!="number"||kt(J.length)?n(0):f(J):J.type==="Buffer"&&Array.isArray(J.data)?f(J.data):void 0}(E);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return u.from(E[Symbol.toPrimitive]("string"),D,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}function c(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function p(E){return c(E),n(E<0?0:0|w(E))}function f(E){const D=E.length<0?0:0|w(E.length),T=n(D);for(let Z=0;Z<D;Z+=1)T[Z]=255&E[Z];return T}function d(E,D,T){if(D<0||E.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<D+(T||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return Z=D===void 0&&T===void 0?new Uint8Array(E):T===void 0?new Uint8Array(E,D):new Uint8Array(E,D,T),Object.setPrototypeOf(Z,u.prototype),Z}function w(E){if(E>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return 0|E}function F(E,D){if(u.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||mt(E,ArrayBuffer))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);const T=E.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&T===0)return 0;let V=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return ct(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*T;case"hex":return T>>>1;case"base64":return St(E).length;default:if(V)return Z?-1:ct(E).length;D=(""+D).toLowerCase(),V=!0}}function C(E,D,T){let Z=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0)<=(D>>>=0))return"";for(E||(E="utf8");;)switch(E){case"hex":return t(this,D,T);case"utf8":case"utf-8":return i(this,D,T);case"ascii":return r(this,D,T);case"latin1":case"binary":return e(this,D,T);case"base64":return Q(this,D,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,D,T);default:if(Z)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),Z=!0}}function M(E,D,T){const Z=E[D];E[D]=E[T],E[T]=Z}function x(E,D,T,Z,V){if(E.length===0)return-1;if(typeof T=="string"?(Z=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),kt(T=+T)&&(T=V?0:E.length-1),T<0&&(T=E.length+T),T>=E.length){if(V)return-1;T=E.length-1}else if(T<0){if(!V)return-1;T=0}if(typeof D=="string"&&(D=u.from(D,Z)),u.isBuffer(D))return D.length===0?-1:K(E,D,T,Z,V);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(E,D,T):Uint8Array.prototype.lastIndexOf.call(E,D,T):K(E,[D],T,Z,V);throw new TypeError("val must be string, number or Buffer")}function K(E,D,T,Z,V){let J,ot=1,yt=E.length,xt=D.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(E.length<2||D.length<2)return-1;ot=2,yt/=2,xt/=2,T/=2}function Jt(At,Lt){return ot===1?At[Lt]:At.readUInt16BE(Lt*ot)}if(V){let At=-1;for(J=T;J<yt;J++)if(Jt(E,J)===Jt(D,At===-1?0:J-At)){if(At===-1&&(At=J),J-At+1===xt)return At*ot}else At!==-1&&(J-=J-At),At=-1}else for(T+xt>yt&&(T=yt-xt),J=T;J>=0;J--){let At=!0;for(let Lt=0;Lt<xt;Lt++)if(Jt(E,J+Lt)!==Jt(D,Lt)){At=!1;break}if(At)return J}return-1}function j(E,D,T,Z){T=Number(T)||0;const V=E.length-T;Z?(Z=Number(Z))>V&&(Z=V):Z=V;const J=D.length;let ot;for(Z>J/2&&(Z=J/2),ot=0;ot<Z;++ot){const yt=parseInt(D.substr(2*ot,2),16);if(kt(yt))return ot;E[T+ot]=yt}return ot}function U(E,D,T,Z){return Gt(ct(D,E.length-T),E,T,Z)}function G(E,D,T,Z){return Gt(function(V){const J=[];for(let ot=0;ot<V.length;++ot)J.push(255&V.charCodeAt(ot));return J}(D),E,T,Z)}function X(E,D,T,Z){return Gt(St(D),E,T,Z)}function Y(E,D,T,Z){return Gt(function(V,J){let ot,yt,xt;const Jt=[];for(let At=0;At<V.length&&!((J-=2)<0);++At)ot=V.charCodeAt(At),yt=ot>>8,xt=ot%256,Jt.push(xt),Jt.push(yt);return Jt}(D,E.length-T),E,T,Z)}function Q(E,D,T){return D===0&&T===E.length?y.fromByteArray(E):y.fromByteArray(E.slice(D,T))}function i(E,D,T){T=Math.min(E.length,T);const Z=[];let V=D;for(;V<T;){const J=E[V];let ot=null,yt=J>239?4:J>223?3:J>191?2:1;if(V+yt<=T){let xt,Jt,At,Lt;switch(yt){case 1:J<128&&(ot=J);break;case 2:xt=E[V+1],(192&xt)==128&&(Lt=(31&J)<<6|63&xt,Lt>127&&(ot=Lt));break;case 3:xt=E[V+1],Jt=E[V+2],(192&xt)==128&&(192&Jt)==128&&(Lt=(15&J)<<12|(63&xt)<<6|63&Jt,Lt>2047&&(Lt<55296||Lt>57343)&&(ot=Lt));break;case 4:xt=E[V+1],Jt=E[V+2],At=E[V+3],(192&xt)==128&&(192&Jt)==128&&(192&At)==128&&(Lt=(15&J)<<18|(63&xt)<<12|(63&Jt)<<6|63&At,Lt>65535&&Lt<1114112&&(ot=Lt))}}ot===null?(ot=65533,yt=1):ot>65535&&(ot-=65536,Z.push(ot>>>10&1023|55296),ot=56320|1023&ot),Z.push(ot),V+=yt}return function(J){const ot=J.length;if(ot<=h)return String.fromCharCode.apply(String,J);let yt="",xt=0;for(;xt<ot;)yt+=String.fromCharCode.apply(String,J.slice(xt,xt+=h));return yt}(Z)}B.kMaxLength=g,u.TYPED_ARRAY_SUPPORT=function(){try{const E=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(E,D),E.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(E,D,T){return l(E,D,T)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(E,D,T){return function(Z,V,J){return c(Z),Z<=0?n(Z):V!==void 0?typeof J=="string"?n(Z).fill(V,J):n(Z).fill(V):n(Z)}(E,D,T)},u.allocUnsafe=function(E){return p(E)},u.allocUnsafeSlow=function(E){return p(E)},u.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==u.prototype},u.compare=function(E,D){if(mt(E,Uint8Array)&&(E=u.from(E,E.offset,E.byteLength)),mt(D,Uint8Array)&&(D=u.from(D,D.offset,D.byteLength)),!u.isBuffer(E)||!u.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===D)return 0;let T=E.length,Z=D.length;for(let V=0,J=Math.min(T,Z);V<J;++V)if(E[V]!==D[V]){T=E[V],Z=D[V];break}return T<Z?-1:Z<T?1:0},u.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(E,D){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return u.alloc(0);let T;if(D===void 0)for(D=0,T=0;T<E.length;++T)D+=E[T].length;const Z=u.allocUnsafe(D);let V=0;for(T=0;T<E.length;++T){let J=E[T];if(mt(J,Uint8Array))V+J.length>Z.length?(u.isBuffer(J)||(J=u.from(J)),J.copy(Z,V)):Uint8Array.prototype.set.call(Z,J,V);else{if(!u.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');J.copy(Z,V)}V+=J.length}return Z},u.byteLength=F,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const E=this.length;if(E%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<E;D+=2)M(this,D,D+1);return this},u.prototype.swap32=function(){const E=this.length;if(E%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<E;D+=4)M(this,D,D+3),M(this,D+1,D+2);return this},u.prototype.swap64=function(){const E=this.length;if(E%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<E;D+=8)M(this,D,D+7),M(this,D+1,D+6),M(this,D+2,D+5),M(this,D+3,D+4);return this},u.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?i(this,0,E):C.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(E){if(!u.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E||u.compare(this,E)===0},u.prototype.inspect=function(){let E="";const D=B.INSPECT_MAX_BYTES;return E=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(E+=" ... "),"<Buffer "+E+">"},m&&(u.prototype[m]=u.prototype.inspect),u.prototype.compare=function(E,D,T,Z,V){if(mt(E,Uint8Array)&&(E=u.from(E,E.offset,E.byteLength)),!u.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(D===void 0&&(D=0),T===void 0&&(T=E?E.length:0),Z===void 0&&(Z=0),V===void 0&&(V=this.length),D<0||T>E.length||Z<0||V>this.length)throw new RangeError("out of range index");if(Z>=V&&D>=T)return 0;if(Z>=V)return-1;if(D>=T)return 1;if(this===E)return 0;let J=(V>>>=0)-(Z>>>=0),ot=(T>>>=0)-(D>>>=0);const yt=Math.min(J,ot),xt=this.slice(Z,V),Jt=E.slice(D,T);for(let At=0;At<yt;++At)if(xt[At]!==Jt[At]){J=xt[At],ot=Jt[At];break}return J<ot?-1:ot<J?1:0},u.prototype.includes=function(E,D,T){return this.indexOf(E,D,T)!==-1},u.prototype.indexOf=function(E,D,T){return x(this,E,D,T,!0)},u.prototype.lastIndexOf=function(E,D,T){return x(this,E,D,T,!1)},u.prototype.write=function(E,D,T,Z){if(D===void 0)Z="utf8",T=this.length,D=0;else if(T===void 0&&typeof D=="string")Z=D,T=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(T)?(T>>>=0,Z===void 0&&(Z="utf8")):(Z=T,T=void 0)}const V=this.length-D;if((T===void 0||T>V)&&(T=V),E.length>0&&(T<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");let J=!1;for(;;)switch(Z){case"hex":return j(this,E,D,T);case"utf8":case"utf-8":return U(this,E,D,T);case"ascii":case"latin1":case"binary":return G(this,E,D,T);case"base64":return X(this,E,D,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,E,D,T);default:if(J)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),J=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const h=4096;function r(E,D,T){let Z="";T=Math.min(E.length,T);for(let V=D;V<T;++V)Z+=String.fromCharCode(127&E[V]);return Z}function e(E,D,T){let Z="";T=Math.min(E.length,T);for(let V=D;V<T;++V)Z+=String.fromCharCode(E[V]);return Z}function t(E,D,T){const Z=E.length;(!D||D<0)&&(D=0),(!T||T<0||T>Z)&&(T=Z);let V="";for(let J=D;J<T;++J)V+=oe[E[J]];return V}function o(E,D,T){const Z=E.slice(D,T);let V="";for(let J=0;J<Z.length-1;J+=2)V+=String.fromCharCode(Z[J]+256*Z[J+1]);return V}function a(E,D,T){if(E%1!=0||E<0)throw new RangeError("offset is not uint");if(E+D>T)throw new RangeError("Trying to access beyond buffer length")}function v(E,D,T,Z,V,J){if(!u.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>V||D<J)throw new RangeError('"value" argument is out of bounds');if(T+Z>E.length)throw new RangeError("Index out of range")}function S(E,D,T,Z,V){ft(D,Z,V,E,T,7);let J=Number(D&BigInt(4294967295));E[T++]=J,J>>=8,E[T++]=J,J>>=8,E[T++]=J,J>>=8,E[T++]=J;let ot=Number(D>>BigInt(32)&BigInt(4294967295));return E[T++]=ot,ot>>=8,E[T++]=ot,ot>>=8,E[T++]=ot,ot>>=8,E[T++]=ot,T}function _(E,D,T,Z,V){ft(D,Z,V,E,T,7);let J=Number(D&BigInt(4294967295));E[T+7]=J,J>>=8,E[T+6]=J,J>>=8,E[T+5]=J,J>>=8,E[T+4]=J;let ot=Number(D>>BigInt(32)&BigInt(4294967295));return E[T+3]=ot,ot>>=8,E[T+2]=ot,ot>>=8,E[T+1]=ot,ot>>=8,E[T]=ot,T+8}function L(E,D,T,Z,V,J){if(T+Z>E.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function R(E,D,T,Z,V){return D=+D,T>>>=0,V||L(E,0,T,4),b.write(E,D,T,Z,23,4),T+4}function W(E,D,T,Z,V){return D=+D,T>>>=0,V||L(E,0,T,8),b.write(E,D,T,Z,52,8),T+8}u.prototype.slice=function(E,D){const T=this.length;(E=~~E)<0?(E+=T)<0&&(E=0):E>T&&(E=T),(D=D===void 0?T:~~D)<0?(D+=T)<0&&(D=0):D>T&&(D=T),D<E&&(D=E);const Z=this.subarray(E,D);return Object.setPrototypeOf(Z,u.prototype),Z},u.prototype.readUintLE=u.prototype.readUIntLE=function(E,D,T){E>>>=0,D>>>=0,T||a(E,D,this.length);let Z=this[E],V=1,J=0;for(;++J<D&&(V*=256);)Z+=this[E+J]*V;return Z},u.prototype.readUintBE=u.prototype.readUIntBE=function(E,D,T){E>>>=0,D>>>=0,T||a(E,D,this.length);let Z=this[E+--D],V=1;for(;D>0&&(V*=256);)Z+=this[E+--D]*V;return Z},u.prototype.readUint8=u.prototype.readUInt8=function(E,D){return E>>>=0,D||a(E,1,this.length),this[E]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(E,D){return E>>>=0,D||a(E,2,this.length),this[E]|this[E+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(E,D){return E>>>=0,D||a(E,2,this.length),this[E]<<8|this[E+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(E,D){return E>>>=0,D||a(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(E,D){return E>>>=0,D||a(E,4,this.length),16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])},u.prototype.readBigUInt64LE=_t(function(E){wt(E>>>=0,"offset");const D=this[E],T=this[E+7];D!==void 0&&T!==void 0||Tt(E,this.length-8);const Z=D+256*this[++E]+65536*this[++E]+this[++E]*2**24,V=this[++E]+256*this[++E]+65536*this[++E]+T*2**24;return BigInt(Z)+(BigInt(V)<<BigInt(32))}),u.prototype.readBigUInt64BE=_t(function(E){wt(E>>>=0,"offset");const D=this[E],T=this[E+7];D!==void 0&&T!==void 0||Tt(E,this.length-8);const Z=D*2**24+65536*this[++E]+256*this[++E]+this[++E],V=this[++E]*2**24+65536*this[++E]+256*this[++E]+T;return(BigInt(Z)<<BigInt(32))+BigInt(V)}),u.prototype.readIntLE=function(E,D,T){E>>>=0,D>>>=0,T||a(E,D,this.length);let Z=this[E],V=1,J=0;for(;++J<D&&(V*=256);)Z+=this[E+J]*V;return V*=128,Z>=V&&(Z-=Math.pow(2,8*D)),Z},u.prototype.readIntBE=function(E,D,T){E>>>=0,D>>>=0,T||a(E,D,this.length);let Z=D,V=1,J=this[E+--Z];for(;Z>0&&(V*=256);)J+=this[E+--Z]*V;return V*=128,J>=V&&(J-=Math.pow(2,8*D)),J},u.prototype.readInt8=function(E,D){return E>>>=0,D||a(E,1,this.length),128&this[E]?-1*(255-this[E]+1):this[E]},u.prototype.readInt16LE=function(E,D){E>>>=0,D||a(E,2,this.length);const T=this[E]|this[E+1]<<8;return 32768&T?4294901760|T:T},u.prototype.readInt16BE=function(E,D){E>>>=0,D||a(E,2,this.length);const T=this[E+1]|this[E]<<8;return 32768&T?4294901760|T:T},u.prototype.readInt32LE=function(E,D){return E>>>=0,D||a(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},u.prototype.readInt32BE=function(E,D){return E>>>=0,D||a(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},u.prototype.readBigInt64LE=_t(function(E){wt(E>>>=0,"offset");const D=this[E],T=this[E+7];D!==void 0&&T!==void 0||Tt(E,this.length-8);const Z=this[E+4]+256*this[E+5]+65536*this[E+6]+(T<<24);return(BigInt(Z)<<BigInt(32))+BigInt(D+256*this[++E]+65536*this[++E]+this[++E]*16777216)}),u.prototype.readBigInt64BE=_t(function(E){wt(E>>>=0,"offset");const D=this[E],T=this[E+7];D!==void 0&&T!==void 0||Tt(E,this.length-8);const Z=(D<<24)+65536*this[++E]+256*this[++E]+this[++E];return(BigInt(Z)<<BigInt(32))+BigInt(this[++E]*16777216+65536*this[++E]+256*this[++E]+T)}),u.prototype.readFloatLE=function(E,D){return E>>>=0,D||a(E,4,this.length),b.read(this,E,!0,23,4)},u.prototype.readFloatBE=function(E,D){return E>>>=0,D||a(E,4,this.length),b.read(this,E,!1,23,4)},u.prototype.readDoubleLE=function(E,D){return E>>>=0,D||a(E,8,this.length),b.read(this,E,!0,52,8)},u.prototype.readDoubleBE=function(E,D){return E>>>=0,D||a(E,8,this.length),b.read(this,E,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(E,D,T,Z){E=+E,D>>>=0,T>>>=0,Z||v(this,E,D,T,Math.pow(2,8*T)-1,0);let V=1,J=0;for(this[D]=255&E;++J<T&&(V*=256);)this[D+J]=E/V&255;return D+T},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(E,D,T,Z){E=+E,D>>>=0,T>>>=0,Z||v(this,E,D,T,Math.pow(2,8*T)-1,0);let V=T-1,J=1;for(this[D+V]=255&E;--V>=0&&(J*=256);)this[D+V]=E/J&255;return D+T},u.prototype.writeUint8=u.prototype.writeUInt8=function(E,D,T){return E=+E,D>>>=0,T||v(this,E,D,1,255,0),this[D]=255&E,D+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(E,D,T){return E=+E,D>>>=0,T||v(this,E,D,2,65535,0),this[D]=255&E,this[D+1]=E>>>8,D+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(E,D,T){return E=+E,D>>>=0,T||v(this,E,D,2,65535,0),this[D]=E>>>8,this[D+1]=255&E,D+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(E,D,T){return E=+E,D>>>=0,T||v(this,E,D,4,4294967295,0),this[D+3]=E>>>24,this[D+2]=E>>>16,this[D+1]=E>>>8,this[D]=255&E,D+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(E,D,T){return E=+E,D>>>=0,T||v(this,E,D,4,4294967295,0),this[D]=E>>>24,this[D+1]=E>>>16,this[D+2]=E>>>8,this[D+3]=255&E,D+4},u.prototype.writeBigUInt64LE=_t(function(E,D=0){return S(this,E,D,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=_t(function(E,D=0){return _(this,E,D,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(E,D,T,Z){if(E=+E,D>>>=0,!Z){const yt=Math.pow(2,8*T-1);v(this,E,D,T,yt-1,-yt)}let V=0,J=1,ot=0;for(this[D]=255&E;++V<T&&(J*=256);)E<0&&ot===0&&this[D+V-1]!==0&&(ot=1),this[D+V]=(E/J>>0)-ot&255;return D+T},u.prototype.writeIntBE=function(E,D,T,Z){if(E=+E,D>>>=0,!Z){const yt=Math.pow(2,8*T-1);v(this,E,D,T,yt-1,-yt)}let V=T-1,J=1,ot=0;for(this[D+V]=255&E;--V>=0&&(J*=256);)E<0&&ot===0&&this[D+V+1]!==0&&(ot=1),this[D+V]=(E/J>>0)-ot&255;return D+T},u.prototype.writeInt8=function(E,D,T){return E=+E,D>>>=0,T||v(this,E,D,1,127,-128),E<0&&(E=255+E+1),this[D]=255&E,D+1},u.prototype.writeInt16LE=function(E,D,T){return E=+E,D>>>=0,T||v(this,E,D,2,32767,-32768),this[D]=255&E,this[D+1]=E>>>8,D+2},u.prototype.writeInt16BE=function(E,D,T){return E=+E,D>>>=0,T||v(this,E,D,2,32767,-32768),this[D]=E>>>8,this[D+1]=255&E,D+2},u.prototype.writeInt32LE=function(E,D,T){return E=+E,D>>>=0,T||v(this,E,D,4,2147483647,-2147483648),this[D]=255&E,this[D+1]=E>>>8,this[D+2]=E>>>16,this[D+3]=E>>>24,D+4},u.prototype.writeInt32BE=function(E,D,T){return E=+E,D>>>=0,T||v(this,E,D,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[D]=E>>>24,this[D+1]=E>>>16,this[D+2]=E>>>8,this[D+3]=255&E,D+4},u.prototype.writeBigInt64LE=_t(function(E,D=0){return S(this,E,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=_t(function(E,D=0){return _(this,E,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(E,D,T){return R(this,E,D,!0,T)},u.prototype.writeFloatBE=function(E,D,T){return R(this,E,D,!1,T)},u.prototype.writeDoubleLE=function(E,D,T){return W(this,E,D,!0,T)},u.prototype.writeDoubleBE=function(E,D,T){return W(this,E,D,!1,T)},u.prototype.copy=function(E,D,T,Z){if(!u.isBuffer(E))throw new TypeError("argument should be a Buffer");if(T||(T=0),Z||Z===0||(Z=this.length),D>=E.length&&(D=E.length),D||(D=0),Z>0&&Z<T&&(Z=T),Z===T||E.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),E.length-D<Z-T&&(Z=E.length-D+T);const V=Z-T;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(D,T,Z):Uint8Array.prototype.set.call(E,this.subarray(T,Z),D),V},u.prototype.fill=function(E,D,T,Z){if(typeof E=="string"){if(typeof D=="string"?(Z=D,D=0,T=this.length):typeof T=="string"&&(Z=T,T=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!u.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(E.length===1){const J=E.charCodeAt(0);(Z==="utf8"&&J<128||Z==="latin1")&&(E=J)}}else typeof E=="number"?E&=255:typeof E=="boolean"&&(E=Number(E));if(D<0||this.length<D||this.length<T)throw new RangeError("Out of range index");if(T<=D)return this;let V;if(D>>>=0,T=T===void 0?this.length:T>>>0,E||(E=0),typeof E=="number")for(V=D;V<T;++V)this[V]=E;else{const J=u.isBuffer(E)?E:u.from(E,Z),ot=J.length;if(ot===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(V=0;V<T-D;++V)this[V+D]=J[V%ot]}return this};const H={};function rt(E,D,T){H[E]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${E}]`,this.stack,delete this.name}get code(){return E}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${E}]: ${this.message}`}}}function tt(E){let D="",T=E.length;const Z=E[0]==="-"?1:0;for(;T>=Z+4;T-=3)D=`_${E.slice(T-3,T)}${D}`;return`${E.slice(0,T)}${D}`}function ft(E,D,T,Z,V,J){if(E>T||E<D){const ot=typeof D=="bigint"?"n":"";let yt;throw yt=J>3?D===0||D===BigInt(0)?`>= 0${ot} and < 2${ot} ** ${8*(J+1)}${ot}`:`>= -(2${ot} ** ${8*(J+1)-1}${ot}) and < 2 ** ${8*(J+1)-1}${ot}`:`>= ${D}${ot} and <= ${T}${ot}`,new H.ERR_OUT_OF_RANGE("value",yt,E)}(function(ot,yt,xt){wt(yt,"offset"),ot[yt]!==void 0&&ot[yt+xt]!==void 0||Tt(yt,ot.length-(xt+1))})(Z,V,J)}function wt(E,D){if(typeof E!="number")throw new H.ERR_INVALID_ARG_TYPE(D,"number",E)}function Tt(E,D,T){throw Math.floor(E)!==E?(wt(E,T),new H.ERR_OUT_OF_RANGE(T||"offset","an integer",E)):D<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE(T||"offset",`>= ${T?1:0} and <= ${D}`,E)}rt("ERR_BUFFER_OUT_OF_BOUNDS",function(E){return E?`${E} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),rt("ERR_INVALID_ARG_TYPE",function(E,D){return`The "${E}" argument must be of type number. Received type ${typeof D}`},TypeError),rt("ERR_OUT_OF_RANGE",function(E,D,T){let Z=`The value of "${E}" is out of range.`,V=T;return Number.isInteger(T)&&Math.abs(T)>4294967296?V=tt(String(T)):typeof T=="bigint"&&(V=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(V=tt(V)),V+="n"),Z+=` It must be ${D}. Received ${V}`,Z},RangeError);const pt=/[^+/0-9A-Za-z-_]/g;function ct(E,D){let T;D=D||1/0;const Z=E.length;let V=null;const J=[];for(let ot=0;ot<Z;++ot){if(T=E.charCodeAt(ot),T>55295&&T<57344){if(!V){if(T>56319){(D-=3)>-1&&J.push(239,191,189);continue}if(ot+1===Z){(D-=3)>-1&&J.push(239,191,189);continue}V=T;continue}if(T<56320){(D-=3)>-1&&J.push(239,191,189),V=T;continue}T=65536+(V-55296<<10|T-56320)}else V&&(D-=3)>-1&&J.push(239,191,189);if(V=null,T<128){if((D-=1)<0)break;J.push(T)}else if(T<2048){if((D-=2)<0)break;J.push(T>>6|192,63&T|128)}else if(T<65536){if((D-=3)<0)break;J.push(T>>12|224,T>>6&63|128,63&T|128)}else{if(!(T<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;J.push(T>>18|240,T>>12&63|128,T>>6&63|128,63&T|128)}}return J}function St(E){return y.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(pt,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(E))}function Gt(E,D,T,Z){let V;for(V=0;V<Z&&!(V+T>=D.length||V>=E.length);++V)D[V+T]=E[V];return V}function mt(E,D){return E instanceof D||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===D.name}function kt(E){return E!=E}const oe=function(){const E="0123456789abcdef",D=new Array(256);for(let T=0;T<16;++T){const Z=16*T;for(let V=0;V<16;++V)D[Z+V]=E[T]+E[V]}return D}();function _t(E){return typeof BigInt>"u"?Kt:E}function Kt(){throw new Error("BigInt not supported")}},(O,B)=>{B.byteLength=function(c){var p=u(c),f=p[0],d=p[1];return 3*(f+d)/4-d},B.toByteArray=function(c){var p,f,d=u(c),w=d[0],F=d[1],C=new b(function(K,j,U){return 3*(j+U)/4-U}(0,w,F)),M=0,x=F>0?w-4:w;for(f=0;f<x;f+=4)p=y[c.charCodeAt(f)]<<18|y[c.charCodeAt(f+1)]<<12|y[c.charCodeAt(f+2)]<<6|y[c.charCodeAt(f+3)],C[M++]=p>>16&255,C[M++]=p>>8&255,C[M++]=255&p;return F===2&&(p=y[c.charCodeAt(f)]<<2|y[c.charCodeAt(f+1)]>>4,C[M++]=255&p),F===1&&(p=y[c.charCodeAt(f)]<<10|y[c.charCodeAt(f+1)]<<4|y[c.charCodeAt(f+2)]>>2,C[M++]=p>>8&255,C[M++]=255&p),C},B.fromByteArray=function(c){for(var p,f=c.length,d=f%3,w=[],F=16383,C=0,M=f-d;C<M;C+=F)w.push(l(c,C,C+F>M?M:C+F));return d===1?(p=c[f-1],w.push(s[p>>2]+s[p<<4&63]+"==")):d===2&&(p=(c[f-2]<<8)+c[f-1],w.push(s[p>>10]+s[p>>4&63]+s[p<<2&63]+"=")),w.join("")};for(var s=[],y=[],b=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,n=m.length;g<n;++g)s[g]=m[g],y[m.charCodeAt(g)]=g;function u(c){var p=c.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=c.indexOf("=");return f===-1&&(f=p),[f,f===p?0:4-f%4]}function l(c,p,f){for(var d,w,F=[],C=p;C<f;C+=3)d=(c[C]<<16&16711680)+(c[C+1]<<8&65280)+(255&c[C+2]),F.push(s[(w=d)>>18&63]+s[w>>12&63]+s[w>>6&63]+s[63&w]);return F.join("")}y["-".charCodeAt(0)]=62,y["_".charCodeAt(0)]=63},(O,B)=>{B.read=function(s,y,b,m,g){var n,u,l=8*g-m-1,c=(1<<l)-1,p=c>>1,f=-7,d=b?g-1:0,w=b?-1:1,F=s[y+d];for(d+=w,n=F&(1<<-f)-1,F>>=-f,f+=l;f>0;n=256*n+s[y+d],d+=w,f-=8);for(u=n&(1<<-f)-1,n>>=-f,f+=m;f>0;u=256*u+s[y+d],d+=w,f-=8);if(n===0)n=1-p;else{if(n===c)return u?NaN:1/0*(F?-1:1);u+=Math.pow(2,m),n-=p}return(F?-1:1)*u*Math.pow(2,n-m)},B.write=function(s,y,b,m,g,n){var u,l,c,p=8*n-g-1,f=(1<<p)-1,d=f>>1,w=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=m?0:n-1,C=m?1:-1,M=y<0||y===0&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(l=isNaN(y)?1:0,u=f):(u=Math.floor(Math.log(y)/Math.LN2),y*(c=Math.pow(2,-u))<1&&(u--,c*=2),(y+=u+d>=1?w/c:w*Math.pow(2,1-d))*c>=2&&(u++,c/=2),u+d>=f?(l=0,u=f):u+d>=1?(l=(y*c-1)*Math.pow(2,g),u+=d):(l=y*Math.pow(2,d-1)*Math.pow(2,g),u=0));g>=8;s[b+F]=255&l,F+=C,l/=256,g-=8);for(u=u<<g|l,p+=g;p>0;s[b+F]=255&u,F+=C,u/=256,p-=8);s[b+F-C]|=128*M}},(O,B,s)=>{var y=s(13),b=s(14);O.exports=function(m){if(typeof m=="string"||typeof m=="number"){var g=new y(1),n=String(m).toLowerCase().trim(),u=n.substr(0,2)==="0x"||n.substr(0,3)==="-0x",l=b(n);if(l.substr(0,1)==="-"&&(l=b(l.slice(1)),g=new y(-1,10)),!(l=l===""?"0":l).match(/^-?[0-9]+$/)&&l.match(/^[0-9A-Fa-f]+$/)||l.match(/^[a-fA-F]+$/)||u===!0&&l.match(/^[0-9A-Fa-f]+$/))return new y(l,16).mul(g);if((l.match(/^-?[0-9]+$/)||l==="")&&u===!1)return new y(l,10).mul(g)}else if(typeof m=="object"&&m.toString&&!m.pop&&!m.push&&m.toString(10).match(/^-?[0-9]+$/)&&(m.mul||m.dividedToIntegerBy))return new y(m.toString(10),10);throw new Error("[number-to-bn] while converting number "+JSON.stringify(m)+" to BN.js instance, error: invalid number value. Value must be an integer, hex string, BN or BigNumber instance. Note, decimals are not supported.")}},function(O,B,s){(function(y,b){function m(i,h){if(!i)throw new Error(h||"Assertion failed")}function g(i,h){i.super_=h;var r=function(){};r.prototype=h.prototype,i.prototype=new r,i.prototype.constructor=i}function n(i,h,r){if(n.isBN(i))return i;this.negative=0,this.words=null,this.length=0,this.red=null,i!==null&&(h!=="le"&&h!=="be"||(r=h,h=10),this._init(i||0,h||10,r||"be"))}var u;typeof y=="object"?y.exports=n:b.BN=n,n.BN=n,n.wordSize=26;try{u=s(9).Buffer}catch{}function l(i,h,r){for(var e=0,t=Math.min(i.length,r),o=h;o<t;o++){var a=i.charCodeAt(o)-48;e<<=4,e|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return e}function c(i,h,r,e){for(var t=0,o=Math.min(i.length,r),a=h;a<o;a++){var v=i.charCodeAt(a)-48;t*=e,t+=v>=49?v-49+10:v>=17?v-17+10:v}return t}n.isBN=function(i){return i instanceof n||i!==null&&typeof i=="object"&&i.constructor.wordSize===n.wordSize&&Array.isArray(i.words)},n.max=function(i,h){return i.cmp(h)>0?i:h},n.min=function(i,h){return i.cmp(h)<0?i:h},n.prototype._init=function(i,h,r){if(typeof i=="number")return this._initNumber(i,h,r);if(typeof i=="object")return this._initArray(i,h,r);h==="hex"&&(h=16),m(h===(0|h)&&h>=2&&h<=36);var e=0;(i=i.toString().replace(/\s+/g,""))[0]==="-"&&e++,h===16?this._parseHex(i,e):this._parseBase(i,h,e),i[0]==="-"&&(this.negative=1),this.strip(),r==="le"&&this._initArray(this.toArray(),h,r)},n.prototype._initNumber=function(i,h,r){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[67108863&i],this.length=1):i<4503599627370496?(this.words=[67108863&i,i/67108864&67108863],this.length=2):(m(i<9007199254740992),this.words=[67108863&i,i/67108864&67108863,1],this.length=3),r==="le"&&this._initArray(this.toArray(),h,r)},n.prototype._initArray=function(i,h,r){if(m(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var e=0;e<this.length;e++)this.words[e]=0;var t,o,a=0;if(r==="be")for(e=i.length-1,t=0;e>=0;e-=3)o=i[e]|i[e-1]<<8|i[e-2]<<16,this.words[t]|=o<<a&67108863,this.words[t+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,t++);else if(r==="le")for(e=0,t=0;e<i.length;e+=3)o=i[e]|i[e+1]<<8|i[e+2]<<16,this.words[t]|=o<<a&67108863,this.words[t+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,t++);return this.strip()},n.prototype._parseHex=function(i,h){this.length=Math.ceil((i.length-h)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var e,t,o=0;for(r=i.length-6,e=0;r>=h;r-=6)t=l(i,r,r+6),this.words[e]|=t<<o&67108863,this.words[e+1]|=t>>>26-o&4194303,(o+=24)>=26&&(o-=26,e++);r+6!==h&&(t=l(i,h,r+6),this.words[e]|=t<<o&67108863,this.words[e+1]|=t>>>26-o&4194303),this.strip()},n.prototype._parseBase=function(i,h,r){this.words=[0],this.length=1;for(var e=0,t=1;t<=67108863;t*=h)e++;e--,t=t/h|0;for(var o=i.length-r,a=o%e,v=Math.min(o,o-a)+r,S=0,_=r;_<v;_+=e)S=c(i,_,_+e,h),this.imuln(t),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(a!==0){var L=1;for(S=c(i,_,i.length,h),_=0;_<a;_++)L*=h;this.imuln(L),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}},n.prototype.copy=function(i){i.words=new Array(this.length);for(var h=0;h<this.length;h++)i.words[h]=this.words[h];i.length=this.length,i.negative=this.negative,i.red=this.red},n.prototype.clone=function(){var i=new n(null);return this.copy(i),i},n.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function w(i,h,r){r.negative=h.negative^i.negative;var e=i.length+h.length|0;r.length=e,e=e-1|0;var t=0|i.words[0],o=0|h.words[0],a=t*o,v=67108863&a,S=a/67108864|0;r.words[0]=v;for(var _=1;_<e;_++){for(var L=S>>>26,R=67108863&S,W=Math.min(_,h.length-1),H=Math.max(0,_-i.length+1);H<=W;H++){var rt=_-H|0;L+=(a=(t=0|i.words[rt])*(o=0|h.words[H])+R)/67108864|0,R=67108863&a}r.words[_]=0|R,S=0|L}return S!==0?r.words[_]=0|S:r.length--,r.strip()}n.prototype.toString=function(i,h){var r;if(h=0|h||1,(i=i||10)===16||i==="hex"){r="";for(var e=0,t=0,o=0;o<this.length;o++){var a=this.words[o],v=(16777215&(a<<e|t)).toString(16);r=(t=a>>>24-e&16777215)!=0||o!==this.length-1?p[6-v.length]+v+r:v+r,(e+=2)>=26&&(e-=26,o--)}for(t!==0&&(r=t.toString(16)+r);r.length%h!=0;)r="0"+r;return this.negative!==0&&(r="-"+r),r}if(i===(0|i)&&i>=2&&i<=36){var S=f[i],_=d[i];r="";var L=this.clone();for(L.negative=0;!L.isZero();){var R=L.modn(_).toString(i);r=(L=L.idivn(_)).isZero()?R+r:p[S-R.length]+R+r}for(this.isZero()&&(r="0"+r);r.length%h!=0;)r="0"+r;return this.negative!==0&&(r="-"+r),r}m(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=67108864*this.words[1]:this.length===3&&this.words[2]===1?i+=4503599627370496+67108864*this.words[1]:this.length>2&&m(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(i,h){return m(u!==void 0),this.toArrayLike(u,i,h)},n.prototype.toArray=function(i,h){return this.toArrayLike(Array,i,h)},n.prototype.toArrayLike=function(i,h,r){var e=this.byteLength(),t=r||Math.max(1,e);m(e<=t,"byte array longer than desired length"),m(t>0,"Requested array length <= 0"),this.strip();var o,a,v=h==="le",S=new i(t),_=this.clone();if(v){for(a=0;!_.isZero();a++)o=_.andln(255),_.iushrn(8),S[a]=o;for(;a<t;a++)S[a]=0}else{for(a=0;a<t-e;a++)S[a]=0;for(a=0;!_.isZero();a++)o=_.andln(255),_.iushrn(8),S[t-a-1]=o}return S},Math.clz32?n.prototype._countBits=function(i){return 32-Math.clz32(i)}:n.prototype._countBits=function(i){var h=i,r=0;return h>=4096&&(r+=13,h>>>=13),h>=64&&(r+=7,h>>>=7),h>=8&&(r+=4,h>>>=4),h>=2&&(r+=2,h>>>=2),r+h},n.prototype._zeroBits=function(i){if(i===0)return 26;var h=i,r=0;return(8191&h)==0&&(r+=13,h>>>=13),(127&h)==0&&(r+=7,h>>>=7),(15&h)==0&&(r+=4,h>>>=4),(3&h)==0&&(r+=2,h>>>=2),(1&h)==0&&r++,r},n.prototype.bitLength=function(){var i=this.words[this.length-1],h=this._countBits(i);return 26*(this.length-1)+h},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,h=0;h<this.length;h++){var r=this._zeroBits(this.words[h]);if(i+=r,r!==26)break}return i},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},n.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var h=0;h<i.length;h++)this.words[h]=this.words[h]|i.words[h];return this.strip()},n.prototype.ior=function(i){return m((this.negative|i.negative)==0),this.iuor(i)},n.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},n.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},n.prototype.iuand=function(i){var h;h=this.length>i.length?i:this;for(var r=0;r<h.length;r++)this.words[r]=this.words[r]&i.words[r];return this.length=h.length,this.strip()},n.prototype.iand=function(i){return m((this.negative|i.negative)==0),this.iuand(i)},n.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},n.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},n.prototype.iuxor=function(i){var h,r;this.length>i.length?(h=this,r=i):(h=i,r=this);for(var e=0;e<r.length;e++)this.words[e]=h.words[e]^r.words[e];if(this!==h)for(;e<h.length;e++)this.words[e]=h.words[e];return this.length=h.length,this.strip()},n.prototype.ixor=function(i){return m((this.negative|i.negative)==0),this.iuxor(i)},n.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},n.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},n.prototype.inotn=function(i){m(typeof i=="number"&&i>=0);var h=0|Math.ceil(i/26),r=i%26;this._expand(h),r>0&&h--;for(var e=0;e<h;e++)this.words[e]=67108863&~this.words[e];return r>0&&(this.words[e]=~this.words[e]&67108863>>26-r),this.strip()},n.prototype.notn=function(i){return this.clone().inotn(i)},n.prototype.setn=function(i,h){m(typeof i=="number"&&i>=0);var r=i/26|0,e=i%26;return this._expand(r+1),this.words[r]=h?this.words[r]|1<<e:this.words[r]&~(1<<e),this.strip()},n.prototype.iadd=function(i){var h,r,e;if(this.negative!==0&&i.negative===0)return this.negative=0,h=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,h=this.isub(i),i.negative=1,h._normSign();this.length>i.length?(r=this,e=i):(r=i,e=this);for(var t=0,o=0;o<e.length;o++)h=(0|r.words[o])+(0|e.words[o])+t,this.words[o]=67108863&h,t=h>>>26;for(;t!==0&&o<r.length;o++)h=(0|r.words[o])+t,this.words[o]=67108863&h,t=h>>>26;if(this.length=r.length,t!==0)this.words[this.length]=t,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(i){var h;return i.negative!==0&&this.negative===0?(i.negative=0,h=this.sub(i),i.negative^=1,h):i.negative===0&&this.negative!==0?(this.negative=0,h=i.sub(this),this.negative=1,h):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},n.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var h=this.iadd(i);return i.negative=1,h._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var r,e,t=this.cmp(i);if(t===0)return this.negative=0,this.length=1,this.words[0]=0,this;t>0?(r=this,e=i):(r=i,e=this);for(var o=0,a=0;a<e.length;a++)o=(h=(0|r.words[a])-(0|e.words[a])+o)>>26,this.words[a]=67108863&h;for(;o!==0&&a<r.length;a++)o=(h=(0|r.words[a])+o)>>26,this.words[a]=67108863&h;if(o===0&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(i){return this.clone().isub(i)};var F=function(i,h,r){var e,t,o,a=i.words,v=h.words,S=r.words,_=0,L=0|a[0],R=8191&L,W=L>>>13,H=0|a[1],rt=8191&H,tt=H>>>13,ft=0|a[2],wt=8191&ft,Tt=ft>>>13,pt=0|a[3],ct=8191&pt,St=pt>>>13,Gt=0|a[4],mt=8191&Gt,kt=Gt>>>13,oe=0|a[5],_t=8191&oe,Kt=oe>>>13,E=0|a[6],D=8191&E,T=E>>>13,Z=0|a[7],V=8191&Z,J=Z>>>13,ot=0|a[8],yt=8191&ot,xt=ot>>>13,Jt=0|a[9],At=8191&Jt,Lt=Jt>>>13,ue=0|v[0],qt=8191&ue,ee=ue>>>13,se=0|v[1],Ht=8191&se,N=se>>>13,P=0|v[2],k=8191&P,A=P>>>13,I=0|v[3],$=8191&I,z=I>>>13,it=0|v[4],q=8191&it,st=it>>>13,It=0|v[5],nt=8191&It,Ct=It>>>13,Nt=0|v[6],ht=8191&Nt,Ft=Nt>>>13,Ut=0|v[7],dt=8191&Ut,Dt=Ut>>>13,Rt=0|v[8],ut=8191&Rt,Bt=Rt>>>13,$t=0|v[9],lt=8191&$t,et=$t>>>13;r.negative=i.negative^h.negative,r.length=19;var at=(_+(e=Math.imul(R,qt))|0)+((8191&(t=(t=Math.imul(R,ee))+Math.imul(W,qt)|0))<<13)|0;_=((o=Math.imul(W,ee))+(t>>>13)|0)+(at>>>26)|0,at&=67108863,e=Math.imul(rt,qt),t=(t=Math.imul(rt,ee))+Math.imul(tt,qt)|0,o=Math.imul(tt,ee);var vt=(_+(e=e+Math.imul(R,Ht)|0)|0)+((8191&(t=(t=t+Math.imul(R,N)|0)+Math.imul(W,Ht)|0))<<13)|0;_=((o=o+Math.imul(W,N)|0)+(t>>>13)|0)+(vt>>>26)|0,vt&=67108863,e=Math.imul(wt,qt),t=(t=Math.imul(wt,ee))+Math.imul(Tt,qt)|0,o=Math.imul(Tt,ee),e=e+Math.imul(rt,Ht)|0,t=(t=t+Math.imul(rt,N)|0)+Math.imul(tt,Ht)|0,o=o+Math.imul(tt,N)|0;var bt=(_+(e=e+Math.imul(R,k)|0)|0)+((8191&(t=(t=t+Math.imul(R,A)|0)+Math.imul(W,k)|0))<<13)|0;_=((o=o+Math.imul(W,A)|0)+(t>>>13)|0)+(bt>>>26)|0,bt&=67108863,e=Math.imul(ct,qt),t=(t=Math.imul(ct,ee))+Math.imul(St,qt)|0,o=Math.imul(St,ee),e=e+Math.imul(wt,Ht)|0,t=(t=t+Math.imul(wt,N)|0)+Math.imul(Tt,Ht)|0,o=o+Math.imul(Tt,N)|0,e=e+Math.imul(rt,k)|0,t=(t=t+Math.imul(rt,A)|0)+Math.imul(tt,k)|0,o=o+Math.imul(tt,A)|0;var Et=(_+(e=e+Math.imul(R,$)|0)|0)+((8191&(t=(t=t+Math.imul(R,z)|0)+Math.imul(W,$)|0))<<13)|0;_=((o=o+Math.imul(W,z)|0)+(t>>>13)|0)+(Et>>>26)|0,Et&=67108863,e=Math.imul(mt,qt),t=(t=Math.imul(mt,ee))+Math.imul(kt,qt)|0,o=Math.imul(kt,ee),e=e+Math.imul(ct,Ht)|0,t=(t=t+Math.imul(ct,N)|0)+Math.imul(St,Ht)|0,o=o+Math.imul(St,N)|0,e=e+Math.imul(wt,k)|0,t=(t=t+Math.imul(wt,A)|0)+Math.imul(Tt,k)|0,o=o+Math.imul(Tt,A)|0,e=e+Math.imul(rt,$)|0,t=(t=t+Math.imul(rt,z)|0)+Math.imul(tt,$)|0,o=o+Math.imul(tt,z)|0;var Mt=(_+(e=e+Math.imul(R,q)|0)|0)+((8191&(t=(t=t+Math.imul(R,st)|0)+Math.imul(W,q)|0))<<13)|0;_=((o=o+Math.imul(W,st)|0)+(t>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,e=Math.imul(_t,qt),t=(t=Math.imul(_t,ee))+Math.imul(Kt,qt)|0,o=Math.imul(Kt,ee),e=e+Math.imul(mt,Ht)|0,t=(t=t+Math.imul(mt,N)|0)+Math.imul(kt,Ht)|0,o=o+Math.imul(kt,N)|0,e=e+Math.imul(ct,k)|0,t=(t=t+Math.imul(ct,A)|0)+Math.imul(St,k)|0,o=o+Math.imul(St,A)|0,e=e+Math.imul(wt,$)|0,t=(t=t+Math.imul(wt,z)|0)+Math.imul(Tt,$)|0,o=o+Math.imul(Tt,z)|0,e=e+Math.imul(rt,q)|0,t=(t=t+Math.imul(rt,st)|0)+Math.imul(tt,q)|0,o=o+Math.imul(tt,st)|0;var Xt=(_+(e=e+Math.imul(R,nt)|0)|0)+((8191&(t=(t=t+Math.imul(R,Ct)|0)+Math.imul(W,nt)|0))<<13)|0;_=((o=o+Math.imul(W,Ct)|0)+(t>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,e=Math.imul(D,qt),t=(t=Math.imul(D,ee))+Math.imul(T,qt)|0,o=Math.imul(T,ee),e=e+Math.imul(_t,Ht)|0,t=(t=t+Math.imul(_t,N)|0)+Math.imul(Kt,Ht)|0,o=o+Math.imul(Kt,N)|0,e=e+Math.imul(mt,k)|0,t=(t=t+Math.imul(mt,A)|0)+Math.imul(kt,k)|0,o=o+Math.imul(kt,A)|0,e=e+Math.imul(ct,$)|0,t=(t=t+Math.imul(ct,z)|0)+Math.imul(St,$)|0,o=o+Math.imul(St,z)|0,e=e+Math.imul(wt,q)|0,t=(t=t+Math.imul(wt,st)|0)+Math.imul(Tt,q)|0,o=o+Math.imul(Tt,st)|0,e=e+Math.imul(rt,nt)|0,t=(t=t+Math.imul(rt,Ct)|0)+Math.imul(tt,nt)|0,o=o+Math.imul(tt,Ct)|0;var Qt=(_+(e=e+Math.imul(R,ht)|0)|0)+((8191&(t=(t=t+Math.imul(R,Ft)|0)+Math.imul(W,ht)|0))<<13)|0;_=((o=o+Math.imul(W,Ft)|0)+(t>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,e=Math.imul(V,qt),t=(t=Math.imul(V,ee))+Math.imul(J,qt)|0,o=Math.imul(J,ee),e=e+Math.imul(D,Ht)|0,t=(t=t+Math.imul(D,N)|0)+Math.imul(T,Ht)|0,o=o+Math.imul(T,N)|0,e=e+Math.imul(_t,k)|0,t=(t=t+Math.imul(_t,A)|0)+Math.imul(Kt,k)|0,o=o+Math.imul(Kt,A)|0,e=e+Math.imul(mt,$)|0,t=(t=t+Math.imul(mt,z)|0)+Math.imul(kt,$)|0,o=o+Math.imul(kt,z)|0,e=e+Math.imul(ct,q)|0,t=(t=t+Math.imul(ct,st)|0)+Math.imul(St,q)|0,o=o+Math.imul(St,st)|0,e=e+Math.imul(wt,nt)|0,t=(t=t+Math.imul(wt,Ct)|0)+Math.imul(Tt,nt)|0,o=o+Math.imul(Tt,Ct)|0,e=e+Math.imul(rt,ht)|0,t=(t=t+Math.imul(rt,Ft)|0)+Math.imul(tt,ht)|0,o=o+Math.imul(tt,Ft)|0;var Yt=(_+(e=e+Math.imul(R,dt)|0)|0)+((8191&(t=(t=t+Math.imul(R,Dt)|0)+Math.imul(W,dt)|0))<<13)|0;_=((o=o+Math.imul(W,Dt)|0)+(t>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,e=Math.imul(yt,qt),t=(t=Math.imul(yt,ee))+Math.imul(xt,qt)|0,o=Math.imul(xt,ee),e=e+Math.imul(V,Ht)|0,t=(t=t+Math.imul(V,N)|0)+Math.imul(J,Ht)|0,o=o+Math.imul(J,N)|0,e=e+Math.imul(D,k)|0,t=(t=t+Math.imul(D,A)|0)+Math.imul(T,k)|0,o=o+Math.imul(T,A)|0,e=e+Math.imul(_t,$)|0,t=(t=t+Math.imul(_t,z)|0)+Math.imul(Kt,$)|0,o=o+Math.imul(Kt,z)|0,e=e+Math.imul(mt,q)|0,t=(t=t+Math.imul(mt,st)|0)+Math.imul(kt,q)|0,o=o+Math.imul(kt,st)|0,e=e+Math.imul(ct,nt)|0,t=(t=t+Math.imul(ct,Ct)|0)+Math.imul(St,nt)|0,o=o+Math.imul(St,Ct)|0,e=e+Math.imul(wt,ht)|0,t=(t=t+Math.imul(wt,Ft)|0)+Math.imul(Tt,ht)|0,o=o+Math.imul(Tt,Ft)|0,e=e+Math.imul(rt,dt)|0,t=(t=t+Math.imul(rt,Dt)|0)+Math.imul(tt,dt)|0,o=o+Math.imul(tt,Dt)|0;var re=(_+(e=e+Math.imul(R,ut)|0)|0)+((8191&(t=(t=t+Math.imul(R,Bt)|0)+Math.imul(W,ut)|0))<<13)|0;_=((o=o+Math.imul(W,Bt)|0)+(t>>>13)|0)+(re>>>26)|0,re&=67108863,e=Math.imul(At,qt),t=(t=Math.imul(At,ee))+Math.imul(Lt,qt)|0,o=Math.imul(Lt,ee),e=e+Math.imul(yt,Ht)|0,t=(t=t+Math.imul(yt,N)|0)+Math.imul(xt,Ht)|0,o=o+Math.imul(xt,N)|0,e=e+Math.imul(V,k)|0,t=(t=t+Math.imul(V,A)|0)+Math.imul(J,k)|0,o=o+Math.imul(J,A)|0,e=e+Math.imul(D,$)|0,t=(t=t+Math.imul(D,z)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,z)|0,e=e+Math.imul(_t,q)|0,t=(t=t+Math.imul(_t,st)|0)+Math.imul(Kt,q)|0,o=o+Math.imul(Kt,st)|0,e=e+Math.imul(mt,nt)|0,t=(t=t+Math.imul(mt,Ct)|0)+Math.imul(kt,nt)|0,o=o+Math.imul(kt,Ct)|0,e=e+Math.imul(ct,ht)|0,t=(t=t+Math.imul(ct,Ft)|0)+Math.imul(St,ht)|0,o=o+Math.imul(St,Ft)|0,e=e+Math.imul(wt,dt)|0,t=(t=t+Math.imul(wt,Dt)|0)+Math.imul(Tt,dt)|0,o=o+Math.imul(Tt,Dt)|0,e=e+Math.imul(rt,ut)|0,t=(t=t+Math.imul(rt,Bt)|0)+Math.imul(tt,ut)|0,o=o+Math.imul(tt,Bt)|0;var ie=(_+(e=e+Math.imul(R,lt)|0)|0)+((8191&(t=(t=t+Math.imul(R,et)|0)+Math.imul(W,lt)|0))<<13)|0;_=((o=o+Math.imul(W,et)|0)+(t>>>13)|0)+(ie>>>26)|0,ie&=67108863,e=Math.imul(At,Ht),t=(t=Math.imul(At,N))+Math.imul(Lt,Ht)|0,o=Math.imul(Lt,N),e=e+Math.imul(yt,k)|0,t=(t=t+Math.imul(yt,A)|0)+Math.imul(xt,k)|0,o=o+Math.imul(xt,A)|0,e=e+Math.imul(V,$)|0,t=(t=t+Math.imul(V,z)|0)+Math.imul(J,$)|0,o=o+Math.imul(J,z)|0,e=e+Math.imul(D,q)|0,t=(t=t+Math.imul(D,st)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,st)|0,e=e+Math.imul(_t,nt)|0,t=(t=t+Math.imul(_t,Ct)|0)+Math.imul(Kt,nt)|0,o=o+Math.imul(Kt,Ct)|0,e=e+Math.imul(mt,ht)|0,t=(t=t+Math.imul(mt,Ft)|0)+Math.imul(kt,ht)|0,o=o+Math.imul(kt,Ft)|0,e=e+Math.imul(ct,dt)|0,t=(t=t+Math.imul(ct,Dt)|0)+Math.imul(St,dt)|0,o=o+Math.imul(St,Dt)|0,e=e+Math.imul(wt,ut)|0,t=(t=t+Math.imul(wt,Bt)|0)+Math.imul(Tt,ut)|0,o=o+Math.imul(Tt,Bt)|0;var ne=(_+(e=e+Math.imul(rt,lt)|0)|0)+((8191&(t=(t=t+Math.imul(rt,et)|0)+Math.imul(tt,lt)|0))<<13)|0;_=((o=o+Math.imul(tt,et)|0)+(t>>>13)|0)+(ne>>>26)|0,ne&=67108863,e=Math.imul(At,k),t=(t=Math.imul(At,A))+Math.imul(Lt,k)|0,o=Math.imul(Lt,A),e=e+Math.imul(yt,$)|0,t=(t=t+Math.imul(yt,z)|0)+Math.imul(xt,$)|0,o=o+Math.imul(xt,z)|0,e=e+Math.imul(V,q)|0,t=(t=t+Math.imul(V,st)|0)+Math.imul(J,q)|0,o=o+Math.imul(J,st)|0,e=e+Math.imul(D,nt)|0,t=(t=t+Math.imul(D,Ct)|0)+Math.imul(T,nt)|0,o=o+Math.imul(T,Ct)|0,e=e+Math.imul(_t,ht)|0,t=(t=t+Math.imul(_t,Ft)|0)+Math.imul(Kt,ht)|0,o=o+Math.imul(Kt,Ft)|0,e=e+Math.imul(mt,dt)|0,t=(t=t+Math.imul(mt,Dt)|0)+Math.imul(kt,dt)|0,o=o+Math.imul(kt,Dt)|0,e=e+Math.imul(ct,ut)|0,t=(t=t+Math.imul(ct,Bt)|0)+Math.imul(St,ut)|0,o=o+Math.imul(St,Bt)|0;var Wt=(_+(e=e+Math.imul(wt,lt)|0)|0)+((8191&(t=(t=t+Math.imul(wt,et)|0)+Math.imul(Tt,lt)|0))<<13)|0;_=((o=o+Math.imul(Tt,et)|0)+(t>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,e=Math.imul(At,$),t=(t=Math.imul(At,z))+Math.imul(Lt,$)|0,o=Math.imul(Lt,z),e=e+Math.imul(yt,q)|0,t=(t=t+Math.imul(yt,st)|0)+Math.imul(xt,q)|0,o=o+Math.imul(xt,st)|0,e=e+Math.imul(V,nt)|0,t=(t=t+Math.imul(V,Ct)|0)+Math.imul(J,nt)|0,o=o+Math.imul(J,Ct)|0,e=e+Math.imul(D,ht)|0,t=(t=t+Math.imul(D,Ft)|0)+Math.imul(T,ht)|0,o=o+Math.imul(T,Ft)|0,e=e+Math.imul(_t,dt)|0,t=(t=t+Math.imul(_t,Dt)|0)+Math.imul(Kt,dt)|0,o=o+Math.imul(Kt,Dt)|0,e=e+Math.imul(mt,ut)|0,t=(t=t+Math.imul(mt,Bt)|0)+Math.imul(kt,ut)|0,o=o+Math.imul(kt,Bt)|0;var gt=(_+(e=e+Math.imul(ct,lt)|0)|0)+((8191&(t=(t=t+Math.imul(ct,et)|0)+Math.imul(St,lt)|0))<<13)|0;_=((o=o+Math.imul(St,et)|0)+(t>>>13)|0)+(gt>>>26)|0,gt&=67108863,e=Math.imul(At,q),t=(t=Math.imul(At,st))+Math.imul(Lt,q)|0,o=Math.imul(Lt,st),e=e+Math.imul(yt,nt)|0,t=(t=t+Math.imul(yt,Ct)|0)+Math.imul(xt,nt)|0,o=o+Math.imul(xt,Ct)|0,e=e+Math.imul(V,ht)|0,t=(t=t+Math.imul(V,Ft)|0)+Math.imul(J,ht)|0,o=o+Math.imul(J,Ft)|0,e=e+Math.imul(D,dt)|0,t=(t=t+Math.imul(D,Dt)|0)+Math.imul(T,dt)|0,o=o+Math.imul(T,Dt)|0,e=e+Math.imul(_t,ut)|0,t=(t=t+Math.imul(_t,Bt)|0)+Math.imul(Kt,ut)|0,o=o+Math.imul(Kt,Bt)|0;var Pt=(_+(e=e+Math.imul(mt,lt)|0)|0)+((8191&(t=(t=t+Math.imul(mt,et)|0)+Math.imul(kt,lt)|0))<<13)|0;_=((o=o+Math.imul(kt,et)|0)+(t>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,e=Math.imul(At,nt),t=(t=Math.imul(At,Ct))+Math.imul(Lt,nt)|0,o=Math.imul(Lt,Ct),e=e+Math.imul(yt,ht)|0,t=(t=t+Math.imul(yt,Ft)|0)+Math.imul(xt,ht)|0,o=o+Math.imul(xt,Ft)|0,e=e+Math.imul(V,dt)|0,t=(t=t+Math.imul(V,Dt)|0)+Math.imul(J,dt)|0,o=o+Math.imul(J,Dt)|0,e=e+Math.imul(D,ut)|0,t=(t=t+Math.imul(D,Bt)|0)+Math.imul(T,ut)|0,o=o+Math.imul(T,Bt)|0;var jt=(_+(e=e+Math.imul(_t,lt)|0)|0)+((8191&(t=(t=t+Math.imul(_t,et)|0)+Math.imul(Kt,lt)|0))<<13)|0;_=((o=o+Math.imul(Kt,et)|0)+(t>>>13)|0)+(jt>>>26)|0,jt&=67108863,e=Math.imul(At,ht),t=(t=Math.imul(At,Ft))+Math.imul(Lt,ht)|0,o=Math.imul(Lt,Ft),e=e+Math.imul(yt,dt)|0,t=(t=t+Math.imul(yt,Dt)|0)+Math.imul(xt,dt)|0,o=o+Math.imul(xt,Dt)|0,e=e+Math.imul(V,ut)|0,t=(t=t+Math.imul(V,Bt)|0)+Math.imul(J,ut)|0,o=o+Math.imul(J,Bt)|0;var Ot=(_+(e=e+Math.imul(D,lt)|0)|0)+((8191&(t=(t=t+Math.imul(D,et)|0)+Math.imul(T,lt)|0))<<13)|0;_=((o=o+Math.imul(T,et)|0)+(t>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,e=Math.imul(At,dt),t=(t=Math.imul(At,Dt))+Math.imul(Lt,dt)|0,o=Math.imul(Lt,Dt),e=e+Math.imul(yt,ut)|0,t=(t=t+Math.imul(yt,Bt)|0)+Math.imul(xt,ut)|0,o=o+Math.imul(xt,Bt)|0;var zt=(_+(e=e+Math.imul(V,lt)|0)|0)+((8191&(t=(t=t+Math.imul(V,et)|0)+Math.imul(J,lt)|0))<<13)|0;_=((o=o+Math.imul(J,et)|0)+(t>>>13)|0)+(zt>>>26)|0,zt&=67108863,e=Math.imul(At,ut),t=(t=Math.imul(At,Bt))+Math.imul(Lt,ut)|0,o=Math.imul(Lt,Bt);var Zt=(_+(e=e+Math.imul(yt,lt)|0)|0)+((8191&(t=(t=t+Math.imul(yt,et)|0)+Math.imul(xt,lt)|0))<<13)|0;_=((o=o+Math.imul(xt,et)|0)+(t>>>13)|0)+(Zt>>>26)|0,Zt&=67108863;var ae=(_+(e=Math.imul(At,lt))|0)+((8191&(t=(t=Math.imul(At,et))+Math.imul(Lt,lt)|0))<<13)|0;return _=((o=Math.imul(Lt,et))+(t>>>13)|0)+(ae>>>26)|0,ae&=67108863,S[0]=at,S[1]=vt,S[2]=bt,S[3]=Et,S[4]=Mt,S[5]=Xt,S[6]=Qt,S[7]=Yt,S[8]=re,S[9]=ie,S[10]=ne,S[11]=Wt,S[12]=gt,S[13]=Pt,S[14]=jt,S[15]=Ot,S[16]=zt,S[17]=Zt,S[18]=ae,_!==0&&(S[19]=_,r.length++),r};function C(i,h,r){return new M().mulp(i,h,r)}function M(i,h){this.x=i,this.y=h}Math.imul||(F=w),n.prototype.mulTo=function(i,h){var r,e=this.length+i.length;return r=this.length===10&&i.length===10?F(this,i,h):e<63?w(this,i,h):e<1024?function(t,o,a){a.negative=o.negative^t.negative,a.length=t.length+o.length;for(var v=0,S=0,_=0;_<a.length-1;_++){var L=S;S=0;for(var R=67108863&v,W=Math.min(_,o.length-1),H=Math.max(0,_-t.length+1);H<=W;H++){var rt=_-H,tt=(0|t.words[rt])*(0|o.words[H]),ft=67108863&tt;R=67108863&(ft=ft+R|0),S+=(L=(L=L+(tt/67108864|0)|0)+(ft>>>26)|0)>>>26,L&=67108863}a.words[_]=R,v=L,L=S}return v!==0?a.words[_]=v:a.length--,a.strip()}(this,i,h):C(this,i,h),r},M.prototype.makeRBT=function(i){for(var h=new Array(i),r=n.prototype._countBits(i)-1,e=0;e<i;e++)h[e]=this.revBin(e,r,i);return h},M.prototype.revBin=function(i,h,r){if(i===0||i===r-1)return i;for(var e=0,t=0;t<h;t++)e|=(1&i)<<h-t-1,i>>=1;return e},M.prototype.permute=function(i,h,r,e,t,o){for(var a=0;a<o;a++)e[a]=h[i[a]],t[a]=r[i[a]]},M.prototype.transform=function(i,h,r,e,t,o){this.permute(o,i,h,r,e,t);for(var a=1;a<t;a<<=1)for(var v=a<<1,S=Math.cos(2*Math.PI/v),_=Math.sin(2*Math.PI/v),L=0;L<t;L+=v)for(var R=S,W=_,H=0;H<a;H++){var rt=r[L+H],tt=e[L+H],ft=r[L+H+a],wt=e[L+H+a],Tt=R*ft-W*wt;wt=R*wt+W*ft,ft=Tt,r[L+H]=rt+ft,e[L+H]=tt+wt,r[L+H+a]=rt-ft,e[L+H+a]=tt-wt,H!==v&&(Tt=S*R-_*W,W=S*W+_*R,R=Tt)}},M.prototype.guessLen13b=function(i,h){var r=1|Math.max(h,i),e=1&r,t=0;for(r=r/2|0;r;r>>>=1)t++;return 1<<t+1+e},M.prototype.conjugate=function(i,h,r){if(!(r<=1))for(var e=0;e<r/2;e++){var t=i[e];i[e]=i[r-e-1],i[r-e-1]=t,t=h[e],h[e]=-h[r-e-1],h[r-e-1]=-t}},M.prototype.normalize13b=function(i,h){for(var r=0,e=0;e<h/2;e++){var t=8192*Math.round(i[2*e+1]/h)+Math.round(i[2*e]/h)+r;i[e]=67108863&t,r=t<67108864?0:t/67108864|0}return i},M.prototype.convert13b=function(i,h,r,e){for(var t=0,o=0;o<h;o++)t+=0|i[o],r[2*o]=8191&t,t>>>=13,r[2*o+1]=8191&t,t>>>=13;for(o=2*h;o<e;++o)r[o]=0;m(t===0),m((-8192&t)==0)},M.prototype.stub=function(i){for(var h=new Array(i),r=0;r<i;r++)h[r]=0;return h},M.prototype.mulp=function(i,h,r){var e=2*this.guessLen13b(i.length,h.length),t=this.makeRBT(e),o=this.stub(e),a=new Array(e),v=new Array(e),S=new Array(e),_=new Array(e),L=new Array(e),R=new Array(e),W=r.words;W.length=e,this.convert13b(i.words,i.length,a,e),this.convert13b(h.words,h.length,_,e),this.transform(a,o,v,S,e,t),this.transform(_,o,L,R,e,t);for(var H=0;H<e;H++){var rt=v[H]*L[H]-S[H]*R[H];S[H]=v[H]*R[H]+S[H]*L[H],v[H]=rt}return this.conjugate(v,S,e),this.transform(v,S,W,o,e,t),this.conjugate(W,o,e),this.normalize13b(W,e),r.negative=i.negative^h.negative,r.length=i.length+h.length,r.strip()},n.prototype.mul=function(i){var h=new n(null);return h.words=new Array(this.length+i.length),this.mulTo(i,h)},n.prototype.mulf=function(i){var h=new n(null);return h.words=new Array(this.length+i.length),C(this,i,h)},n.prototype.imul=function(i){return this.clone().mulTo(i,this)},n.prototype.imuln=function(i){m(typeof i=="number"),m(i<67108864);for(var h=0,r=0;r<this.length;r++){var e=(0|this.words[r])*i,t=(67108863&e)+(67108863&h);h>>=26,h+=e/67108864|0,h+=t>>>26,this.words[r]=67108863&t}return h!==0&&(this.words[r]=h,this.length++),this},n.prototype.muln=function(i){return this.clone().imuln(i)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(i){var h=function(o){for(var a=new Array(o.bitLength()),v=0;v<a.length;v++){var S=v/26|0,_=v%26;a[v]=(o.words[S]&1<<_)>>>_}return a}(i);if(h.length===0)return new n(1);for(var r=this,e=0;e<h.length&&h[e]===0;e++,r=r.sqr());if(++e<h.length)for(var t=r.sqr();e<h.length;e++,t=t.sqr())h[e]!==0&&(r=r.mul(t));return r},n.prototype.iushln=function(i){m(typeof i=="number"&&i>=0);var h,r=i%26,e=(i-r)/26,t=67108863>>>26-r<<26-r;if(r!==0){var o=0;for(h=0;h<this.length;h++){var a=this.words[h]&t,v=(0|this.words[h])-a<<r;this.words[h]=v|o,o=a>>>26-r}o&&(this.words[h]=o,this.length++)}if(e!==0){for(h=this.length-1;h>=0;h--)this.words[h+e]=this.words[h];for(h=0;h<e;h++)this.words[h]=0;this.length+=e}return this.strip()},n.prototype.ishln=function(i){return m(this.negative===0),this.iushln(i)},n.prototype.iushrn=function(i,h,r){var e;m(typeof i=="number"&&i>=0),e=h?(h-h%26)/26:0;var t=i%26,o=Math.min((i-t)/26,this.length),a=67108863^67108863>>>t<<t,v=r;if(e-=o,e=Math.max(0,e),v){for(var S=0;S<o;S++)v.words[S]=this.words[S];v.length=o}if(o!==0)if(this.length>o)for(this.length-=o,S=0;S<this.length;S++)this.words[S]=this.words[S+o];else this.words[0]=0,this.length=1;var _=0;for(S=this.length-1;S>=0&&(_!==0||S>=e);S--){var L=0|this.words[S];this.words[S]=_<<26-t|L>>>t,_=L&a}return v&&_!==0&&(v.words[v.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(i,h,r){return m(this.negative===0),this.iushrn(i,h,r)},n.prototype.shln=function(i){return this.clone().ishln(i)},n.prototype.ushln=function(i){return this.clone().iushln(i)},n.prototype.shrn=function(i){return this.clone().ishrn(i)},n.prototype.ushrn=function(i){return this.clone().iushrn(i)},n.prototype.testn=function(i){m(typeof i=="number"&&i>=0);var h=i%26,r=(i-h)/26,e=1<<h;return!(this.length<=r||!(this.words[r]&e))},n.prototype.imaskn=function(i){m(typeof i=="number"&&i>=0);var h=i%26,r=(i-h)/26;if(m(this.negative===0,"imaskn works only with positive numbers"),this.length<=r)return this;if(h!==0&&r++,this.length=Math.min(r,this.length),h!==0){var e=67108863^67108863>>>h<<h;this.words[this.length-1]&=e}return this.strip()},n.prototype.maskn=function(i){return this.clone().imaskn(i)},n.prototype.iaddn=function(i){return m(typeof i=="number"),m(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(0|this.words[0])<i?(this.words[0]=i-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},n.prototype._iaddn=function(i){this.words[0]+=i;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(i){if(m(typeof i=="number"),m(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},n.prototype.addn=function(i){return this.clone().iaddn(i)},n.prototype.subn=function(i){return this.clone().isubn(i)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(i,h,r){var e,t,o=i.length+r;this._expand(o);var a=0;for(e=0;e<i.length;e++){t=(0|this.words[e+r])+a;var v=(0|i.words[e])*h;a=((t-=67108863&v)>>26)-(v/67108864|0),this.words[e+r]=67108863&t}for(;e<this.length-r;e++)a=(t=(0|this.words[e+r])+a)>>26,this.words[e+r]=67108863&t;if(a===0)return this.strip();for(m(a===-1),a=0,e=0;e<this.length;e++)a=(t=-(0|this.words[e])+a)>>26,this.words[e]=67108863&t;return this.negative=1,this.strip()},n.prototype._wordDiv=function(i,h){var r=(this.length,i.length),e=this.clone(),t=i,o=0|t.words[t.length-1];(r=26-this._countBits(o))!=0&&(t=t.ushln(r),e.iushln(r),o=0|t.words[t.length-1]);var a,v=e.length-t.length;if(h!=="mod"){(a=new n(null)).length=v+1,a.words=new Array(a.length);for(var S=0;S<a.length;S++)a.words[S]=0}var _=e.clone()._ishlnsubmul(t,1,v);_.negative===0&&(e=_,a&&(a.words[v]=1));for(var L=v-1;L>=0;L--){var R=67108864*(0|e.words[t.length+L])+(0|e.words[t.length+L-1]);for(R=Math.min(R/o|0,67108863),e._ishlnsubmul(t,R,L);e.negative!==0;)R--,e.negative=0,e._ishlnsubmul(t,1,L),e.isZero()||(e.negative^=1);a&&(a.words[L]=R)}return a&&a.strip(),e.strip(),h!=="div"&&r!==0&&e.iushrn(r),{div:a||null,mod:e}},n.prototype.divmod=function(i,h,r){return m(!i.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:this.negative!==0&&i.negative===0?(o=this.neg().divmod(i,h),h!=="mod"&&(e=o.div.neg()),h!=="div"&&(t=o.mod.neg(),r&&t.negative!==0&&t.iadd(i)),{div:e,mod:t}):this.negative===0&&i.negative!==0?(o=this.divmod(i.neg(),h),h!=="mod"&&(e=o.div.neg()),{div:e,mod:o.mod}):(this.negative&i.negative)!=0?(o=this.neg().divmod(i.neg(),h),h!=="div"&&(t=o.mod.neg(),r&&t.negative!==0&&t.isub(i)),{div:o.div,mod:t}):i.length>this.length||this.cmp(i)<0?{div:new n(0),mod:this}:i.length===1?h==="div"?{div:this.divn(i.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new n(this.modn(i.words[0]))}:this._wordDiv(i,h);var e,t,o},n.prototype.div=function(i){return this.divmod(i,"div",!1).div},n.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},n.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},n.prototype.divRound=function(i){var h=this.divmod(i);if(h.mod.isZero())return h.div;var r=h.div.negative!==0?h.mod.isub(i):h.mod,e=i.ushrn(1),t=i.andln(1),o=r.cmp(e);return o<0||t===1&&o===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modn=function(i){m(i<=67108863);for(var h=67108864%i,r=0,e=this.length-1;e>=0;e--)r=(h*r+(0|this.words[e]))%i;return r},n.prototype.idivn=function(i){m(i<=67108863);for(var h=0,r=this.length-1;r>=0;r--){var e=(0|this.words[r])+67108864*h;this.words[r]=e/i|0,h=e%i}return this.strip()},n.prototype.divn=function(i){return this.clone().idivn(i)},n.prototype.egcd=function(i){m(i.negative===0),m(!i.isZero());var h=this,r=i.clone();h=h.negative!==0?h.umod(i):h.clone();for(var e=new n(1),t=new n(0),o=new n(0),a=new n(1),v=0;h.isEven()&&r.isEven();)h.iushrn(1),r.iushrn(1),++v;for(var S=r.clone(),_=h.clone();!h.isZero();){for(var L=0,R=1;(h.words[0]&R)==0&&L<26;++L,R<<=1);if(L>0)for(h.iushrn(L);L-- >0;)(e.isOdd()||t.isOdd())&&(e.iadd(S),t.isub(_)),e.iushrn(1),t.iushrn(1);for(var W=0,H=1;(r.words[0]&H)==0&&W<26;++W,H<<=1);if(W>0)for(r.iushrn(W);W-- >0;)(o.isOdd()||a.isOdd())&&(o.iadd(S),a.isub(_)),o.iushrn(1),a.iushrn(1);h.cmp(r)>=0?(h.isub(r),e.isub(o),t.isub(a)):(r.isub(h),o.isub(e),a.isub(t))}return{a:o,b:a,gcd:r.iushln(v)}},n.prototype._invmp=function(i){m(i.negative===0),m(!i.isZero());var h=this,r=i.clone();h=h.negative!==0?h.umod(i):h.clone();for(var e,t=new n(1),o=new n(0),a=r.clone();h.cmpn(1)>0&&r.cmpn(1)>0;){for(var v=0,S=1;(h.words[0]&S)==0&&v<26;++v,S<<=1);if(v>0)for(h.iushrn(v);v-- >0;)t.isOdd()&&t.iadd(a),t.iushrn(1);for(var _=0,L=1;(r.words[0]&L)==0&&_<26;++_,L<<=1);if(_>0)for(r.iushrn(_);_-- >0;)o.isOdd()&&o.iadd(a),o.iushrn(1);h.cmp(r)>=0?(h.isub(r),t.isub(o)):(r.isub(h),o.isub(t))}return(e=h.cmpn(1)===0?t:o).cmpn(0)<0&&e.iadd(i),e},n.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var h=this.clone(),r=i.clone();h.negative=0,r.negative=0;for(var e=0;h.isEven()&&r.isEven();e++)h.iushrn(1),r.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;r.isEven();)r.iushrn(1);var t=h.cmp(r);if(t<0){var o=h;h=r,r=o}else if(t===0||r.cmpn(1)===0)break;h.isub(r)}return r.iushln(e)},n.prototype.invm=function(i){return this.egcd(i).a.umod(i)},n.prototype.isEven=function(){return(1&this.words[0])==0},n.prototype.isOdd=function(){return(1&this.words[0])==1},n.prototype.andln=function(i){return this.words[0]&i},n.prototype.bincn=function(i){m(typeof i=="number");var h=i%26,r=(i-h)/26,e=1<<h;if(this.length<=r)return this._expand(r+1),this.words[r]|=e,this;for(var t=e,o=r;t!==0&&o<this.length;o++){var a=0|this.words[o];t=(a+=t)>>>26,a&=67108863,this.words[o]=a}return t!==0&&(this.words[o]=t,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(i){var h,r=i<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;if(this.strip(),this.length>1)h=1;else{r&&(i=-i),m(i<=67108863,"Number is too big");var e=0|this.words[0];h=e===i?0:e<i?-1:1}return this.negative!==0?0|-h:h},n.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var h=this.ucmp(i);return this.negative!==0?0|-h:h},n.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var h=0,r=this.length-1;r>=0;r--){var e=0|this.words[r],t=0|i.words[r];if(e!==t){e<t?h=-1:e>t&&(h=1);break}}return h},n.prototype.gtn=function(i){return this.cmpn(i)===1},n.prototype.gt=function(i){return this.cmp(i)===1},n.prototype.gten=function(i){return this.cmpn(i)>=0},n.prototype.gte=function(i){return this.cmp(i)>=0},n.prototype.ltn=function(i){return this.cmpn(i)===-1},n.prototype.lt=function(i){return this.cmp(i)===-1},n.prototype.lten=function(i){return this.cmpn(i)<=0},n.prototype.lte=function(i){return this.cmp(i)<=0},n.prototype.eqn=function(i){return this.cmpn(i)===0},n.prototype.eq=function(i){return this.cmp(i)===0},n.red=function(i){return new Y(i)},n.prototype.toRed=function(i){return m(!this.red,"Already a number in reduction context"),m(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},n.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(i){return this.red=i,this},n.prototype.forceRed=function(i){return m(!this.red,"Already a number in reduction context"),this._forceRed(i)},n.prototype.redAdd=function(i){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},n.prototype.redIAdd=function(i){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},n.prototype.redSub=function(i){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},n.prototype.redISub=function(i){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},n.prototype.redShl=function(i){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},n.prototype.redMul=function(i){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},n.prototype.redIMul=function(i){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},n.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(i){return m(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var x={k256:null,p224:null,p192:null,p25519:null};function K(i,h){this.name=i,this.p=new n(h,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function j(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function U(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function G(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function X(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Y(i){if(typeof i=="string"){var h=n._prime(i);this.m=h.p,this.prime=h}else m(i.gtn(1),"modulus must be greater than 1"),this.m=i,this.prime=null}function Q(i){Y.call(this,i),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}K.prototype._tmp=function(){var i=new n(null);return i.words=new Array(Math.ceil(this.n/13)),i},K.prototype.ireduce=function(i){var h,r=i;do this.split(r,this.tmp),h=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(h>this.n);var e=h<this.n?-1:r.ucmp(this.p);return e===0?(r.words[0]=0,r.length=1):e>0?r.isub(this.p):r.strip(),r},K.prototype.split=function(i,h){i.iushrn(this.n,0,h)},K.prototype.imulK=function(i){return i.imul(this.k)},g(j,K),j.prototype.split=function(i,h){for(var r=4194303,e=Math.min(i.length,9),t=0;t<e;t++)h.words[t]=i.words[t];if(h.length=e,i.length<=9)return i.words[0]=0,void(i.length=1);var o=i.words[9];for(h.words[h.length++]=o&r,t=10;t<i.length;t++){var a=0|i.words[t];i.words[t-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,i.words[t-10]=o,o===0&&i.length>10?i.length-=10:i.length-=9},j.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var h=0,r=0;r<i.length;r++){var e=0|i.words[r];h+=977*e,i.words[r]=67108863&h,h=64*e+(h/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i},g(U,K),g(G,K),g(X,K),X.prototype.imulK=function(i){for(var h=0,r=0;r<i.length;r++){var e=19*(0|i.words[r])+h,t=67108863&e;e>>>=26,i.words[r]=t,h=e}return h!==0&&(i.words[i.length++]=h),i},n._prime=function(i){if(x[i])return x[i];var h;if(i==="k256")h=new j;else if(i==="p224")h=new U;else if(i==="p192")h=new G;else{if(i!=="p25519")throw new Error("Unknown prime "+i);h=new X}return x[i]=h,h},Y.prototype._verify1=function(i){m(i.negative===0,"red works only with positives"),m(i.red,"red works only with red numbers")},Y.prototype._verify2=function(i,h){m((i.negative|h.negative)==0,"red works only with positives"),m(i.red&&i.red===h.red,"red works only with red numbers")},Y.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):i.umod(this.m)._forceRed(this)},Y.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},Y.prototype.add=function(i,h){this._verify2(i,h);var r=i.add(h);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},Y.prototype.iadd=function(i,h){this._verify2(i,h);var r=i.iadd(h);return r.cmp(this.m)>=0&&r.isub(this.m),r},Y.prototype.sub=function(i,h){this._verify2(i,h);var r=i.sub(h);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},Y.prototype.isub=function(i,h){this._verify2(i,h);var r=i.isub(h);return r.cmpn(0)<0&&r.iadd(this.m),r},Y.prototype.shl=function(i,h){return this._verify1(i),this.imod(i.ushln(h))},Y.prototype.imul=function(i,h){return this._verify2(i,h),this.imod(i.imul(h))},Y.prototype.mul=function(i,h){return this._verify2(i,h),this.imod(i.mul(h))},Y.prototype.isqr=function(i){return this.imul(i,i.clone())},Y.prototype.sqr=function(i){return this.mul(i,i)},Y.prototype.sqrt=function(i){if(i.isZero())return i.clone();var h=this.m.andln(3);if(m(h%2==1),h===3){var r=this.m.add(new n(1)).iushrn(2);return this.pow(i,r)}for(var e=this.m.subn(1),t=0;!e.isZero()&&e.andln(1)===0;)t++,e.iushrn(1);m(!e.isZero());var o=new n(1).toRed(this),a=o.redNeg(),v=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new n(2*S*S).toRed(this);this.pow(S,v).cmp(a)!==0;)S.redIAdd(a);for(var _=this.pow(S,e),L=this.pow(i,e.addn(1).iushrn(1)),R=this.pow(i,e),W=t;R.cmp(o)!==0;){for(var H=R,rt=0;H.cmp(o)!==0;rt++)H=H.redSqr();m(rt<W);var tt=this.pow(_,new n(1).iushln(W-rt-1));L=L.redMul(tt),_=tt.redSqr(),R=R.redMul(_),W=rt}return L},Y.prototype.invm=function(i){var h=i._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},Y.prototype.pow=function(i,h){if(h.isZero())return new n(1);if(h.cmpn(1)===0)return i.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=i;for(var e=2;e<r.length;e++)r[e]=this.mul(r[e-1],i);var t=r[0],o=0,a=0,v=h.bitLength()%26;for(v===0&&(v=26),e=h.length-1;e>=0;e--){for(var S=h.words[e],_=v-1;_>=0;_--){var L=S>>_&1;t!==r[0]&&(t=this.sqr(t)),L!==0||o!==0?(o<<=1,o|=L,(++a==4||e===0&&_===0)&&(t=this.mul(t,r[o]),a=0,o=0)):a=0}v=26}return t},Y.prototype.convertTo=function(i){var h=i.umod(this.m);return h===i?h.clone():h},Y.prototype.convertFrom=function(i){var h=i.clone();return h.red=null,h},n.mont=function(i){return new Q(i)},g(Q,Y),Q.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},Q.prototype.convertFrom=function(i){var h=this.imod(i.mul(this.rinv));return h.red=null,h},Q.prototype.imul=function(i,h){if(i.isZero()||h.isZero())return i.words[0]=0,i.length=1,i;var r=i.imul(h),e=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=r.isub(e).iushrn(this.shift),o=t;return t.cmp(this.m)>=0?o=t.isub(this.m):t.cmpn(0)<0&&(o=t.iadd(this.m)),o._forceRed(this)},Q.prototype.mul=function(i,h){if(i.isZero()||h.isZero())return new n(0)._forceRed(this);var r=i.mul(h),e=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),t=r.isub(e).iushrn(this.shift),o=t;return t.cmp(this.m)>=0?o=t.isub(this.m):t.cmpn(0)<0&&(o=t.iadd(this.m)),o._forceRed(this)},Q.prototype.invm=function(i){return this.imod(i._invmp(this.m).mul(this.r2))._forceRed(this)}})(O=s.nmd(O),this)},(O,B,s)=>{var y=s(15);O.exports=function(b){return typeof b!="string"?b:y(b)?b.slice(2):b}},O=>{O.exports=function(B){if(typeof B!="string")throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof B+", while checking isHexPrefixed.");return B.slice(0,2)==="0x"}},(O,B,s)=>{s.r(B),s.d(B,{default:()=>y}),s(17);const y=window.crypto},(O,B,s)=>{var y,b;s.r(B),s.d(B,{default:()=>m}),y=typeof self<"u"?self:void 0,b=function(g){if(typeof Promise!="function")throw"Promise support required";var n=g.crypto||g.msCrypto;if(n){var u=n.subtle||n.webkitSubtle;if(u){var l=g.Crypto||n.constructor||Object,c=g.SubtleCrypto||u.constructor||Object,p=(g.CryptoKey||g.Key,g.navigator.userAgent.indexOf("Edge/")>-1),f=!!g.msCrypto&&!p,d=!n.subtle&&!!n.webkitSubtle;if(f||d){var w={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},F={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(a){var v=u[a];u[a]=function(S,_,L){var R,W,H,rt,tt=[].slice.call(arguments);switch(a){case"generateKey":R=U(S),W=_,H=L;break;case"importKey":R=U(L),W=tt[3],H=tt[4],S==="jwk"&&((_=X(_)).alg||(_.alg=G(R)),_.key_ops||(_.key_ops=_.kty!=="oct"?"d"in _?H.filter(o):H.filter(t):H.slice()),tt[1]=Y(_));break;case"unwrapKey":R=tt[4],W=tt[5],H=tt[6],tt[2]=L._key}if(a==="generateKey"&&R.name==="HMAC"&&R.hash)return R.length=R.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[R.hash.name],u.importKey("raw",n.getRandomValues(new Uint8Array(R.length+7>>3)),R,W,H);if(d&&a==="generateKey"&&R.name==="RSASSA-PKCS1-v1_5"&&(!R.modulusLength||R.modulusLength>=2048))return(S=U(S)).name="RSAES-PKCS1-v1_5",delete S.hash,u.generateKey(S,!0,["encrypt","decrypt"]).then(function(ft){return Promise.all([u.exportKey("jwk",ft.publicKey),u.exportKey("jwk",ft.privateKey)])}).then(function(ft){return ft[0].alg=ft[1].alg=G(R),ft[0].key_ops=H.filter(t),ft[1].key_ops=H.filter(o),Promise.all([u.importKey("jwk",ft[0],R,!0,ft[0].key_ops),u.importKey("jwk",ft[1],R,W,ft[1].key_ops)])}).then(function(ft){return{publicKey:ft[0],privateKey:ft[1]}});if((d||f&&(R.hash||{}).name==="SHA-1")&&a==="importKey"&&S==="jwk"&&R.name==="HMAC"&&_.kty==="oct")return u.importKey("raw",K(x(_.k)),L,tt[3],tt[4]);if(d&&a==="importKey"&&(S==="spki"||S==="pkcs8"))return u.importKey("jwk",Q(_),L,tt[3],tt[4]);if(f&&a==="unwrapKey")return u.decrypt(tt[3],L,_).then(function(ft){return u.importKey(S,ft,tt[4],tt[5],tt[6])});try{rt=v.apply(u,tt)}catch(ft){return Promise.reject(ft)}return f&&(rt=new Promise(function(ft,wt){rt.onabort=rt.onerror=function(Tt){wt(Tt)},rt.oncomplete=function(Tt){ft(Tt.target.result)}})),rt=rt.then(function(ft){return R.name==="HMAC"&&(R.length||(R.length=8*ft.algorithm.length)),R.name.search("RSA")==0&&(R.modulusLength||(R.modulusLength=(ft.publicKey||ft).algorithm.modulusLength),R.publicExponent||(R.publicExponent=(ft.publicKey||ft).algorithm.publicExponent)),ft.publicKey&&ft.privateKey?{publicKey:new e(ft.publicKey,R,W,H.filter(t)),privateKey:new e(ft.privateKey,R,W,H.filter(o))}:new e(ft,R,W,H)})}}),["exportKey","wrapKey"].forEach(function(a){var v=u[a];u[a]=function(S,_,L){var R,W=[].slice.call(arguments);switch(a){case"exportKey":W[1]=_._key;break;case"wrapKey":W[1]=_._key,W[2]=L._key}if((d||f&&(_.algorithm.hash||{}).name==="SHA-1")&&a==="exportKey"&&S==="jwk"&&_.algorithm.name==="HMAC"&&(W[0]="raw"),!d||a!=="exportKey"||S!=="spki"&&S!=="pkcs8"||(W[0]="jwk"),f&&a==="wrapKey")return u.exportKey(S,_).then(function(H){return S==="jwk"&&(H=K(unescape(encodeURIComponent(JSON.stringify(X(H)))))),u.encrypt(W[3],L,H)});try{R=v.apply(u,W)}catch(H){return Promise.reject(H)}return f&&(R=new Promise(function(H,rt){R.onabort=R.onerror=function(tt){rt(tt)},R.oncomplete=function(tt){H(tt.target.result)}})),a==="exportKey"&&S==="jwk"&&(R=R.then(function(H){return(d||f&&(_.algorithm.hash||{}).name==="SHA-1")&&_.algorithm.name==="HMAC"?{kty:"oct",alg:G(_.algorithm),key_ops:_.usages.slice(),ext:!0,k:M(j(H))}:((H=X(H)).alg||(H.alg=G(_.algorithm)),H.key_ops||(H.key_ops=_.type==="public"?_.usages.filter(t):_.type==="private"?_.usages.filter(o):_.usages.slice()),H)})),!d||a!=="exportKey"||S!=="spki"&&S!=="pkcs8"||(R=R.then(function(H){return i(X(H))})),R}}),["encrypt","decrypt","sign","verify"].forEach(function(a){var v=u[a];u[a]=function(S,_,L,R){if(f&&(!L.byteLength||R&&!R.byteLength))throw new Error("Empy input is not allowed");var W,H=[].slice.call(arguments),rt=U(S);if(f&&a==="decrypt"&&rt.name==="AES-GCM"){var tt=S.tagLength>>3;H[2]=(L.buffer||L).slice(0,L.byteLength-tt),S.tag=(L.buffer||L).slice(L.byteLength-tt)}H[1]=_._key;try{W=v.apply(u,H)}catch(ft){return Promise.reject(ft)}return f&&(W=new Promise(function(ft,wt){W.onabort=W.onerror=function(Tt){wt(Tt)},W.oncomplete=function(Tt){if(Tt=Tt.target.result,a==="encrypt"&&Tt instanceof AesGcmEncryptResult){var pt=Tt.ciphertext,ct=Tt.tag;(Tt=new Uint8Array(pt.byteLength+ct.byteLength)).set(new Uint8Array(pt),0),Tt.set(new Uint8Array(ct),pt.byteLength),Tt=Tt.buffer}ft(Tt)}})),W}}),f){var C=u.digest;u.digest=function(a,v){if(!v.byteLength)throw new Error("Empy input is not allowed");var S;try{S=C.call(u,a,v)}catch(_){return Promise.reject(_)}return S=new Promise(function(_,L){S.onabort=S.onerror=function(R){L(R)},S.oncomplete=function(R){_(R.target.result)}})},g.crypto=Object.create(n,{getRandomValues:{value:function(a){return n.getRandomValues(a)}},subtle:{value:u}}),g.CryptoKey=e}d&&(n.subtle=u,g.Crypto=l,g.SubtleCrypto=c,g.CryptoKey=e)}}}function M(a){return btoa(a).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function x(a){return a=(a+="===").slice(0,-a.length%4),atob(a.replace(/-/g,"+").replace(/_/g,"/"))}function K(a){for(var v=new Uint8Array(a.length),S=0;S<a.length;S++)v[S]=a.charCodeAt(S);return v}function j(a){return a instanceof ArrayBuffer&&(a=new Uint8Array(a)),String.fromCharCode.apply(String,a)}function U(a){var v={name:(a.name||a||"").toUpperCase().replace("V","v")};switch(v.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":a.length&&(v.length=a.length);break;case"HMAC":a.hash&&(v.hash=U(a.hash)),a.length&&(v.length=a.length);break;case"RSAES-PKCS1-v1_5":a.publicExponent&&(v.publicExponent=new Uint8Array(a.publicExponent)),a.modulusLength&&(v.modulusLength=a.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":a.hash&&(v.hash=U(a.hash)),a.publicExponent&&(v.publicExponent=new Uint8Array(a.publicExponent)),a.modulusLength&&(v.modulusLength=a.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return v}function G(a){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[a.name][(a.hash||{}).name||a.length||""]}function X(a){(a instanceof ArrayBuffer||a instanceof Uint8Array)&&(a=JSON.parse(decodeURIComponent(escape(j(a)))));var v={kty:a.kty,alg:a.alg,ext:a.ext||a.extractable};switch(v.kty){case"oct":v.k=a.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach(function(S){S in a&&(v[S]=a[S])});break;default:throw new TypeError("Unsupported key type")}return v}function Y(a){var v=X(a);return f&&(v.extractable=v.ext,delete v.ext),K(unescape(encodeURIComponent(JSON.stringify(v)))).buffer}function Q(a){var v=h(a),S=!1;v.length>2&&(S=!0,v.shift());var _={ext:!0};if(v[0][0]!=="1.2.840.113549.1.1.1")throw new TypeError("Unsupported key type");var L=["n","e","d","p","q","dp","dq","qi"],R=h(v[1]);S&&R.shift();for(var W=0;W<R.length;W++)R[W][0]||(R[W]=R[W].subarray(1)),_[L[W]]=M(j(R[W]));return _.kty="RSA",_}function i(a){var v,S=[["",null]],_=!1;if(a.kty!=="RSA")throw new TypeError("Unsupported key type");for(var L=["n","e","d","p","q","dp","dq","qi"],R=[],W=0;W<L.length&&L[W]in a;W++){var H=R[W]=K(x(a[L[W]]));128&H[0]&&(R[W]=new Uint8Array(H.length+1),R[W].set(H,1))}return R.length>2&&(_=!0,R.unshift(new Uint8Array([0]))),S[0][0]="1.2.840.113549.1.1.1",v=R,S.push(new Uint8Array(r(v)).buffer),_?S.unshift(new Uint8Array([0])):S[1]={tag:3,value:S[1]},new Uint8Array(r(S)).buffer}function h(a,v){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),v||(v={pos:0,end:a.length}),v.end-v.pos<2||v.end>a.length)throw new RangeError("Malformed DER");var S,_=a[v.pos++],L=a[v.pos++];if(L>=128){if(L&=127,v.end-v.pos<L)throw new RangeError("Malformed DER");for(var R=0;L--;)R<<=8,R|=a[v.pos++];L=R}if(v.end-v.pos<L)throw new RangeError("Malformed DER");switch(_){case 2:S=a.subarray(v.pos,v.pos+=L);break;case 3:if(a[v.pos++])throw new Error("Unsupported bit string");L--;case 4:S=new Uint8Array(a.subarray(v.pos,v.pos+=L)).buffer;break;case 5:S=null;break;case 6:var W=btoa(j(a.subarray(v.pos,v.pos+=L)));if(!(W in w))throw new Error("Unsupported OBJECT ID "+W);S=w[W];break;case 48:S=[];for(var H=v.pos+L;v.pos<H;)S.push(h(a,v));break;default:throw new Error("Unsupported DER tag 0x"+_.toString(16))}return S}function r(a,v){v||(v=[]);var S=0,_=0,L=v.length+2;if(v.push(0,0),a instanceof Uint8Array){S=2,_=a.length;for(var R=0;R<_;R++)v.push(a[R])}else if(a instanceof ArrayBuffer)for(S=4,_=a.byteLength,a=new Uint8Array(a),R=0;R<_;R++)v.push(a[R]);else if(a===null)S=5,_=0;else if(typeof a=="string"&&a in F){var W=K(atob(F[a]));for(S=6,_=W.length,R=0;R<_;R++)v.push(W[R])}else if(a instanceof Array){for(R=0;R<a.length;R++)r(a[R],v);S=48,_=v.length-L}else{if(!(typeof a=="object"&&a.tag===3&&a.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+a);for(S=3,_=(a=new Uint8Array(a.value)).byteLength,v.push(0),R=0;R<_;R++)v.push(a[R]);_++}if(_>=128){var H=_;for(_=4,v.splice(L,0,H>>24&255,H>>16&255,H>>8&255,255&H);_>1&&!(H>>24);)H<<=8,_--;_<4&&v.splice(L,4-_),_|=128}return v.splice(L-2,2,S,_),v}function e(a,v,S,_){Object.defineProperties(this,{_key:{value:a},type:{value:a.type,enumerable:!0},extractable:{value:S===void 0?a.extractable:S,enumerable:!0},algorithm:{value:v===void 0?a.algorithm:v,enumerable:!0},usages:{value:_===void 0?a.usages:_,enumerable:!0}})}function t(a){return a==="verify"||a==="encrypt"||a==="wrapKey"}function o(a){return a==="sign"||a==="decrypt"||a==="unwrapKey"}},te.exports?te.exports=b(y):b(y);const m={}},(O,B,s)=>{const{crc16:y,hexToBytes:b,bytesToHex:m,stringToBytes:g,base64toString:n,stringToBase64:u}=s(2);class l{static isValid(p){try{return new l(p),!0}catch{return!1}}constructor(p){if(p==null)throw"Invalid address";if(p instanceof l)return this.wc=p.wc,this.hashPart=p.hashPart,this.isTestOnly=p.isTestOnly,this.isUserFriendly=p.isUserFriendly,this.isBounceable=p.isBounceable,void(this.isUrlSafe=p.isUrlSafe);if(p.search(/\-/)>0||p.search(/_/)>0?(this.isUrlSafe=!0,p=p.replace(/\-/g,"+").replace(/_/g,"/")):this.isUrlSafe=!1,p.indexOf(":")>-1){const f=p.split(":");if(f.length!==2)throw new Error("Invalid address "+p);const d=parseInt(f[0]);if(d!==0&&d!==-1)throw new Error("Invalid address wc "+p);const w=f[1];if(w.length!==64)throw new Error("Invalid address hex "+p);this.isUserFriendly=!1,this.wc=d,this.hashPart=b(w),this.isTestOnly=!1,this.isBounceable=!1}else{this.isUserFriendly=!0;const f=function(d){if(d.length!==48)throw new Error("User-friendly address should contain strictly 48 characters");const w=g(n(d));if(w.length!==36)throw"Unknown address type: byte length is not equal to 36";const F=w.slice(0,34),C=w.slice(34,36),M=y(F);if(M[0]!==C[0]||M[1]!==C[1])throw"Wrong crc16 hashsum";let x=F[0],K=!1,j=!1;if(128&x&&(K=!0,x^=128),x!==17&&x!==81)throw"Unknown address tag";j=x===17;let U=null;if(U=F[1]===255?-1:F[1],U!==0&&U!==-1)throw new Error("Invalid address wc "+U);return{isTestOnly:K,isBounceable:j,workchain:U,hashPart:F.slice(2,34)}}(p);this.wc=f.workchain,this.hashPart=f.hashPart,this.isTestOnly=f.isTestOnly,this.isBounceable=f.isBounceable}}toString(p,f,d,w){if(p===void 0&&(p=this.isUserFriendly),f===void 0&&(f=this.isUrlSafe),d===void 0&&(d=this.isBounceable),w===void 0&&(w=this.isTestOnly),p){let F=d?17:81;w&&(F|=128);const C=new Int8Array(34);C[0]=F,C[1]=this.wc,C.set(this.hashPart,2);const M=new Uint8Array(36);M.set(C),M.set(y(C),34);let x=u(String.fromCharCode.apply(null,new Uint8Array(M)));return f&&(x=x.replace(/\+/g,"-").replace(/\//g,"_")),x}return this.wc+":"+m(this.hashPart)}}O.exports.default=l},(O,B,s)=>{const{BitString:y}=s(20),{Cell:b}=s(21);O.exports={BitString:y,Cell:b}},(O,B,s)=>{const{BN:y,bytesToHex:b}=s(1);class m{constructor(n){this.array=Uint8Array.from({length:Math.ceil(n/8)},()=>0),this.cursor=0,this.length=n}getFreeBits(){return this.length-this.cursor}getUsedBits(){return this.cursor}getUsedBytes(){return Math.ceil(this.cursor/8)}get(n){return(this.array[n/8|0]&1<<7-n%8)>0}checkRange(n){if(n>this.length)throw Error("BitString overflow")}on(n){this.checkRange(n),this.array[n/8|0]|=1<<7-n%8}off(n){this.checkRange(n),this.array[n/8|0]&=~(1<<7-n%8)}toggle(n){this.checkRange(n),this.array[n/8|0]^=1<<7-n%8}forEach(n){const u=this.cursor;for(let l=0;l<u;l++)n(this.get(l))}writeBit(n){n&&n>0?this.on(this.cursor):this.off(this.cursor),this.cursor=this.cursor+1}writeBitArray(n){for(let u=0;u<n.length;u++)this.writeBit(n[u])}writeUint(n,u){if(n=new y(n),u==0||n.toString(2).length>u){if(n==0)return;throw Error("bitLength is too small for number, got number="+n+",bitLength="+u)}const l=n.toString(2,u);for(let c=0;c<u;c++)this.writeBit(l[c]==1)}writeInt(n,u){if(n=new y(n),u==1){if(n==-1)return void this.writeBit(!0);if(n==0)return void this.writeBit(!1);throw Error("Bitlength is too small for number")}if(n.isNeg()){this.writeBit(!0);const l=new y(2).pow(new y(u-1));this.writeUint(l.add(n),u-1)}else this.writeBit(!1),this.writeUint(n,u-1)}writeUint8(n){this.writeUint(n,8)}writeBytes(n){for(let u=0;u<n.length;u++)this.writeUint8(n[u])}writeString(n){this.writeBytes(new TextEncoder().encode(n))}writeGrams(n){if(n==0)this.writeUint(0,4);else{n=new y(n);const u=Math.ceil(n.toString(16).length/2);this.writeUint(u,4),this.writeUint(n,8*u)}}writeCoins(n){this.writeGrams(n)}writeAddress(n){n==null?this.writeUint(0,2):(this.writeUint(2,2),this.writeUint(0,1),this.writeInt(n.wc,8),this.writeBytes(n.hashPart))}writeBitString(n){n.forEach(u=>{this.writeBit(u)})}clone(){const n=new m(0);return n.array=this.array.slice(0),n.length=this.length,n.cursor=this.cursor,n}toString(){return this.toHex()}getTopUppedArray(){const n=this.clone();let u=8*Math.ceil(n.cursor/8)-n.cursor;if(u>0)for(u-=1,n.writeBit(!0);u>0;)u-=1,n.writeBit(!1);return n.array=n.array.slice(0,Math.ceil(n.cursor/8)),n.array}toHex(){if(this.cursor%4==0){const n=b(this.array.slice(0,Math.ceil(this.cursor/8))).toUpperCase();return this.cursor%8==0?n:n.substr(0,n.length-1)}{const n=this.clone();for(n.writeBit(1);n.cursor%4!=0;)n.writeBit(0);return n.toHex().toUpperCase()+"_"}}setTopUppedArray(n,u=!0){if(this.length=8*n.length,this.array=n,this.cursor=this.length,!u&&this.length){let l=!1;for(let c=0;c<7;c++)if(this.cursor-=1,this.get(this.cursor)){l=!0,this.off(this.cursor);break}if(!l)throw console.log(n,u),new Error("Incorrect TopUppedArray")}}}O.exports={BitString:m}},(O,B,s)=>{const{BitString:y}=s(20),{bytesToBase64:b,compareBytes:m,concatBytes:g,crc32c:n,hexToBytes:u,readNBytesUIntFromArray:l,sha256:c,bytesToHex:p}=s(1),f=u("B5EE9C72"),d=u("68ff65f3"),w=u("acc3a728");class F{constructor(){this.bits=new y(1023),this.refs=[],this.isExotic=!1}static fromBoc(U){return K(U)}static oneFromBoc(U){const G=K(U);if(G.length!==1)throw new Error("expected 1 root cell but have "+G.length);return G[0]}writeCell(U){this.bits.writeBitString(U.bits),this.refs=this.refs.concat(U.refs)}getMaxLevel(){let U=0;for(let G in this.refs){const X=this.refs[G];X.getMaxLevel()>U&&(U=X.getMaxLevel())}return U}isExplicitlyStoredHashes(){return 0}getMaxDepth(){let U=0;if(this.refs.length>0){for(let G in this.refs){const X=this.refs[G];X.getMaxDepth()>U&&(U=X.getMaxDepth())}U+=1}return U}getMaxDepthAsArray(){const U=this.getMaxDepth(),G=Uint8Array.from({length:2},()=>0);return G[1]=U%256,G[0]=Math.floor(U/256),G}getRefsDescriptor(){const U=Uint8Array.from({length:1},()=>0);return U[0]=this.refs.length+8*this.isExotic+32*this.getMaxLevel(),U}getBitsDescriptor(){const U=Uint8Array.from({length:1},()=>0);return U[0]=Math.ceil(this.bits.cursor/8)+Math.floor(this.bits.cursor/8),U}getDataWithDescriptors(){const U=this.getRefsDescriptor(),G=this.getBitsDescriptor(),X=this.bits.getTopUppedArray();return g(g(U,G),X)}async getRepr(){const U=[];U.push(this.getDataWithDescriptors());for(let X in this.refs){const Y=this.refs[X];U.push(Y.getMaxDepthAsArray())}for(let X in this.refs){const Y=this.refs[X];U.push(await Y.hash())}let G=new Uint8Array;for(let X in U){const Y=U[X];G=g(G,Y)}return G}async hash(){return new Uint8Array(await c(await this.getRepr()))}print(U){let G=(U=U||"")+"x{"+this.bits.toHex()+`}
`;for(let X in this.refs)G+=this.refs[X].print(U+" ");return G}async toBoc(U=!0,G=!0,X=!1,Y=0){const Q=await this.treeWalk(),i=Q[0],h=Q[1],r=i.length,e=r.toString(2).length,t=Math.min(Math.ceil(e/8),1);let o=0,a=[];for(let R of i)a.push(o),o+=await R[1].bocSerializationSize(h,t);const v=o.toString(2).length,S=Math.max(Math.ceil(v/8),1),_=new y(1247*i.length);_.writeBytes(f),_.writeBitArray([U,G,X]),_.writeUint(Y,2),_.writeUint(t,3),_.writeUint8(S),_.writeUint(r,8*t),_.writeUint(1,8*t),_.writeUint(0,8*t),_.writeUint(o,8*S),_.writeUint(0,8*t),U&&i.forEach((R,W)=>_.writeUint(a[W],8*S));for(let R of i){const W=await R[1].serializeForBoc(h,t);_.writeBytes(W)}let L=_.getTopUppedArray();return G&&(L=g(L,n(L))),L}async serializeForBoc(U,G){const X=[];if(X.push(this.getDataWithDescriptors()),this.isExplicitlyStoredHashes())throw new Error("Cell hashes explicit storing is not implemented");for(let Q in this.refs){const i=this.refs[Q];let h=U[await i.hash()].toString(16);h.length%2&&(h="0"+h);const r=u(h);X.push(r)}let Y=new Uint8Array;for(let Q in X){const i=X[Q];Y=g(Y,i)}return Y}async bocSerializationSize(U,G){return(await this.serializeForBoc(U,G)).length}async treeWalk(){return M(this,[],{})}}async function C(j,U,G){const X=j[G];for(let Q in j)j[Q]>X&&(j[Q]=j[Q]-1);j[G]=U.length-1;const Y=U.splice(X,1)[0];U.push(Y);for(let Q of Y[1].refs)await C(j,U,await Q.hash())}async function M(j,U,G,X=null){const Y=await j.hash();if(Y in G)return X&&G[X]>G[Y]&&await C(G,U,Y),[U,G];G[Y]=U.length,U.push([Y,j]);for(let Q of j.refs){const i=await M(Q,U,G,Y);U=i[0],G=i[1]}return[U,G]}function x(j,U){if(j.length<2)throw"Not enough bytes to encode cell descriptors";const G=j[0],X=j[1];j=j.slice(2);const Y=8&G,Q=G%8,i=Math.ceil(X/2),h=!(X%2);let r=new F;if(r.isExotic=Y,j.length<i+U*Q)throw"Not enough bytes to encode cell data";r.bits.setTopUppedArray(j.slice(0,i),h),j=j.slice(i);for(let e=0;e<Q;e++)r.refs.push(l(U,j)),j=j.slice(U);return{cell:r,residue:j}}function K(j){typeof j=="string"&&(j=u(j));const U=function(Q){if(Q.length<5)throw"Not enough bytes for magic prefix";const i=Q,h=Q.slice(0,4);let r,e,t,o,a;if(Q=Q.slice(4),m(h,f)){const tt=Q[0];r=128&tt,e=64&tt,t=32&tt,o=2*(16&tt)+(8&tt),a=tt%8}if(m(h,d)&&(r=1,e=0,t=0,o=0,a=Q[0]),m(h,w)&&(r=1,e=1,t=0,o=0,a=Q[0]),(Q=Q.slice(1)).length<1+5*a)throw"Not enough bytes for encoding cells counters";const v=Q[0];Q=Q.slice(1);const S=l(a,Q);Q=Q.slice(a);const _=l(a,Q);Q=Q.slice(a);const L=l(a,Q);Q=Q.slice(a);const R=l(v,Q);if((Q=Q.slice(v)).length<_*a)throw"Not enough bytes for encoding root cells hashes";let W=[];for(let tt=0;tt<_;tt++)W.push(l(a,Q)),Q=Q.slice(a);let H=!1;if(r){if(H=[],Q.length<v*S)throw"Not enough bytes for index encoding";for(let tt=0;tt<S;tt++)H.push(l(v,Q)),Q=Q.slice(v)}if(Q.length<R)throw"Not enough bytes for cells data";const rt=Q.slice(0,R);if(Q=Q.slice(R),e){if(Q.length<4)throw"Not enough bytes for crc32c hashsum";const tt=i.length;if(!m(n(i.slice(0,tt-4)),Q.slice(0,4)))throw"Crc32c hashsum mismatch";Q=Q.slice(4)}if(Q.length)throw"Too much bytes in BoC serialization";return{has_idx:r,hash_crc32:e,has_cache_bits:t,flags:o,size_bytes:a,off_bytes:v,cells_num:S,roots_num:_,absent_num:L,tot_cells_size:R,root_list:W,index:H,cells_data:rt}}(j);let G=U.cells_data,X=[];for(let Q=0;Q<U.cells_num;Q++){let i=x(G,U.size_bytes);G=i.residue,X.push(i.cell)}for(let Q=U.cells_num-1;Q>=0;Q--){let i=X[Q];for(let h=0;h<i.refs.length;h++){const r=i.refs[h];if(r<Q)throw"Topological order is broken";i.refs[h]=X[r]}}let Y=[];for(let Q of U.root_list)Y.push(X[Q]);return Y}O.exports={Cell:F}},(O,B,s)=>{var y=s(9).Buffer;const{Cell:b}=s(19),{Address:m,BN:g,bytesToHex:n}=s(1),{Contract:u}=s(23);O.exports=class{constructor(l,c){this.transport=l,this.ton=c,this.ADDRESS_FORMAT_HEX=0,this.ADDRESS_FORMAT_USER_FRIENDLY=1,this.ADDRESS_FORMAT_URL_SAFE=2,this.ADDRESS_FORMAT_BOUNCEABLE=4,this.ADDRESS_FORMAT_TEST_ONLY=8}async getAppConfiguration(){const l=await this.transport.send(224,1,0,0);return{version:l[0]+"."+l[1]+"."+l[2]}}async getPublicKey(l,c){const p=y.alloc(4);p.writeInt32BE(l);const f=await this.transport.send(224,2,c?1:0,0,p),d=f[0];return{publicKey:new Uint8Array(f.slice(1,1+d))}}async getAddress(l,c,p){const f=y.alloc(4);f.writeInt32BE(l);const d=await this.transport.send(224,5,c?1:0,p,f),w=d[0],F=new Uint8Array(d.slice(1,1+w));return{address:new m("0:"+n(F))}}async sign(l,c){const p=y.alloc(4);p.writeInt32BE(l);const f=y.concat([p,y.from(c)]),d=await this.transport.send(224,3,0,0,f),w=d[0];return{signature:d.slice(1,1+w)}}async transfer(l,c,p,f,d,w){const F=await c.createTransferMessage(null,p,f,d,null,3,!0),C=y.alloc(4);C.writeInt32BE(l);const M=y.concat([C,y.from(await F.signingMessage.toBoc())]),x=await this.transport.send(224,4,w,0,M),K=x[0],j=x.slice(1,1+K),U=new Uint8Array(j),G=new b;G.bits.writeBytes(U),G.writeCell(F.signingMessage);let X=null,Y=null,Q=null;if(d===0){const t=await c.createStateInit();X=t.stateInit,Y=t.code,Q=t.data}const i=await c.getAddress(),h=u.createExternalMessageHeader(i),r=u.createCommonMsgInfo(h,X,G),e=new Promise(t=>{t({address:i,message:r,body:G,signature:U,signingMessage:F.signingMessage,stateInit:X,code:Y,data:Q})});return u.createMethod(this.ton.provider,e)}}},(O,B,s)=>{const{Cell:y}=s(19),{Address:b,bytesToBase64:m,bytesToHex:g}=s(1);class n{constructor(l,c){this.provider=l,this.options=c,this.address=c.address?new b(c.address):null,c.wc||(c.wc=this.address?this.address.wc:0),this.methods={}}async getAddress(){return this.address||(this.address=(await this.createStateInit()).address),this.address}createCodeCell(){if(!this.options.code)throw new Error("Contract: options.code is not defined");return this.options.code}createDataCell(){return new y}async createStateInit(){const l=this.createCodeCell(),c=this.createDataCell(),p=n.createStateInit(l,c),f=await p.hash();return{stateInit:p,address:new b(this.options.wc+":"+g(f)),code:l,data:c}}static createStateInit(l,c,p=null,f=null,d=null){if(p)throw"Library in state init is not implemented";if(f)throw"Split depth in state init is not implemented";if(d)throw"Ticktock in state init is not implemented";const w=new y;return w.bits.writeBitArray([Boolean(f),Boolean(d),Boolean(l),Boolean(c),Boolean(p)]),l&&w.refs.push(l),c&&w.refs.push(c),p&&w.refs.push(p),w}static createInternalMessageHeader(l,c=0,p=!0,f=null,d=!1,w=null,F=null,C=0,M=0,x=0,K=0){const j=new y;if(j.bits.writeBit(!1),j.bits.writeBit(p),f!==null?j.bits.writeBit(f):j.bits.writeBit(new b(l).isBounceable),j.bits.writeBit(d),j.bits.writeAddress(w?new b(w):null),j.bits.writeAddress(new b(l)),j.bits.writeGrams(c),F)throw"Currency collections are not implemented yet";return j.bits.writeBit(Boolean(F)),j.bits.writeGrams(C),j.bits.writeGrams(M),j.bits.writeUint(x,64),j.bits.writeUint(K,32),j}static createExternalMessageHeader(l,c=null,p=0){const f=new y;return f.bits.writeUint(2,2),f.bits.writeAddress(c?new b(c):null),f.bits.writeAddress(new b(l)),f.bits.writeGrams(p),f}static createCommonMsgInfo(l,c=null,p=null){const f=new y;return f.writeCell(l),c?(f.bits.writeBit(!0),f.bits.getFreeBits()-1>=c.bits.getUsedBits()?(f.bits.writeBit(!1),f.writeCell(c)):(f.bits.writeBit(!0),f.refs.push(c))):f.bits.writeBit(!1),p?f.bits.getFreeBits()>=p.bits.getUsedBits()?(f.bits.writeBit(!1),f.writeCell(p)):(f.bits.writeBit(!0),f.refs.push(p)):f.bits.writeBit(!1),f}static createMethod(l,c){return{getQuery:async()=>(await c).message,send:async()=>{const p=await c,f=m(await p.message.toBoc(!1));return l.sendBoc(f)},estimateFee:async()=>{const p=await c,f=p.code?{address:p.address.toString(!0,!0,!1),body:m(await p.body.toBoc(!1)),init_code:m(await p.code.toBoc(!1)),init_data:m(await p.data.toBoc(!1))}:{address:p.address.toString(!0,!0,!0),body:m(await p.body.toBoc(!1))};return l.getEstimateFee(f)}}}}O.exports={Contract:n}},(O,B,s)=>{const y=s(25).default;typeof fetch>"u"&&(fetch=s(26));const b="-9223372036854775808";class m{constructor(n,u){this.host=n||"https://toncenter.com/api/v2/jsonRPC",this.options=u||{}}sendImpl(n,u){const l={"Content-Type":"application/json"};return this.options.apiKey&&(l["X-API-Key"]=this.options.apiKey),fetch(n,{method:"POST",headers:l,body:JSON.stringify(u)}).then(c=>c.json()).then(({result:c,error:p})=>c||Promise.reject(p))}send(n,u){return this.sendImpl(this.host,{id:1,jsonrpc:"2.0",method:n,params:u})}async getAddressInfo(n){return this.send("getAddressInformation",{address:n})}async getExtendedAddressInfo(n){return this.send("getExtendedAddressInformation",{address:n})}async getWalletInfo(n){return this.send("getWalletInformation",{address:n})}async getTransactions(n,u=20,l,c,p,f){return this.send("getTransactions",{address:n,limit:u,lt:l,hash:c,to_lt:p,archival:f})}async getBalance(n){return this.send("getAddressBalance",{address:n})}async sendBoc(n){return this.send("sendBoc",{boc:n})}async sendQuery(n){return this.send("sendQuerySimple",n)}async getEstimateFee(n){return this.send("estimateFee",n)}async call(n,u,l=[]){return this.send("runGetMethod",{address:n,method:u,stack:l})}async call2(n,u,l=[]){const c=await this.send("runGetMethod",{address:n,method:u,stack:l});return y.parseResponse(c)}async getMasterchainInfo(){return this.send("getMasterchainInfo",{})}async getBlockShards(n){return this.send("shards",{seqno:n})}async getBlockTransactions(n,u,l){return this.send("getBlockTransactions",{workchain:n,shard:u,seqno:l})}async getMasterchainBlockTransactions(n){return this.getBlockTransactions(-1,b,n)}async getBlockHeader(n,u,l){return this.send("getBlockHeader",{workchain:n,shard:u,seqno:l})}async getMasterchainBlockHeader(n){return this.getBlockHeader(-1,b,n)}}m.SHARD_ID_ALL=b,O.exports.default=m},(O,B,s)=>{const{BN:y,base64ToBytes:b}=s(1),{Cell:m}=s(19);class g{static parseObject(u){const l=u["@type"];switch(l){case"tvm.list":case"tvm.tuple":return u.elements.map(g.parseObject);case"tvm.cell":return m.oneFromBoc(b(u.bytes));case"tvm.stackEntryCell":return g.parseObject(u.cell);case"tvm.stackEntryTuple":return g.parseObject(u.tuple);case"tvm.stackEntryNumber":return g.parseObject(u.number);case"tvm.numberDecimal":return new y(u.number,10);default:throw new Error("unknown type "+l)}}static parseResponseStack(u){const l=u[0],c=u[1];switch(l){case"num":return new y(c.replace(/0x/,""),16);case"list":case"tuple":return g.parseObject(c);case"cell":const p=b(c.bytes);return m.oneFromBoc(p);default:throw new Error("unknown type "+l)}}static parseResponse(u){if(u.exit_code!==0){const c=new Error("http provider parse response error");throw c.result=u,c}const l=u.stack.map(g.parseResponseStack);return l.length===1?l[0]:l}static makeArg(u){if(u instanceof y||u instanceof Number)return["num",u];throw new Error("unknown arg type "+u)}static makeArgs(u){return u.map(this.makeArg)}}O.exports.default=g},()=>{},(O,B,s)=>{s(19),s(1),s(23);const{SimpleWalletContractR1:y,SimpleWalletContractR2:b,SimpleWalletContractR3:m}=s(28),{WalletV2ContractR1:g,WalletV2ContractR2:n}=s(30),{WalletV3ContractR1:u,WalletV3ContractR2:l}=s(31),{WalletV4ContractR1:c}=s(32),{WalletV4ContractR2:p}=s(33),f={simpleR1:y,simpleR2:b,simpleR3:m,v2R1:g,v2R2:n,v3R1:u,v3R2:l,v4R1:c,v4R2:p},d=[y,b,m,g,n,u,l,c,p];class w{constructor(C){this.provider=C,this.all=f,this.list=d,this.defaultVersion="v3R1",this.default=this.all[this.defaultVersion]}create(C){return new this.default(this.provider,C)}}w.all=f,w.list=d,O.exports.default=w},(O,B,s)=>{const{Cell:y}=s(19),{WalletContract:b}=s(29);O.exports={SimpleWalletContractR1:class extends b{constructor(m,g){g.code=y.oneFromBoc("B5EE9C72410101010044000084FF0020DDA4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED5441FDF089"),super(m,g)}getName(){return"simpleR1"}},SimpleWalletContractR2:class extends b{constructor(m,g){g.code=y.oneFromBoc("B5EE9C724101010100530000A2FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54D0E2786F"),super(m,g)}getName(){return"simpleR2"}},SimpleWalletContractR3:class extends b{constructor(m,g){g.code=y.oneFromBoc("B5EE9C7241010101005F0000BAFF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F260810200D71820D70B1FED44D0D31FD3FFD15112BAF2A122F901541044F910F2A2F80001D31F3120D74A96D307D402FB00DED1A4C8CB1FCBFFC9ED54B5B86E42"),super(m,g)}getName(){return"simpleR3"}}}},(O,B,s)=>{const{Contract:y}=s(23),{Cell:b}=s(19),{nacl:m,stringToBytes:g,Address:n,BN:u}=s(1);O.exports={WalletContract:class extends y{constructor(l,c){if(!c.publicKey&&!c.address)throw new Error("WalletContract required publicKey or address in options");super(l,c),this.methods={transfer:p=>y.createMethod(l,this.createTransferMessage(p.secretKey,p.toAddress,p.amount,p.seqno,p.payload,p.sendMode,!Boolean(p.secretKey),p.stateInit)),seqno:()=>({call:async()=>{const p=await this.getAddress();let f=null;try{f=(await l.call2(p.toString(),"seqno")).toNumber()}catch{}return f}})},this.deploy=p=>y.createMethod(l,this.createInitExternalMessage(p))}getName(){throw new Error("override me")}createDataCell(){const l=new b;return l.bits.writeUint(0,32),l.bits.writeBytes(this.options.publicKey),l}createSigningMessage(l){l=l||0;const c=new b;return c.bits.writeUint(l,32),c}async createInitExternalMessage(l){if(!this.options.publicKey){const x=m.sign.keyPair.fromSecretKey(l);this.options.publicKey=x.publicKey}const{stateInit:c,address:p,code:f,data:d}=await this.createStateInit(),w=this.createSigningMessage(),F=m.sign.detached(await w.hash(),l),C=new b;C.bits.writeBytes(F),C.writeCell(w);const M=y.createExternalMessageHeader(p);return{address:p,message:y.createCommonMsgInfo(M,c,C),body:C,signingMessage:w,stateInit:c,code:f,data:d}}async createExternalMessage(l,c,p,f=!1){const d=f?new Uint8Array(64):m.sign.detached(await l.hash(),c),w=new b;w.bits.writeBytes(d),w.writeCell(l);let F=null,C=null,M=null;if(p===0){if(!this.options.publicKey){const U=m.sign.keyPair.fromSecretKey(c);this.options.publicKey=U.publicKey}const j=await this.createStateInit();F=j.stateInit,C=j.code,M=j.data}const x=await this.getAddress(),K=y.createExternalMessageHeader(x);return{address:x,message:y.createCommonMsgInfo(K,F,w),body:w,signature:d,signingMessage:l,stateInit:F,code:C,data:M}}async createTransferMessage(l,c,p,f,d="",w=3,F=!1,C=null){let M=new b;d&&(d.refs?M=d:typeof d=="string"?d.length>0&&(M.bits.writeUint(0,32),M.bits.writeString(d)):M.bits.writeBytes(d));const x=y.createInternalMessageHeader(new n(c),new u(p)),K=y.createCommonMsgInfo(x,C,M),j=this.createSigningMessage(f);return j.bits.writeUint8(w),j.refs.push(K),this.createExternalMessage(j,l,f,F)}}}},(O,B,s)=>{const{Cell:y}=s(19),{WalletContract:b}=s(29);class m extends b{createSigningMessage(n){n=n||0;const u=new y;if(u.bits.writeUint(n,32),n===0)for(let l=0;l<32;l++)u.bits.writeBit(1);else{const l=new Date,c=Math.floor(l.getTime()/1e3);u.bits.writeUint(c+60,32)}return u}}O.exports={WalletV2ContractR1:class extends m{constructor(g,n){n.code=y.oneFromBoc("B5EE9C724101010100570000AAFF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54A1370BB6"),super(g,n)}getName(){return"v2R1"}},WalletV2ContractR2:class extends m{constructor(g,n){n.code=y.oneFromBoc("B5EE9C724101010100630000C2FF0020DD2082014C97BA218201339CBAB19C71B0ED44D0D31FD70BFFE304E0A4F2608308D71820D31FD31F01F823BBF263ED44D0D31FD3FFD15131BAF2A103F901541042F910F2A2F800029320D74A96D307D402FB00E8D1A4C8CB1FCBFFC9ED54044CD7A1"),super(g,n)}getName(){return"v2R2"}}}},(O,B,s)=>{const{Cell:y}=s(19),{WalletContract:b}=s(29);class m extends b{createSigningMessage(n){n=n||0;const u=new y;if(u.bits.writeUint(this.options.walletId,32),n===0)for(let l=0;l<32;l++)u.bits.writeBit(1);else{const l=new Date,c=Math.floor(l.getTime()/1e3);u.bits.writeUint(c+60,32)}return u.bits.writeUint(n,32),u}createDataCell(){const n=new y;return n.bits.writeUint(0,32),n.bits.writeUint(this.options.walletId,32),n.bits.writeBytes(this.options.publicKey),n}}O.exports={WalletV3ContractR1:class extends m{constructor(g,n){n.code=y.oneFromBoc("B5EE9C724101010100620000C0FF0020DD2082014C97BA9730ED44D0D70B1FE0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED543FBE6EE0"),super(g,n),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}getName(){return"v3R1"}},WalletV3ContractR2:class extends m{constructor(g,n){n.code=y.oneFromBoc("B5EE9C724101010100710000DEFF0020DD2082014C97BA218201339CBAB19F71B0ED44D0D31FD31F31D70BFFE304E0A4F2608308D71820D31FD31FD31FF82313BBF263ED44D0D31FD31FD3FFD15132BAF2A15144BAF2A204F901541055F910F2A3F8009320D74A96D307D402FB00E8D101A4C8CB1FCB1FCBFFC9ED5410BD6DAD"),super(g,n),this.options.walletId||(this.options.walletId=698983191+this.options.wc)}getName(){return"v3R2"}}}},(O,B,s)=>{const{Cell:y}=s(19);s(23),s(1);const{WalletContract:b}=s(29);O.exports={WalletV4ContractR1:class extends b{constructor(m,g){g.code=y.oneFromBoc("B5EE9C72410215010002F5000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF263ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1112131403EED001D0D3030171B0915BE021D749C120915BE001D31F218210706C7567BD228210626C6E63BDB022821064737472BDB0925F03E002FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F05E004D33FC8258210706C7567BA9131E30D248210626C6E63BAE30004060708020120090A005001FA00F404308210706C7567831EB17080185005CB0527CF165003FA02F40012CB69CB1F5210CB3F0052F8276F228210626C6E63831EB17080185005CB0527CF1624FA0214CB6A13CB1F5230CB3F01FA02F4000092821064737472BA8E3504810108F45930ED44D0810140D720C801CF16F400C9ED54821064737472831EB17080185004CB0558CF1622FA0212CB6ACB1FCB3F9410345F04E2C98040FB000201200B0C0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580D0E0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200F100019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC971FB00C84014810108F451F2A702006C810108D718C8542025810108F451F2A782106E6F746570748018C8CB05CB025004CF16821005F5E100FA0213CB6A12CB1FC971FB00020072810108D718305202810108F459F2A7F82582106473747270748018C8CB05CB025005CF16821005F5E100FA0214CB6A13CB1F12CB3FC973FB00000AF400C9ED5446A9F34F"),super(m,g),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this)}getName(){return"v4R1"}createSigningMessage(m,g){m=m||0;const n=new y;if(n.bits.writeUint(this.options.walletId,32),m===0)for(let u=0;u<32;u++)n.bits.writeBit(1);else{const u=new Date,l=Math.floor(u.getTime()/1e3);n.bits.writeUint(l+60,32)}return n.bits.writeUint(m,32),g||n.bits.writeUint(0,8),n}createDataCell(){const m=new y;return m.bits.writeUint(0,32),m.bits.writeUint(this.options.walletId,32),m.bits.writeBytes(this.options.publicKey),m.bits.writeUint(0,1),m}async getPublicKey(){const m=await this.getAddress();return this.provider.call2(m.toString(),"get_public_key")}}}},(O,B,s)=>{const{Cell:y}=s(19),{Contract:b}=s(23),{Address:m,bytesToHex:g,BN:n,toNano:u}=s(1),{WalletContract:l}=s(29);O.exports={WalletV4ContractR2:class extends l{constructor(c,p){p.code=y.oneFromBoc("B5EE9C72410214010002D4000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF264ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1011121302E6D001D0D3032171B0925F04E022D749C120925F04E002D31F218210706C7567BD22821064737472BDB0925F05E003FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F07E005D33FC8258210706C7567BA923830E30D03821064737472BA925F06E30D06070201200809007801FA00F40430F8276F2230500AA121BEF2E0508210706C7567831EB17080185004CB0526CF1658FA0219F400CB6917CB1F5260CB3F20C98040FB0006008A5004810108F45930ED44D0810140D720C801CF16F400C9ED540172B08E23821064737472831EB17080185005CB055003CF1623FA0213CB6ACB1FCB3FC98040FB00925F03E20201200A0B0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580C0D0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200E0F0019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC973FB00C84014810108F451F2A7020070810108D718FA00D33FC8542047810108F451F2A782106E6F746570748018C8CB05CB025006CF165004FA0214CB6A12CB1FCB3FC973FB0002006C810108D718FA00D33F305224810108F459F2A782106473747270748018C8CB05CB025005CF165003FA0213CB6ACB1F12CB3FC973FB00000AF400C9ED54696225E5"),super(c,p),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.deployAndInstallPlugin=f=>b.createMethod(c,this.deployAndInstallPlugin(f)),this.methods.installPlugin=f=>b.createMethod(c,this.installPlugin(f)),this.methods.removePlugin=f=>b.createMethod(c,this.removePlugin(f)),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.isPluginInstalled=this.isPluginInstalled.bind(this),this.methods.getPluginsList=this.getPluginsList.bind(this)}getName(){return"v4R2"}createSigningMessage(c,p){c=c||0;const f=new y;if(f.bits.writeUint(this.options.walletId,32),c===0)for(let d=0;d<32;d++)f.bits.writeBit(1);else{const d=new Date,w=Math.floor(d.getTime()/1e3);f.bits.writeUint(w+60,32)}return f.bits.writeUint(c,32),p||f.bits.writeUint(0,8),f}createDataCell(){const c=new y;return c.bits.writeUint(0,32),c.bits.writeUint(this.options.walletId,32),c.bits.writeBytes(this.options.publicKey),c.bits.writeUint(0,1),c}async deployAndInstallPlugin(c){const{secretKey:p,seqno:f,pluginWc:d,amount:w,stateInit:F,body:C}=c,M=this.createSigningMessage(f,!0);return M.bits.writeUint(1,8),M.bits.writeInt(d,8),M.bits.writeGrams(w),M.refs.push(F),M.refs.push(C),this.createExternalMessage(M,p,f,!1)}async _setPlugin(c,p){const{secretKey:f,seqno:d,amount:w,queryId:F}=c,C=new m(c.pluginAddress),M=this.createSigningMessage(d,!0);return M.bits.writeUint(p?2:3,8),M.bits.writeInt(C.wc,8),M.bits.writeBytes(C.hashPart),M.bits.writeGrams(w||u("0.1")),M.bits.writeUint(F||0,64),this.createExternalMessage(M,f,d,!1)}async installPlugin(c){return this._setPlugin(c,!0)}async removePlugin(c){return this._setPlugin(c,!1)}async getWalletId(){const c=await this.getAddress();return(await this.provider.call2(c.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const c=await this.getAddress();return this.provider.call2(c.toString(),"get_public_key")}async isPluginInstalled(c){c=new m(c);const p="0x"+g(c.hashPart),f=await this.getAddress();return!(await this.provider.call2(f.toString(),"is_plugin_installed",[["num",c.wc],["num",p]])).isZero()}async getPluginsList(){const c=await this.getAddress();return(await this.provider.call2(c.toString(),"get_plugin_list")).map(p=>p[0].toNumber()+":"+p[1].toString(16))}}}},(O,B,s)=>{const{Cell:y}=s(19),{Address:b,BN:m,toNano:g,bytesToHex:n,hexToBytes:u,nacl:l,stringToBytes:c,bytesToBase64:p,base64ToBytes:f}=s(1);s(23);const{WalletContract:d}=s(29);class w extends d{constructor(C,M){M.code=y.oneFromBoc("B5EE9C7241021E01000261000114FF00F4A413F4BCF2C80B010201200203020148040501F2F28308D71820D31FD31FD31F802403F823BB13F2F2F003802251A9BA1AF2F4802351B7BA1BF2F4801F0BF9015410C5F9101AF2F4F8005057F823F0065098F823F0062071289320D74A8E8BD30731D4511BDB3C12B001E8309229A0DF72FB02069320D74A96D307D402FB00E8D103A4476814154330F004ED541D0202CD0607020120131402012008090201200F100201200A0B002D5ED44D0D31FD31FD3FFD3FFF404FA00F404FA00F404D1803F7007434C0C05C6C2497C0F83E900C0871C02497C0F80074C7C87040A497C1383C00D46D3C00608420BABE7114AC2F6C2497C338200A208420BABE7106EE86BCBD20084AE0840EE6B2802FBCBD01E0C235C62008087E4055040DBE4404BCBD34C7E00A60840DCEAA7D04EE84BCBD34C034C7CC0078C3C412040DD78CA00C0D0E00130875D27D2A1BE95B0C60000C1039480AF00500161037410AF0050810575056001010244300F004ED540201201112004548E1E228020F4966FA520933023BB9131E2209835FA00D113A14013926C21E2B3E6308003502323287C5F287C572FFC4F2FFFD00007E80BD00007E80BD00326000431448A814C4E0083D039BE865BE803444E800A44C38B21400FE809004E0083D10C06002012015160015BDE9F780188242F847800C02012017180201481B1C002DB5187E006D88868A82609E00C6207E00C63F04EDE20B30020158191A0017ADCE76A268699F98EB85FFC00017AC78F6A268698F98EB858FC00011B325FB513435C2C7E00017B1D1BE08E0804230FB50F620002801D0D3030178B0925B7FE0FA4031FA403001F001A80EDAA4"),super(C,M),this.options.walletId||(this.options.walletId=698983191+this.options.wc),this.methods.getPublicKey=this.getPublicKey.bind(this),this.methods.getWalletId=this.getWalletId.bind(this),this.methods.getLiquidBalance=this.getLiquidBalance.bind(this),this.methods.getNominalRestrictedBalance=this.getNominalRestrictedBalance.bind(this),this.methods.getNominalLockedBalance=this.getNominalLockedBalance.bind(this)}getName(){return"lockup-0.1"}createSigningMessage(C,M){C=C||0;const x=new y;if(x.bits.writeUint(this.options.walletId,32),C===0)for(let K=0;K<32;K++)x.bits.writeBit(1);else{const K=new Date,j=Math.floor(K.getTime()/1e3);x.bits.writeUint(j+60,32)}return x.bits.writeUint(C,32),x}createDataCell(){const C=new y;return C.bits.writeUint(0,32),C.bits.writeUint(this.options.walletId,32),C.bits.writeBytes(this.options.publicKey),C.bits.writeBytes(f(this.options.config.config_public_key)),this.options.config.allowed_destinations?(C.bits.writeUint(1,1),C.refs.push(y.oneFromBoc(f(this.options.config.allowed_destinations)))):C.bits.writeUint(0,1),C.bits.writeGrams(0),C.bits.writeUint(0,1),C.bits.writeGrams(0),C.bits.writeUint(0,1),C}async getWalletId(){const C=await this.getAddress();return(await this.provider.call2(C.toString(),"get_subwallet_id")).toNumber()}async getPublicKey(){const C=await this.getAddress();return this.provider.call2(C.toString(),"get_public_key")}async getLiquidBalance(){const C=await this.getBalances();return C[0]-C[1]-C[2]}async getNominalRestrictedBalance(){return await this.getBalances()[1]}async getNominalLockedBalance(){return await this.getBalances()[2]}async getBalances(){const C=await this.getAddress();return this.provider.call2(C.toString(),"get_balances")}}O.exports.default={LockupWalletV1:w,all:{"lockup-0.1":w},list:[w]}},(O,B,s)=>{const{NftCollection:y}=s(36),{NftItem:b}=s(38),{NftMarketplace:m}=s(39),{NftSale:g}=s(40);O.exports.default={NftCollection:y,NftItem:b,NftMarketplace:m,NftSale:g}},(O,B,s)=>{const{Contract:y}=s(23),{Cell:b}=s(19),{Address:m,bytesToBase64:g}=s(1),{parseAddress:n}=s(37),{createOffchainUriCell:u,serializeUri:l,parseOffchainUriCell:c,getRoyaltyParams:p}=s(37);O.exports={NftCollection:class extends y{constructor(f,d){if(d.wc=0,d.code=d.code||b.oneFromBoc("B5EE9C724102140100021F000114FF00F4A413F4BCF2C80B0102016202030202CD04050201200E0F04E7D10638048ADF000E8698180B8D848ADF07D201800E98FE99FF6A2687D20699FEA6A6A184108349E9CA829405D47141BAF8280E8410854658056B84008646582A802E78B127D010A65B509E58FE59F80E78B64C0207D80701B28B9E382F970C892E000F18112E001718112E001F181181981E0024060708090201200A0B00603502D33F5313BBF2E1925313BA01FA00D43028103459F0068E1201A44343C85005CF1613CB3FCCCCCCC9ED54925F05E200A6357003D4308E378040F4966FA5208E2906A4208100FABE93F2C18FDE81019321A05325BBF2F402FA00D43022544B30F00623BA9302A402DE04926C21E2B3E6303250444313C85005CF1613CB3FCCCCCCC9ED54002C323401FA40304144C85005CF1613CB3FCCCCCCC9ED54003C8E15D4D43010344130C85005CF1613CB3FCCCCCCC9ED54E05F04840FF2F00201200C0D003D45AF0047021F005778018C8CB0558CF165004FA0213CB6B12CCCCC971FB008002D007232CFFE0A33C5B25C083232C044FD003D0032C03260001B3E401D3232C084B281F2FFF2742002012010110025BC82DF6A2687D20699FEA6A6A182DE86A182C40043B8B5D31ED44D0FA40D33FD4D4D43010245F04D0D431D430D071C8CB0701CF16CCC980201201213002FB5DAFDA89A1F481A67FA9A9A860D883A1A61FA61FF480610002DB4F47DA89A1F481A67FA9A9A86028BE09E008E003E00B01A500C6E"),d.royalty>1)throw new Error("royalty > 1");d.royaltyBase=1e3,d.royaltyFactor=Math.floor(d.royalty*d.royaltyBase),super(f,d),this.methods.getCollectionData=this.getCollectionData.bind(this),this.methods.getNftItemAddressByIndex=this.getNftItemAddressByIndex.bind(this),this.methods.getNftItemContent=this.getNftItemContent.bind(this),this.methods.getRoyaltyParams=this.getRoyaltyParams.bind(this)}createContentCell(f){const d=u(f.collectionContentUri),w=new b;w.bits.writeBytes(l(f.nftItemContentBaseUri));const F=new b;return F.refs[0]=d,F.refs[1]=w,F}createRoyaltyCell(f){const d=new b;return d.bits.writeUint(f.royaltyFactor,16),d.bits.writeUint(f.royaltyBase,16),d.bits.writeAddress(f.royaltyAddress),d}createDataCell(){const f=new b;return f.bits.writeAddress(this.options.ownerAddress),f.bits.writeUint(0,64),f.refs[0]=this.createContentCell(this.options),f.refs[1]=b.oneFromBoc(this.options.nftItemCodeHex),f.refs[2]=this.createRoyaltyCell(this.options),f}createMintBody(f){const d=new b;d.bits.writeUint(1,32),d.bits.writeUint(f.queryId||0,64),d.bits.writeUint(f.itemIndex,64),d.bits.writeCoins(f.amount);const w=new b;w.bits.writeAddress(f.itemOwnerAddress);const F=new b;return F.bits.writeBytes(l(f.itemContentUri)),w.refs[0]=F,d.refs[0]=w,d}createGetRoyaltyParamsBody(f){const d=new b;return d.bits.writeUint(1765620048,32),d.bits.writeUint(f.queryId||0,64),d}createChangeOwnerBody(f){if(f.newOwnerAddress===void 0)throw new Error("Specify newOwnerAddress");const d=new b;return d.bits.writeUint(3,32),d.bits.writeUint(f.queryId||0,64),d.bits.writeAddress(f.newOwnerAddress),d}createEditContentBody(f){if(f.royalty>1)throw new Error("royalty > 1");f.royaltyBase=1e3,f.royaltyFactor=Math.floor(f.royalty*f.royaltyBase);const d=new b;return d.bits.writeUint(4,32),d.bits.writeUint(f.queryId||0,64),d.refs[0]=this.createContentCell(f),d.refs[1]=this.createRoyaltyCell(f),d}async getCollectionData(){const f=await this.getAddress(),d=await this.provider.call2(f.toString(),"get_collection_data"),w=d[0].toNumber(),F=c(d[1]);return{nextItemIndex:w,ownerAddress:n(d[2]),collectionContentUri:F}}async getNftItemContent(f){const d=await this.getAddress(),w=await f.getData();if(w.isInitialized){const F=await this.provider.call2(d.toString(),"get_nft_content",[["num",w.index],["tvm.Cell",g(await w.contentCell.toBoc(!1))]]);w.contentUri=c(F),delete w.contentCell}return w}async getNftItemAddressByIndex(f){const d=await this.getAddress(),w=await this.provider.call2(d.toString(),"get_nft_address_by_index",[["num",f]]);return n(w)}async getRoyaltyParams(){const f=await this.getAddress();return p(this.provider,f.toString())}}}},(O,B,s)=>{const{base64ToBytes:y,Address:b}=s(1),{Cell:m}=s(19),g=c=>new TextEncoder().encode(encodeURI(c)),n=c=>new TextDecoder().decode(c),u=(c,p,f)=>{let d=BigInt(0);for(let w=0;w<f;w++)d*=BigInt(2),d+=BigInt(c.get(p+w));return d},l=c=>{let p=u(c.bits,3,8);p>BigInt(127)&&(p-=BigInt(256));const f=u(c.bits,11,256);if(p.toString(10)+":"+f.toString(16)=="0:0")return null;const d=p.toString(10)+":"+f.toString(16).padStart(64,"0");return new b(d)};O.exports={SNAKE_DATA_PREFIX:0,CHUNK_DATA_PREFIX:1,ONCHAIN_CONTENT_PREFIX:0,OFFCHAIN_CONTENT_PREFIX:1,parseAddress:l,serializeUri:g,parseUri:n,createOffchainUriCell:c=>{const p=new m;return p.bits.writeUint(1,8),p.bits.writeBytes(g(c)),p},parseOffchainUriCell:c=>{let p=0,f=c;for(;f;)p+=f.bits.array.length,f=f.refs[0];const d=new Uint8Array(p);for(p=0,f=c;f;)d.set(f.bits.array,p),p+=f.bits.array.length,f=f.refs[0];return n(d.slice(1))},getRoyaltyParams:async(c,p)=>{const f=await c.call2(p,"royalty_params"),d=f[0].toNumber(),w=f[1].toNumber();return{royalty:d/w,royaltyBase:w,royaltyFactor:d,royaltyAddress:l(f[2])}}}},(O,B,s)=>{const{Contract:y}=s(23),{Cell:b}=s(19),{Address:m,BN:g}=s(1),{parseAddress:n,getRoyaltyParams:u}=s(37),{parseOffchainUriCell:l}=s(37),c="B5EE9C7241020D010001D0000114FF00F4A413F4BCF2C80B0102016202030202CE04050009A11F9FE00502012006070201200B0C02D70C8871C02497C0F83434C0C05C6C2497C0F83E903E900C7E800C5C75C87E800C7E800C3C00812CE3850C1B088D148CB1C17CB865407E90350C0408FC00F801B4C7F4CFE08417F30F45148C2EA3A1CC840DD78C9004F80C0D0D0D4D60840BF2C9A884AEB8C097C12103FCBC20080900113E910C1C2EBCB8536001F65135C705F2E191FA4021F001FA40D20031FA00820AFAF0801BA121945315A0A1DE22D70B01C300209206A19136E220C2FFF2E192218E3E821005138D91C85009CF16500BCF16712449145446A0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00104794102A375BE20A00727082108B77173505C8CBFF5004CF1610248040708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB000082028E3526F0018210D53276DB103744006D71708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB0093303234E25502F003003B3B513434CFFE900835D27080269FC07E90350C04090408F80C1C165B5B60001D00F232CFD633C58073C5B3327B5520BF75041B";class p extends y{constructor(d,w){w.wc=0,w.code=w.code||b.oneFromBoc(c),super(d,w),this.methods.getData=this.getData.bind(this)}createDataCell(){const d=new b;return d.bits.writeUint(this.options.index,64),d.bits.writeAddress(this.options.collectionAddress),d}async getData(){const d=await this.getAddress(),w=await this.provider.call2(d.toString(),"get_nft_data"),F=w[0].toNumber()===-1,C=w[1].toNumber(),M=n(w[2]),x=F?n(w[3]):null,K=w[4];return{isInitialized:F,index:C,collectionAddress:M,ownerAddress:x,contentCell:K,contentUri:F&&M===null?l(K):null}}async createTransferBody(d){const w=new b;return w.bits.writeUint(1607220500,32),w.bits.writeUint(d.queryId||0,64),w.bits.writeAddress(d.newOwnerAddress),w.bits.writeAddress(d.responseAddress),w.bits.writeBit(!1),w.bits.writeCoins(d.forwardAmount||new g(0)),w.bits.writeBit(!1),d.forwardPayload&&w.bits.writeBytes(d.forwardPayload),w}createGetStaticDataBody(d){const w=new b;return w.bits.writeUint(801842850,32),w.bits.writeUint(d.queryId||0,64),w}async getRoyaltyParams(){const d=await this.getAddress();return u(this.provider,d.toString())}}p.codeHex=c,O.exports={NftItem:p}},(O,B,s)=>{const{Contract:y}=s(23),{Cell:b}=s(19);s(1),s(37),O.exports={NftMarketplace:class extends y{constructor(m,g){g.wc=0,g.code=g.code||b.oneFromBoc("B5EE9C7241010401006D000114FF00F4A413F4BCF2C80B01020120020300AAD23221C700915BE0D0D3030171B0915BE0FA40ED44D0FA403012C705F2E19101D31F01C0018E2BFA003001D4D43021F90070C8CA07CBFFC9D077748018C8CB05CB0258CF165004FA0213CB6BCCCCC971FB00915BE20004F2308EF7CCE7"),super(m,g)}createDataCell(){const m=new b;return m.bits.writeAddress(this.options.ownerAddress),m}}}},(O,B,s)=>{const{Contract:y}=s(23),{Cell:b}=s(19),{parseAddress:m}=s(37);s(1);const g="B5EE9C7241020A010001B4000114FF00F4A413F4BCF2C80B01020120020302014804050004F2300202CD0607002FA03859DA89A1F481F481F481F401A861A1F401F481F4006101F7D00E8698180B8D8492F82707D201876A2687D207D207D207D006A18116BA4E10159C71D991B1B2990E382C92F837028916382F970FA01698FC1080289C6C8895D7970FAE99F98FD2018201A642802E78B2801E78B00E78B00FD016664F6AA701363804C9B081B2299823878027003698FE99F9810E000C92F857010C0801F5D41081DCD650029285029185F7970E101E87D007D207D0018384008646582A804E78B28B9D090D0A85AD08A500AFD010AE5B564B8FD80384008646582AC678B2803FD010B65B564B8FD80384008646582A802E78B00FD0109E5B564B8FD80381041082FE61E8A10C00C646582A802E78B117D010A65B509E58F8A40900C8C0029A3110471036454012F004E032363704C0038E4782103B9ACA0015BEF2E1C95312C70559C705B1F2E1CA702082105FCC3D14218010C8CB055006CF1622FA0215CB6A14CB1F14CB3F21CF1601CF16CA0021FA02CA00C98100A0FB00E05F06840FF2F0002ACB3F22CF1658CF16CA0021FA02CA00C98100A0FB00AECABAD1";class n extends y{constructor(l,c){c.wc=0,c.code=c.code||b.oneFromBoc(g),super(l,c),this.methods.getData=this.getData.bind(this)}createDataCell(){const l=new b;l.bits.writeAddress(this.options.marketplaceAddress),l.bits.writeAddress(this.options.nftAddress),l.bits.writeAddress(null),l.bits.writeCoins(this.options.fullPrice);const c=new b;return c.bits.writeCoins(this.options.marketplaceFee),c.bits.writeAddress(this.options.royaltyAddress),c.bits.writeCoins(this.options.royaltyAmount),l.refs[0]=c,l}async getData(){const l=await this.getAddress(),c=await this.provider.call2(l.toString(),"get_sale_data");return{marketplaceAddress:m(c[0]),nftAddress:m(c[1]),nftOwnerAddress:m(c[2]),fullPrice:c[3],marketplaceFee:c[4],royaltyAddress:m(c[5]),royaltyAmount:c[6]}}async createCancelBody(l){const c=new b;return c.bits.writeUint(3,32),c.bits.writeUint(l.queryId||0,64),c}}n.codeHex=g,O.exports={NftSale:n}},(O,B,s)=>{const{JettonMinter:y}=s(42),{JettonWallet:b}=s(43);O.exports.default={JettonMinter:y,JettonWallet:b}},(O,B,s)=>{const{Contract:y}=s(23),{Cell:b}=s(19),{createOffchainUriCell:m,parseOffchainUriCell:g,parseAddress:n}=s(37),{Address:u,BN:l,bytesToBase64:c}=s(1);O.exports={JettonMinter:class extends y{constructor(p,f){f.wc=0,f.code=f.code||b.oneFromBoc("B5EE9C7241020B010001ED000114FF00F4A413F4BCF2C80B0102016202030202CC040502037A60090A03EFD9910E38048ADF068698180B8D848ADF07D201800E98FE99FF6A2687D007D206A6A18400AA9385D47181A9AA8AAE382F9702480FD207D006A18106840306B90FD001812881A28217804502A906428027D012C678B666664F6AA7041083DEECBEF29385D71811A92E001F1811802600271812F82C207F97840607080093DFC142201B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064907C80383A6465816503E5FFE4E83BC00C646582AC678B28027D0109E5B589666664B8FD80400FE3603FA00FA40F82854120870542013541403C85004FA0258CF1601CF16CCC922C8CB0112F400F400CB00C9F9007074C8CB02CA07CBFFC9D05008C705F2E04A12A1035024C85004FA0258CF16CCCCC9ED5401FA403020D70B01C3008E1F8210D53276DB708010C8CB055003CF1622FA0212CB6ACB1FCB3FC98042FB00915BE200303515C705F2E049FA403059C85004FA0258CF16CCCCC9ED54002E5143C705F2E049D43001C85004FA0258CF16CCCCC9ED54007DADBCF6A2687D007D206A6A183618FC1400B82A1009AA0A01E428027D012C678B00E78B666491646580897A007A00658064FC80383A6465816503E5FFE4E840001FAF16F6A2687D007D206A6A183FAA904051007F09"),super(p,f)}createDataCell(){const p=new b;return p.bits.writeCoins(0),p.bits.writeAddress(this.options.adminAddress),p.refs[0]=m(this.options.jettonContentUri),p.refs[1]=b.oneFromBoc(this.options.jettonWalletCodeHex),p}createMintBody(p){const f=new b;f.bits.writeUint(21,32),f.bits.writeUint(p.queryId||0,64),f.bits.writeAddress(p.destination),f.bits.writeCoins(p.amount);const d=new b;return d.bits.writeUint(395134233,32),d.bits.writeUint(p.queryId||0,64),d.bits.writeCoins(p.jettonAmount),d.bits.writeAddress(null),d.bits.writeAddress(null),d.bits.writeCoins(new l(0)),d.bits.writeBit(!1),f.refs[0]=d,f}createChangeAdminBody(p){if(p.newAdminAddress===void 0)throw new Error("Specify newAdminAddress");const f=new b;return f.bits.writeUint(3,32),f.bits.writeUint(p.queryId||0,64),f.bits.writeAddress(p.newAdminAddress),f}createEditContentBody(p){const f=new b;return f.bits.writeUint(4,32),f.bits.writeUint(p.queryId||0,64),f.refs[0]=m(p.jettonContentUri),f}async getJettonData(){const p=await this.getAddress(),f=await this.provider.call2(p.toString(),"get_jetton_data");return{totalSupply:f[0],isMutable:f[1].toNumber()===-1,adminAddress:n(f[2]),jettonContentUri:g(f[3]),jettonWalletCode:f[4]}}async getJettonWalletAddress(p){const f=await this.getAddress(),d=new b;d.bits.writeAddress(p);const w=await this.provider.call2(f.toString(),"get_wallet_address",[["tvm.Slice",c(await d.toBoc(!1))]]);return n(w)}}}},(O,B,s)=>{const{Contract:y}=s(23),{Cell:b}=s(19),{parseAddress:m}=s(37),{BN:g}=s(1),n="B5EE9C7241021201000328000114FF00F4A413F4BCF2C80B0102016202030202CC0405001BA0F605DA89A1F401F481F481A8610201D40607020148080900BB0831C02497C138007434C0C05C6C2544D7C0FC02F83E903E900C7E800C5C75C87E800C7E800C00B4C7E08403E29FA954882EA54C4D167C0238208405E3514654882EA58C511100FC02780D60841657C1EF2EA4D67C02B817C12103FCBC2000113E910C1C2EBCB853600201200A0B020120101101F500F4CFFE803E90087C007B51343E803E903E90350C144DA8548AB1C17CB8B04A30BFFCB8B0950D109C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C032483E401C1D3232C0B281F2FFF274013E903D010C7E801DE0063232C1540233C59C3E8085F2DAC4F3208405E351467232C7C6600C03F73B51343E803E903E90350C0234CFFE80145468017E903E9014D6F1C1551CDB5C150804D50500F214013E809633C58073C5B33248B232C044BD003D0032C0327E401C1D3232C0B281F2FFF274140371C1472C7CB8B0C2BE80146A2860822625A020822625A004AD822860822625A028062849F8C3C975C2C070C008E00D0E0F009ACB3F5007FA0222CF165006CF1625FA025003CF16C95005CC2391729171E25008A813A08208989680AA008208989680A0A014BCF2E2C504C98040FB001023C85004FA0258CF1601CF16CCC9ED5400705279A018A182107362D09CC8CB1F5230CB3F58FA025007CF165007CF16C9718018C8CB0524CF165006FA0215CB6A14CCC971FB0010241023000E10491038375F040076C200B08E218210D53276DB708010C8CB055008CF165004FA0216CB6A12CB1F12CB3FC972FB0093356C21E203C85004FA0258CF1601CF16CCC9ED5400DB3B51343E803E903E90350C01F4CFFE803E900C145468549271C17CB8B049F0BFFCB8B0A0822625A02A8005A805AF3CB8B0E0841EF765F7B232C7C572CFD400FE8088B3C58073C5B25C60063232C14933C59C3E80B2DAB33260103EC01004F214013E809633C58073C5B3327B55200083200835C87B51343E803E903E90350C0134C7E08405E3514654882EA0841EF765F784EE84AC7CB8B174CFCC7E800C04E81408F214013E809633C58073C5B3327B55205ECCF23D";class u extends y{constructor(c,p){p.wc=0,p.code=p.code||b.oneFromBoc(n),super(c,p)}async createTransferBody(c){const p=new b;return p.bits.writeUint(260734629,32),p.bits.writeUint(c.queryId||0,64),p.bits.writeCoins(c.jettonAmount),p.bits.writeAddress(c.toAddress),p.bits.writeAddress(c.responseAddress),p.bits.writeBit(!1),p.bits.writeCoins(c.forwardAmount||new g(0)),p.bits.writeBit(!1),c.forwardPayload&&p.bits.writeBytes(c.forwardPayload),p}async createBurnBody(c){const p=new b;return p.bits.writeUint(1499400124,32),p.bits.writeUint(c.queryId||0,64),p.bits.writeCoins(c.jettonAmount),p.bits.writeAddress(c.responseAddress),p}async getData(){const c=await this.getAddress(),p=await this.provider.call2(c.toString(),"get_wallet_data");return{balance:p[0],ownerAddress:m(p[1]),jettonMinterAddress:m(p[2]),jettonWalletCode:p[3]}}}u.codeHex=n,O.exports={JettonWallet:u}},(O,B,s)=>{const{BlockSubscription:y}=s(45),{InMemoryBlockStorage:b}=s(46);O.exports={BlockSubscription:y,InMemoryBlockStorage:b}},O=>{const B=s=>({workchain:s.workchain,shardId:s.shard,shardBlockNumber:s.seqno});O.exports={BlockSubscription:class{constructor(s,y,b,m){this.provider=s,this.storage=y,this.onBlock=b,this.startMcBlockNumber=m?m.startMcBlockNumber:void 0,this.mcInterval=(m?m.mcInterval:void 0)||1e4,this.shardsInterval=(m?m.shardsInterval:void 0)||1e3}async start(){if(this.stop(),!this.startMcBlockNumber&&(this.startMcBlockNumber=(await this.provider.getMasterchainInfo()).last.seqno,!this.startMcBlockNumber))throw new Error("Cannot get start mc block number from provider");const s=await this.provider.getMasterchainBlockHeader(this.startMcBlockNumber);if(this.startLT=s.end_lt,!this.startLT)throw new Error("Cannot get startLT from provider");let y=!1;const b=async()=>{if(!y){y=!0;try{const n=await this.storage.getLastMasterchainBlockNumber()||this.startMcBlockNumber;if(!n)throw new Error("no init masterchain block in storage");const u=(await this.provider.getMasterchainInfo()).last.seqno;if(!u)throw new Error("invalid last masterchain block from provider");for(let l=n+1;l<u;l++){const c=await this.provider.getBlockShards(l),p=await this.provider.getMasterchainBlockHeader(l);await this.onBlock(p,c),await this.storage.insertBlocks(l,c.shards.map(B))}}catch(n){console.error(n)}y=!1}};this.mcIntervalId=setInterval(()=>b(),this.mcInterval),b();let m=!1;const g=async()=>{if(!m){m=!0;try{const n=await this.storage.getUnprocessedShardBlock();if(n){const{workchain:u,shardId:l,shardBlockNumber:c}=n,p=await this.provider.getBlockHeader(u,l,c);if(p.end_lt<this.startLT)await this.storage.setBlockProcessed(u,l,c,[]);else{await this.onBlock(p);const f=p.prev_blocks.map(B);await this.storage.setBlockProcessed(u,l,c,f)}}}catch(n){console.log(n)}m=!1}};this.shardsIntervalId=setInterval(()=>g(),this.shardsInterval)}stop(){clearInterval(this.mcIntervalId),clearInterval(this.shardsIntervalId)}}}},O=>{O.exports={InMemoryBlockStorage:class{constructor(B){this.masterchainBlocks={},this.shardchainBlocks={},this.logFunction=B}async insertShardBlocks(B){for(const{workchain:s,shardId:y,shardBlockNumber:b}of B)this.shardchainBlocks[s+"_"+y+"_"+b]===void 0&&(this.logFunction&&this.logFunction("insert shard "+s+" "+y+" "+b),this.shardchainBlocks[s+"_"+y+"_"+b]=!1)}async insertBlocks(B,s){if(this.logFunction&&this.logFunction("mc processed "+B),this.masterchainBlocks[B]!==void 0)throw new Error("mc already exists "+B);this.masterchainBlocks[B]=!0,await this.insertShardBlocks(s)}async getLastMasterchainBlockNumber(){return Object.keys(this.masterchainBlocks).map(B=>Number(B)).sort((B,s)=>s-B)[0]}async setBlockProcessed(B,s,y,b){if(this.logFunction&&this.logFunction("shard processed "+B+" "+s+" "+y),this.shardchainBlocks[B+"_"+s+"_"+y]===void 0)throw new Error("shard not exists "+B+"_"+s+"_"+y);this.shardchainBlocks[B+"_"+s+"_"+y]=!0,await this.insertShardBlocks(b)}async getUnprocessedShardBlock(){for(let B in this.shardchainBlocks)if(this.shardchainBlocks[B]===!1){const s=B.split("_");return{workchain:Number(s[0]),shardId:s[1],shardBlockNumber:Number(s[2])}}}}}},(O,B,s)=>{const{Contract:y}=s(23),{Cell:b}=s(19),{hexToBytes:m,BN:g,nacl:n,bytesToBase64:u}=s(1);O.exports={SubscriptionContract:class extends y{constructor(l,c){c.code=b.oneFromBoc("B5EE9C7241020F01000262000114FF00F4A413F4BCF2C80B0102012002030201480405036AF230DB3C5335A127A904F82327A128A90401BC5135A0F823B913B0F29EF800725210BE945387F0078E855386DB3CA4E2F82302DB3C0B0C0D0202CD06070121A0D0C9B67813F488DE0411F488DE0410130B048FD6D9E05E8698198FD201829846382C74E2F841999E98F9841083239BA395D497803F018B841083AB735BBED9E702984E382D9C74688462F863841083AB735BBED9E70156BA4E09040B0A0A080269F10FD22184093886D9E7C12C1083239BA39384008646582A803678B2801FD010A65B5658F89659FE4B9FD803FC1083239BA396D9E40E0A04F08E8D108C5F0C708210756E6B77DB3CE00AD31F308210706C7567831EB15210BA8F48305324A126A904F82326A127A904BEF27109FA4430A619F833D078D721D70B3F5260A11BBE8E923036F82370708210737562732759DB3C5077DE106910581047103645135042DB3CE0395F076C2232821064737472BA0A0A0D09011A8E897F821064737472DB3CE0300A006821B39982100400000072FB02DE70F8276F118010C8CB055005CF1621FA0214F40013CB6912CB1F830602948100A032DEC901FB000030ED44D0FA40FA40FA00D31FD31FD31FD31FD31FD307D31F30018021FA443020813A98DB3C01A619F833D078D721D70B3FA070F8258210706C7567228018C8CB055007CF165004FA0215CB6A12CB1F13CB3F01FA02CB00C973FB000E0040C8500ACF165008CF165006FA0214CB1F12CB1FCB1FCB1FCB1FCB07CB1FC9ED54005801A615F833D020D70B078100D1BA95810088D721DED307218100DDBA028100DEBA12B1F2E047D33F30A8AB0FE5855AB4"),super(l,c),this.methods.pay=()=>y.createMethod(l,this.createPayExternalMessage()),this.methods.getSubscriptionData=this.getSubscriptionData.bind(this)}createDataCell(){const l=new b;return l.bits.writeAddress(this.options.wallet),l.bits.writeAddress(this.options.beneficiary),l.bits.writeGrams(this.options.amount),l.bits.writeUint(this.options.period,32),l.bits.writeUint(this.options.startAt,32),l.bits.writeUint(this.options.timeout,32),l.bits.writeUint(0,32),l.bits.writeUint(0,32),l.bits.writeUint(0,8),l.bits.writeUint(this.options.subscriptionId,32),l}createBody(){const l=new b;return l.bits.writeUint(new g(1886156135).add(new g(2147483648)),32),l}createSelfDestructBody(){const l=new b;return l.bits.writeUint(1685288050,32),l}async getSubscriptionData(){const l=f=>f[0].toNumber()+":"+f[1].toString(16),c=await this.getAddress(),p=await this.provider.call2(c.toString(),"get_subscription_data");return{wallet:l(p[0]),beneficiary:l(p[1]),amount:p[2],period:p[3].toNumber(),startAt:p[4].toNumber(),timeout:p[5].toNumber(),lastPayment:p[6].toNumber(),lastRequest:p[7].toNumber(),failedAttempts:p[8].toNumber(),subscriptionId:p[9].toNumber()}}async createPayExternalMessage(){const l=await this.getAddress(),c=y.createExternalMessageHeader(l),p=y.createCommonMsgInfo(c,null,null),f=new b;return f.bits.writeUint(Math.floor(Date.now()/1e3),64),{address:l,message:p,body:f}}}}},(O,B,s)=>{const{PaymentChannel:y}=s(49);O.exports={Payments:class{constructor(b){this.provider=b}createChannel(b){return new y(this.provider,b)}},PaymentChannel:y}},(O,B,s)=>{const{Contract:y}=s(23),{Cell:b}=s(19),{nacl:m,hexToBytes:g,BN:n}=s(1),{parseAddress:u}=s(37),{writePublicKey:l,writeSignature:c,createSignatureCell:p,tag_init:f,tag_cooperative_close:d,tag_cooperative_commit:w,tag_start_uncooperative_close:F,tag_challenge_state:C,tag_settle_conditionals:M,tag_state:x,op_top_up_balance:K,op_init_channel:j,op_cooperative_close:U,op_cooperative_commit:G,op_start_uncooperative_close:X,op_challenge_quarantined_state:Y,op_settle_conditionals:Q,op_finish_uncooperative_close:i,op_channel_closed:h,createTopUpBalance:r,createInitChannelBody:e,createCooperativeCloseChannelBody:t,createCooperativeCommitBody:o,createConditionalPayment:a,createSemiChannelBody:v,createSemiChannelState:S,createSignedSemiChannelState:_,createStartUncooperativeCloseBody:L,createChallengeQuarantinedStateBody:R,createSettleConditionalsBody:W,createFinishUncooperativeClose:H,createOneSignature:rt,createTwoSignature:tt}=s(50),ft="B5EE9C72410230010007FB000114FF00F4A413F4BCF2C80B0102012002030201480405000AF26C21F0190202CB06070201202E2F020120080902012016170201200A0B0201200C0D0009D3610F80CC001D6B5007434C7FE8034C7CC1BC0FE19E0201580E0F0201201011002D3E11DBC4BE11DBC43232C7FE11DBC47E80B2C7F2407320008B083E1B7B51343480007E187E80007E18BE80007E18F4FFC07E1934FFC07E1974DFC07E19BC01887080A7F4C7C07E1A34C7C07E1A7D01007E1AB7807080E535007E1AF7BE1B2002012012130201201415008D3E13723E11BE117E113E10540132803E10BE80BE10FE8084F2FFC4B2FFF2DFFC02887080A7FE12BE127E121400F2C7C4B2C7FD0037807080E53E12C073253E1333C5B8B27B5520004D1C3C02FE106CFCB8193E803E800C3E1096283E18BE10C0683E18FE10BE10E8006EFCB819BC032000CF1D3C02FE106CFCB819348020C235C6083E4040E4BE1124BE117890CC3E443CB81974C7C060841A5B9A5D2EBCB81A3E118074DFD66EBCB81CBE803E800C3E1094882FBE10D4882FAC3CB819807E18BE18FE12F43E800C3E10BE10E80068006E7CB8199FFE187C0320004120843777222E9C20043232C15401B3C594013E808532DA84B2C7F2DFF2407EC02002012018190201D42B2C0201201A1B0201201E1F0201201C1D00E5473F00BD401D001D401D021F90102D31F01821043436D74BAF2E068F84601D37F59BAF2E072F844544355F910F8454330F910B0F2E065D33FD33F30F84822B9F84922B9B0F2E06C21F86820F869F84A6E915B8E19F84AD0D33FFA003171D721D33F305033BC02BCB1936DF86ADEE2F800F00C8006F3E12F43E800C7E903E900C3E09DBC41CBE10D62F24CC20C1B7BE10FE11963C03FE10BE11A04020BC03DC3E185C3E189C3E18DB7E1ABC032000B51D3C02F5007400750074087E4040B4C7C0608410DB1BDCEEBCB81A3E118074DFD66EBCB81CBE111510D57E443E1150CC3E442C3CB8197E80007E18BE80007E18F4CFF4CFCC3E1208AE7E1248AE6C3CB81B007E1A3E1A7E003C042001C1573F00BF84A6EF2E06AD2008308D71820F9012392F84492F845E24130F910F2E065D31F018210556E436CBAF2E068F84601D37F59BAF2E072D401D08308D71820F901F8444130F910F2E06501D430D08308D71820F901F8454130F910F2E06501820020120222301FED31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE2303205D31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE23032F8485280BEF8495250BEB0524BBE1AB0527ABE19210064B05215BE14B05248BE17B0F2E06970F82305C8CB3F5004FA0215F40015CB3F5004FA0212F400CB1F12CA00CA00C9F86AF00C01C31CFC02FE129BACFCB81AF48020C235C6083E4048E4BE1124BE1178904C3E443CB81974C7C0608410DA19D46EBCB81A3E118074DFD66EBCB81CB5007420C235C6083E407E11104C3E443CB81940750C3420C235C6083E407E11504C3E443CB81940602403F71CFC02FE129BACFCB81AF48020C235C6083E4048E4BE1124BE1178904C3E443CB81974C7C0608410DB10DBAEBCB81A3E118074DFD66EBCB81CBD010C3E12B434CFFE803D0134CFFE803D0134C7FE11DBC4148828083E08EE7CB81BBE11DBC4A83E08EF3CB81C34800C151D5A64D6D4C8F7A2B98E82A49B08B8C3816028292A01FCD31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE2303205D31F01821043685374BAF2E068F84601D37F59BAF2E072D33FFA00F404552003D200019AD401D0D33FFA00F40430937F206DE230325339BE5381BEB0F8495250BEB0F8485290BEB02502FE5237BE16B05262BEB0F2E06927C20097F84918BEF2E0699137E222C20097F84813BEF2E0699132E2F84AD0D33FFA00F404D33FFA00F404D31FF8476F105220A0F823BCF2E06FD200D20030B3F2E073209C3537373A5274BC5263BC12B18E11323939395250BC5299BC18B14650134440E25319BAB3F2E06D9130E30D7F05C82627002496F8476F1114A098F8476F1117A00603E203003ECB3F5004FA0215F40012CB3F5004FA0213F400CB1F12CA00CA00C9F86AF00C00620A8020F4966FA5208E213050038020F4666FA1208E1001FA00ED1E15DA119450C3A00B9133E2923430E202926C21E2B31B000C3535075063140038C8CB3F5004FA0212F400CB3F5003FA0213F400CB1FCA00C9F86AF00C00D51D3C02FE129BACFCB81AFE12B434CFFE803D010C74CFFE803D010C74C7CC3E11DBC4283E11DBC4A83E08EE7CB81C7E003E10886808E87E18BE10D400E816287E18FE10F04026BE10BE10E83E189C3E18F7BE10B04026BE10FE10A83E18DC3E18F780693E1A293E1A7C042001F53B7EF4C7C8608419F1F4A06EA4CC7C037808608403818830AEA54C7C03B6CC780C882084155DD61FAEA54C3C0476CC780820841E6849BBEEA54C3C04B6CC7808208407C546B3EEA54C3C0576CC780820840223AA8CAEA54C3C05B6CC7808208419BDBC1A6EA54C3C05F6CC780C60840950CAA46EA53C0636CC78202D0008840FF2F00075BC7FE3A7805FC25E87D007D207D20184100D0CAF6A1EC7C217C21B7817C227C22B7817C237C23FC247C24B7817C2524C3B7818823881B22A021984008DBD0CABA7805FC20C8B870FC253748B8F07C256840206B90FD0018C020EB90FD0018B8EB90E98F987C23B7882908507C11DE491839707C23B788507C23B789507C11DE48B9F03A4331C4966";class wt extends y{constructor(pt,ct){ct.publicKeyA=ct.isA?ct.myKeyPair.publicKey:ct.hisPublicKey,ct.publicKeyB=ct.isA?ct.hisPublicKey:ct.myKeyPair.publicKey,ct.wc=ct.wc||0,ct.code=ct.code||b.oneFromBoc(ft),super(pt,ct)}createDataCell(){var Gt,mt,kt;const pt=new b;pt.bits.writeBit(0),pt.bits.writeCoins(0),pt.bits.writeCoins(0),l(pt,this.options.publicKeyA),l(pt,this.options.publicKeyB),pt.bits.writeUint(this.options.channelId,128);const ct=new b;ct.bits.writeUint(((Gt=this.options.closingConfig)==null?void 0:Gt.quarantineDuration)||0,32),ct.bits.writeCoins(((mt=this.options.closingConfig)==null?void 0:mt.misbehaviorFine)||new n(0)),ct.bits.writeUint(((kt=this.options.closingConfig)==null?void 0:kt.conditionalCloseDuration)||0,32),pt.refs[0]=ct,pt.bits.writeUint(0,32),pt.bits.writeUint(0,32),pt.bits.writeBit(!1);const St=new b;return St.bits.writeCoins(this.options.excessFee||new n(0)),St.bits.writeAddress(this.options.addressA),St.bits.writeAddress(this.options.addressB),pt.refs[1]=St,pt}async createOneSignature(pt,ct){const St=m.sign.detached(await ct.hash(),this.options.myKeyPair.secretKey);return{cell:rt({op:pt,isA:this.options.isA,signature:St,cell:ct}),signature:St}}async createTwoSignature(pt,ct,St){const Gt=m.sign.detached(await St.hash(),this.options.myKeyPair.secretKey),mt=this.options.isA?Gt:ct,kt=this.options.isA?ct:Gt;return{cell:tt({op:pt,signatureA:mt,signatureB:kt,cell:St}),signature:Gt}}async createTopUpBalance(pt){return r(pt)}async createInitChannel(pt){return this.createOneSignature(j,e({...pt,channelId:this.options.channelId}))}async createCooperativeCloseChannel(pt){return pt.hisSignature||(pt.hisSignature=new Uint8Array(64)),this.createTwoSignature(U,pt.hisSignature,t({...pt,channelId:this.options.channelId}))}async createCooperativeCommit(pt){return pt.hisSignature||(pt.hisSignature=new Uint8Array(64)),this.createTwoSignature(G,pt.hisSignature,o({...pt,channelId:this.options.channelId}))}async createSignedSemiChannelState(pt){const ct=S({channelId:this.options.channelId,semiChannelBody:v({seqno:pt.mySeqno,sentCoins:pt.mySentCoins,conditionals:null}),counterpartySemiChannelBody:pt.hisSeqno===void 0?null:v({seqno:pt.hisSeqno,sentCoins:pt.hisSentCoins,conditionals:null})}),St=m.sign.detached(await ct.hash(),this.options.myKeyPair.secretKey);return{cell:_({signature:St,state:ct}),signature:St}}async signState(pt){const ct=this.options.isA?pt.seqnoA:pt.seqnoB,St=this.options.isA?pt.seqnoB:pt.seqnoA,Gt=this.options.initBalanceA.gt(pt.balanceA)?this.options.initBalanceA.sub(pt.balanceA):new n(0),mt=this.options.initBalanceB.gt(pt.balanceB)?this.options.initBalanceB.sub(pt.balanceB):new n(0),kt=this.options.isA?Gt:mt,oe=this.options.isA?mt:Gt,{cell:_t,signature:Kt}=await this.createSignedSemiChannelState({mySeqno:ct,mySentCoins:kt,hisSeqno:St,hisSentCoins:oe});return Kt}async verifyState(pt,ct){const St=this.options.isA?pt.seqnoB:pt.seqnoA,Gt=this.options.isA?pt.seqnoA:pt.seqnoB,mt=this.options.initBalanceA.gt(pt.balanceA)?this.options.initBalanceA.sub(pt.balanceA):new n(0),kt=this.options.initBalanceB.gt(pt.balanceB)?this.options.initBalanceB.sub(pt.balanceB):new n(0),oe=this.options.isA?kt:mt,_t=this.options.isA?mt:kt,Kt=S({channelId:this.options.channelId,semiChannelBody:v({seqno:St,sentCoins:oe,conditionals:null}),counterpartySemiChannelBody:Gt===void 0?null:v({seqno:Gt,sentCoins:_t,conditionals:null})}),E=await Kt.hash();return m.sign.detached.verify(E,ct,this.options.isA?this.options.publicKeyB:this.options.publicKeyA)}async signClose(pt){const{cell:ct,signature:St}=await this.createCooperativeCloseChannel(pt);return St}async verifyClose(pt,ct){const St=await t({...pt,channelId:this.options.channelId}),Gt=await St.hash();return m.sign.detached.verify(Gt,ct,this.options.isA?this.options.publicKeyB:this.options.publicKeyA)}async createStartUncooperativeClose(pt){return this.createOneSignature(X,L({...pt,channelId:this.options.channelId}))}async createChallengeQuarantinedState(pt){return this.createOneSignature(Y,R({...pt,channelId:this.options.channelId}))}async createSettleConditionals(pt){return this.createOneSignature(Q,W({...pt,channelId:this.options.channelId}))}async createFinishUncooperativeClose(){return H()}async getChannelState(){const pt=await this.getAddress();return(await this.provider.call2(pt.toString(),"get_channel_state",[])).toNumber()}async getData(){const pt=Gt=>{let mt=Gt.toString(16);return mt.length%2!=0&&(mt="0"+mt),g(mt)},ct=await this.getAddress(),St=await this.provider.call2(ct.toString(),"get_channel_data",[]);return{state:St[0].toNumber(),balanceA:St[1][0],balanceB:St[1][1],publicKeyA:pt(St[2][0]),publicKeyB:pt(St[2][1]),channelId:St[3],quarantineDuration:St[4][0].toNumber(),misbehaviorFine:St[4][1],conditionalCloseDuration:St[4][2].toNumber(),seqnoA:St[5][0],seqnoB:St[5][1],quarantine:St[6],excessFee:St[7][0],addressA:u(St[7][1]),addressB:u(St[7][2])}}fromWallet(pt){const{wallet:ct,secretKey:St}=pt,Gt=(mt,kt)=>{const oe=async _t=>{const Kt=kt?(await this.createStateInit()).stateInit:null,E=await this.getAddress(),D=await ct.methods.seqno().call()||0,T=await mt;return ct.methods.transfer({secretKey:St,toAddress:E.toString(!0,!0,!0),amount:_t,seqno:D,payload:T,stateInit:Kt,sendMode:3})};return{send:_t=>oe(_t).then(Kt=>Kt.send()),estimateFee:_t=>oe(_t).then(Kt=>Kt.estimateFee())}};return{deploy:()=>Gt(null,!0),init:mt=>Gt(this.createInitChannel(mt).then(kt=>kt.cell)),topUp:mt=>Gt(this.createTopUpBalance(mt)),close:mt=>Gt(this.createCooperativeCloseChannel(mt).then(kt=>kt.cell)),commit:mt=>Gt(this.createCooperativeCommit(mt).then(kt=>kt.cell)),startUncooperativeClose:mt=>Gt(this.createStartUncooperativeClose(mt).then(kt=>kt.cell)),challengeQuarantinedState:mt=>Gt(this.createChallengeQuarantinedState(mt).then(kt=>kt.cell)),settleConditionals:mt=>Gt(this.createSettleConditionals(mt).then(kt=>kt.cell)),finishUncooperativeClose:()=>Gt(this.createFinishUncooperativeClose())}}}Ee(wt,"STATE_UNINITED",0),Ee(wt,"STATE_OPEN",1),Ee(wt,"STATE_CLOSURE_STARTED",2),Ee(wt,"STATE_SETTLING_CONDITIONALS",3),Ee(wt,"STATE_AWAITING_FINALIZATION",4),wt.codeHex=ft,O.exports={PaymentChannel:wt}},(O,B,s)=>{const{Cell:y}=s(19),b=(M,x)=>{if(x.length!==64)throw new Error("invalid signature length");M.bits.writeBytes(x)},m=M=>{const x=new y;return b(x,M),x},g=(M,x)=>{if(x){if(M.bits.writeBit(1),M.refs.length>=4)throw new Error("refs overflow");M.refs.push(x)}else M.bits.writeBit(0)},n=g,u=1768843636,l=1131179891,c=1128492404,p=1433289580,f=1130915665,d=1131168622,w=1130910580,F=1741148801,C=625158801;O.exports={writePublicKey:(M,x)=>{if(x.length!==32)throw new Error("invalid publicKey length");M.bits.writeBytes(x)},writeSignature:b,createSignatureCell:m,tag_init:u,tag_cooperative_close:l,tag_cooperative_commit:c,tag_start_uncooperative_close:p,tag_challenge_state:f,tag_settle_conditionals:d,tag_state:w,op_top_up_balance:F,op_init_channel:235282626,op_cooperative_close:1433884798,op_cooperative_commit:2040604399,op_start_uncooperative_close:521476815,op_challenge_quarantined_state:143567410,op_settle_conditionals:1727459433,op_finish_uncooperative_close:C,op_channel_closed:-572749638,createTopUpBalance:M=>{const x=new y;return x.bits.writeUint(F,32),x.bits.writeCoins(M.coinsA),x.bits.writeCoins(M.coinsB),x},createInitChannelBody:M=>{const x=new y;return x.bits.writeUint(u,32),x.bits.writeUint(M.channelId,128),x.bits.writeCoins(M.balanceA),x.bits.writeCoins(M.balanceB),x},createCooperativeCloseChannelBody:M=>{const x=new y;return x.bits.writeUint(l,32),x.bits.writeUint(M.channelId,128),x.bits.writeCoins(M.balanceA),x.bits.writeCoins(M.balanceB),x.bits.writeUint(M.seqnoA,64),x.bits.writeUint(M.seqnoB,64),x},createCooperativeCommitBody:M=>{const x=new y;return x.bits.writeUint(c,32),x.bits.writeUint(M.channelId,128),x.bits.writeUint(M.seqnoA,64),x.bits.writeUint(M.seqnoB,64),x},createConditionalPayment:M=>{const x=new y;return x.bits.writeCoins(M.amount),x.writeCell(M.condition),x},createSemiChannelBody:M=>{const x=new y;return x.bits.writeUint(M.seqno,64),x.bits.writeCoins(M.sentCoins),n(x,M.conditionals),x},createSemiChannelState:M=>{const x=new y;return x.bits.writeUint(w,32),x.bits.writeUint(M.channelId,128),x.writeCell(M.semiChannelBody),g(x,M.counterpartySemiChannelBody),x},createSignedSemiChannelState:M=>{const x=new y;return b(x,M.signature),x.writeCell(M.state),x},createStartUncooperativeCloseBody:M=>{const x=new y;return x.bits.writeUint(p,32),x.bits.writeUint(M.channelId,128),x.refs[0]=M.signedSemiChannelStateA,x.refs[1]=M.signedSemiChannelStateB,x},createChallengeQuarantinedStateBody:M=>{const x=new y;return x.bits.writeUint(f,32),x.bits.writeUint(M.channelId,128),x.refs[0]=M.signedSemiChannelStateA,x.refs[1]=M.signedSemiChannelStateB,x},createSettleConditionalsBody:M=>{const x=new y;return x.bits.writeUint(d,32),x.bits.writeUint(M.channelId,128),n(x,M.conditionalsToSettle),x},createFinishUncooperativeClose:()=>{const M=new y;return M.bits.writeUint(C,32),M},createOneSignature:M=>{const x=new y;return x.bits.writeUint(M.op,32),x.bits.writeBit(M.isA),b(x,M.signature),x.writeCell(M.cell),x},createTwoSignature:M=>{const x=new y;return x.bits.writeUint(M.op,32),x.refs[0]=m(M.signatureA),x.refs[1]=m(M.signatureB),x.writeCell(M.cell),x}}},(O,B,s)=>{s.r(B),s.d(B,{default:()=>c});var y=s(52),b=s(55),m=s(56),g=s(104),n=s(54),u=s(105),l=s(9).Buffer;class c extends y.default{constructor(d,w){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.interfaceNumber=void 0,this._disconnectEmitted=!1,this._emitDisconnect=F=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",F))},this.exchange=F=>this.exchangeAtomicImpl(async()=>{const{channel:C,packetSize:M}=this;(0,g.log)("apdu","=> "+F.toString("hex"));const x=(0,b.default)(C,M),K=x.makeBlocks(F);for(let G=0;G<K.length;G++)await this.device.transferOut(3,K[G]);let j,U;for(;!(j=x.getReducedResult(U));){const G=await this.device.transferIn(3,M),X=l.from(G.data.buffer);U=x.reduceResponse(U,X)}return(0,g.log)("apdu","<= "+j.toString("hex")),j}).catch(C=>{throw C&&C.message&&C.message.includes("disconnected")?(this._emitDisconnect(C),new n.DisconnectedDeviceDuringOperation(C.message)):C}),this.device=d,this.interfaceNumber=w,this.deviceModel=(0,m.identifyUSBProductId)(d.productId)}static async request(){const d=await(0,u.requestLedgerDevice)();return c.open(d)}static async openConnected(){const d=await(0,u.getLedgerDevices)();return d.length===0?null:c.open(d[0])}static async open(d){await d.open(),d.configuration===null&&await d.selectConfiguration(1),await p(d);const w=d.configurations[0].interfaces.find(({alternates:x})=>x.some(K=>K.interfaceClass===255));if(!w)throw new n.TransportInterfaceNotAvailable("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const F=w.interfaceNumber;try{await d.claimInterface(F)}catch(x){throw await d.close(),new n.TransportInterfaceNotAvailable(x.message)}const C=new c(d,F),M=x=>{d===x.device&&(navigator.usb.removeEventListener("disconnect",M),C._emitDisconnect(new n.DisconnectedDevice))};return navigator.usb.addEventListener("disconnect",M),C}async close(){await this.exchangeBusyPromise,await this.device.releaseInterface(this.interfaceNumber),await p(this.device),await this.device.close()}setScrambleKey(){}}async function p(f){try{await f.reset()}catch(d){console.warn(d)}}c.isSupported=u.isSupported,c.list=u.getLedgerDevices,c.listen=f=>{let d=!1;return(0,u.getFirstLedgerDevice)().then(w=>{if(!d){const F=(0,m.identifyUSBProductId)(w.productId);f.next({type:"add",descriptor:w,deviceModel:F}),f.complete()}},w=>{window.DOMException&&w instanceof window.DOMException&&w.code===18?f.error(new n.TransportWebUSBGestureRequired(w.message)):f.error(new n.TransportOpenUserCancelled(w.message))}),{unsubscribe:function(){d=!0}}}},(O,B,s)=>{s.r(B),s.d(B,{StatusCodes:()=>m.StatusCodes,TransportError:()=>m.TransportError,TransportStatusError:()=>m.TransportStatusError,default:()=>n,getAltStatusMessage:()=>m.getAltStatusMessage});var y=s(53),b=s.n(y),m=s(54),g=s(9).Buffer;class n{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new(b()),this.send=async(l,c,p,f,d=g.alloc(0),w=[m.StatusCodes.OK])=>{if(d.length>=256)throw new m.TransportError("data.length exceed 256 bytes limit. Got: "+d.length,"DataLengthTooBig");const F=await this.exchange(g.concat([g.from([l,c,p,f]),g.from([d.length]),d])),C=F.readUInt16BE(F.length-2);if(!w.some(M=>M===C))throw new m.TransportStatusError(C);return F},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async l=>{if(this.exchangeBusyPromise)throw new m.TransportRaceCondition("An action was already pending on the Ledger device. Please deny or reconnect.");let c;const p=new Promise(w=>{c=w});this.exchangeBusyPromise=p;let f=!1;const d=setTimeout(()=>{f=!0,this.emit("unresponsive")},this.unresponsiveTimeout);try{const w=await l();return f&&this.emit("responsive"),w}finally{clearTimeout(d),c&&c(),this.exchangeBusyPromise=null}},this._appAPIlock=null}exchange(l){throw new Error("exchange not implemented")}setScrambleKey(l){}close(){return Promise.resolve()}on(l,c){this._events.on(l,c)}off(l,c){this._events.removeListener(l,c)}emit(l,...c){this._events.emit(l,...c)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(l){this.exchangeTimeout=l}setExchangeUnresponsiveTimeout(l){this.unresponsiveTimeout=l}static create(l=3e3,c){return new Promise((p,f)=>{let d=!1;const w=this.listen({next:C=>{d=!0,w&&w.unsubscribe(),F&&clearTimeout(F),this.open(C.descriptor,l).then(p,f)},error:C=>{F&&clearTimeout(F),f(C)},complete:()=>{F&&clearTimeout(F),d||f(new m.TransportError(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),F=c?setTimeout(()=>{w.unsubscribe(),f(new m.TransportError(this.ErrorMessage_ListenTimeout,"ListenTimeout"))},c):null})}decorateAppAPIMethods(l,c,p){for(let f of c)l[f]=this.decorateAppAPIMethod(f,l[f],l,p)}decorateAppAPIMethod(l,c,p,f){return async(...d)=>{const{_appAPIlock:w}=this;if(w)return Promise.reject(new m.TransportError("Ledger Device is busy (lock "+w+")","TransportLocked"));try{return this._appAPIlock=l,this.setScrambleKey(f),await c.apply(p,d)}finally{this._appAPIlock=null}}}}n.isSupported=void 0,n.list=void 0,n.listen=void 0,n.open=void 0,n.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",n.ErrorMessage_NoDeviceFound="No Ledger device found"},O=>{var B,s=typeof Reflect=="object"?Reflect:null,y=s&&typeof s.apply=="function"?s.apply:function(C,M,x){return Function.prototype.apply.call(C,M,x)};B=s&&typeof s.ownKeys=="function"?s.ownKeys:Object.getOwnPropertySymbols?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:function(C){return Object.getOwnPropertyNames(C)};var b=Number.isNaN||function(C){return C!=C};function m(){m.init.call(this)}O.exports=m,O.exports.once=function(C,M){return new Promise(function(x,K){function j(G){C.removeListener(M,U),K(G)}function U(){typeof C.removeListener=="function"&&C.removeListener("error",j),x([].slice.call(arguments))}F(C,M,U,{once:!0}),M!=="error"&&function(G,X,Y){typeof G.on=="function"&&F(G,"error",X,{once:!0})}(C,j)})},m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var g=10;function n(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}function u(C){return C._maxListeners===void 0?m.defaultMaxListeners:C._maxListeners}function l(C,M,x,K){var j,U,G,X;if(n(x),(U=C._events)===void 0?(U=C._events=Object.create(null),C._eventsCount=0):(U.newListener!==void 0&&(C.emit("newListener",M,x.listener?x.listener:x),U=C._events),G=U[M]),G===void 0)G=U[M]=x,++C._eventsCount;else if(typeof G=="function"?G=U[M]=K?[x,G]:[G,x]:K?G.unshift(x):G.push(x),(j=u(C))>0&&G.length>j&&!G.warned){G.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+G.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=C,Y.type=M,Y.count=G.length,X=Y,console&&console.warn&&console.warn(X)}return C}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(C,M,x){var K={fired:!1,wrapFn:void 0,target:C,type:M,listener:x},j=c.bind(K);return j.listener=x,K.wrapFn=j,j}function f(C,M,x){var K=C._events;if(K===void 0)return[];var j=K[M];return j===void 0?[]:typeof j=="function"?x?[j.listener||j]:[j]:x?function(U){for(var G=new Array(U.length),X=0;X<G.length;++X)G[X]=U[X].listener||U[X];return G}(j):w(j,j.length)}function d(C){var M=this._events;if(M!==void 0){var x=M[C];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}function w(C,M){for(var x=new Array(M),K=0;K<M;++K)x[K]=C[K];return x}function F(C,M,x,K){if(typeof C.on=="function")K.once?C.once(M,x):C.on(M,x);else{if(typeof C.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C);C.addEventListener(M,function j(U){K.once&&C.removeEventListener(M,j),x(U)})}}Object.defineProperty(m,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(C){if(typeof C!="number"||C<0||b(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");g=C}}),m.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||b(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},m.prototype.getMaxListeners=function(){return u(this)},m.prototype.emit=function(C){for(var M=[],x=1;x<arguments.length;x++)M.push(arguments[x]);var K=C==="error",j=this._events;if(j!==void 0)K=K&&j.error===void 0;else if(!K)return!1;if(K){var U;if(M.length>0&&(U=M[0]),U instanceof Error)throw U;var G=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw G.context=U,G}var X=j[C];if(X===void 0)return!1;if(typeof X=="function")y(X,this,M);else{var Y=X.length,Q=w(X,Y);for(x=0;x<Y;++x)y(Q[x],this,M)}return!0},m.prototype.addListener=function(C,M){return l(this,C,M,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(C,M){return l(this,C,M,!0)},m.prototype.once=function(C,M){return n(M),this.on(C,p(this,C,M)),this},m.prototype.prependOnceListener=function(C,M){return n(M),this.prependListener(C,p(this,C,M)),this},m.prototype.removeListener=function(C,M){var x,K,j,U,G;if(n(M),(K=this._events)===void 0)return this;if((x=K[C])===void 0)return this;if(x===M||x.listener===M)--this._eventsCount==0?this._events=Object.create(null):(delete K[C],K.removeListener&&this.emit("removeListener",C,x.listener||M));else if(typeof x!="function"){for(j=-1,U=x.length-1;U>=0;U--)if(x[U]===M||x[U].listener===M){G=x[U].listener,j=U;break}if(j<0)return this;j===0?x.shift():function(X,Y){for(;Y+1<X.length;Y++)X[Y]=X[Y+1];X.pop()}(x,j),x.length===1&&(K[C]=x[0]),K.removeListener!==void 0&&this.emit("removeListener",C,G||M)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(C){var M,x,K;if((x=this._events)===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[C]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete x[C]),this;if(arguments.length===0){var j,U=Object.keys(x);for(K=0;K<U.length;++K)(j=U[K])!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(M=x[C])=="function")this.removeListener(C,M);else if(M!==void 0)for(K=M.length-1;K>=0;K--)this.removeListener(C,M[K]);return this},m.prototype.listeners=function(C){return f(this,C,!0)},m.prototype.rawListeners=function(C){return f(this,C,!1)},m.listenerCount=function(C,M){return typeof C.listenerCount=="function"?C.listenerCount(M):d.call(C,M)},m.prototype.listenerCount=d,m.prototype.eventNames=function(){return this._eventsCount>0?B(this._events):[]}},(O,B,s)=>{s.r(B),s.d(B,{AccountNameRequiredError:()=>c,AccountNotSupported:()=>p,AmountRequired:()=>f,BluetoothRequired:()=>d,BtcUnmatchedApp:()=>w,CantOpenDevice:()=>F,CantScanQRCode:()=>ut,CashAddrNotSupported:()=>C,CurrencyNotSupported:()=>M,DBNotReset:()=>Yt,DBWrongPassword:()=>Qt,DeviceAppVerifyNotSupported:()=>x,DeviceGenuineSocketEarlyClose:()=>K,DeviceHalted:()=>Y,DeviceInOSUExpected:()=>X,DeviceNameInvalid:()=>Q,DeviceNotGenuineError:()=>j,DeviceOnDashboardExpected:()=>U,DeviceOnDashboardUnexpected:()=>G,DeviceShouldStayInApp:()=>ht,DeviceSocketFail:()=>i,DeviceSocketNoBulkStatus:()=>h,DisconnectedDevice:()=>r,DisconnectedDeviceDuringOperation:()=>e,ETHAddressNonEIP:()=>Rt,EnpointConfigError:()=>t,EthAppPleaseEnableContractData:()=>o,FeeEstimationFailed:()=>a,FeeNotLoaded:()=>Bt,FeeRequired:()=>$t,FeeTooHigh:()=>lt,FirmwareNotRecognized:()=>v,FirmwareOrAppUpdateRequired:()=>Mt,GasLessThanEstimate:()=>yt,GenuineCheckFailed:()=>vt,HardResetFail:()=>S,InvalidAddress:()=>L,InvalidAddressBecauseDestinationIsAlsoSource:()=>R,InvalidXRPTag:()=>_,LatestMCUInstalledError:()=>W,LedgerAPI4xx:()=>bt,LedgerAPI5xx:()=>Et,LedgerAPIError:()=>rt,LedgerAPIErrorWithMessage:()=>tt,LedgerAPINotAvailable:()=>ft,MCUNotGenuineToDashboard:()=>ee,ManagerAppAlreadyInstalledError:()=>wt,ManagerAppDepInstallRequired:()=>pt,ManagerAppDepUninstallRequired:()=>ct,ManagerAppRelyOnBTCError:()=>Tt,ManagerDeviceLockedError:()=>St,ManagerFirmwareNotEnoughSpaceError:()=>Gt,ManagerNotEnoughSpaceError:()=>mt,ManagerUninstallBTCDep:()=>kt,NetworkDown:()=>oe,NoAccessToCamera:()=>V,NoAddressesFound:()=>_t,NoDBPathGiven:()=>Xt,NotEnoughBalance:()=>Kt,NotEnoughBalanceBecauseDestinationNotCreated:()=>Z,NotEnoughBalanceInParentAccount:()=>D,NotEnoughBalanceToDelegate:()=>E,NotEnoughGas:()=>J,NotEnoughSpendableBalance:()=>T,NotSupportedLegacyAddress:()=>ot,PairingFailed:()=>at,PasswordIncorrectError:()=>Jt,PasswordsDontMatchError:()=>xt,RecipientRequired:()=>se,RecommendSubAccountsToEmpty:()=>At,RecommendUndelegation:()=>Lt,StatusCodes:()=>ie,SyncError:()=>et,TimeoutTagged:()=>ue,TransportError:()=>re,TransportInterfaceNotAvailable:()=>nt,TransportOpenUserCancelled:()=>It,TransportRaceCondition:()=>Ct,TransportStatusError:()=>Wt,TransportWebUSBGestureRequired:()=>Nt,UnavailableTezosOriginatedAccountReceive:()=>Ht,UnavailableTezosOriginatedAccountSend:()=>N,UnexpectedBootloader:()=>qt,UnknownMCU:()=>H,UpdateFetchFileFail:()=>P,UpdateIncorrectHash:()=>k,UpdateIncorrectSig:()=>A,UpdateYourApp:()=>I,UserRefusedAddress:()=>z,UserRefusedAllowManager:()=>q,UserRefusedDeviceNameChange:()=>$,UserRefusedFirmwareUpdate:()=>it,UserRefusedOnDevice:()=>st,WebsocketConnectionError:()=>Ft,WebsocketConnectionFailed:()=>Ut,WrongAppForCurrency:()=>Dt,WrongDeviceForAccount:()=>dt,addCustomErrorDeserializer:()=>m,createCustomErrorClass:()=>g,deserializeError:()=>n,getAltStatusMessage:()=>ne,serializeError:()=>u});var y={},b={},m=function(gt,Pt){b[gt]=Pt},g=function(gt){var Pt=function(jt,Ot){Object.assign(this,Ot),this.name=gt,this.message=jt||gt,this.stack=new Error().stack};return Pt.prototype=new Error,y[gt]=Pt,Pt},n=function(gt){if(typeof gt=="object"&&gt){try{var Pt=JSON.parse(gt.message);Pt.message&&Pt.name&&(gt=Pt)}catch{}var jt=void 0;if(typeof gt.name=="string"){var Ot=gt.name,zt=b[Ot];if(zt)jt=zt(gt);else{var Zt=Ot==="Error"?Error:y[Ot];Zt||(console.warn("deserializing an unknown class '"+Ot+"'"),Zt=g(Ot)),jt=Object.create(Zt.prototype);try{for(var ae in gt)gt.hasOwnProperty(ae)&&(jt[ae]=gt[ae])}catch{}}}else jt=new Error(gt.message);return!jt.stack&&Error.captureStackTrace&&Error.captureStackTrace(jt,n),jt}return new Error(String(gt))},u=function(gt){return gt&&(typeof gt=="object"?l(gt,[]):typeof gt=="function"?"[Function: "+(gt.name||"anonymous")+"]":gt)};function l(gt,Pt){var jt={};Pt.push(gt);for(var Ot=0,zt=Object.keys(gt);Ot<zt.length;Ot++){var Zt=zt[Ot],ae=gt[Zt];typeof ae!="function"&&(ae&&typeof ae=="object"?Pt.indexOf(gt[Zt])!==-1?jt[Zt]="[Circular]":jt[Zt]=l(gt[Zt],Pt.slice(0)):jt[Zt]=ae)}return typeof gt.name=="string"&&(jt.name=gt.name),typeof gt.message=="string"&&(jt.message=gt.message),typeof gt.stack=="string"&&(jt.stack=gt.stack),jt}var c=g("AccountNameRequired"),p=g("AccountNotSupported"),f=g("AmountRequired"),d=g("BluetoothRequired"),w=g("BtcUnmatchedApp"),F=g("CantOpenDevice"),C=g("CashAddrNotSupported"),M=g("CurrencyNotSupported"),x=g("DeviceAppVerifyNotSupported"),K=g("DeviceGenuineSocketEarlyClose"),j=g("DeviceNotGenuine"),U=g("DeviceOnDashboardExpected"),G=g("DeviceOnDashboardUnexpected"),X=g("DeviceInOSUExpected"),Y=g("DeviceHalted"),Q=g("DeviceNameInvalid"),i=g("DeviceSocketFail"),h=g("DeviceSocketNoBulkStatus"),r=g("DisconnectedDevice"),e=g("DisconnectedDeviceDuringOperation"),t=g("EnpointConfig"),o=g("EthAppPleaseEnableContractData"),a=g("FeeEstimationFailed"),v=g("FirmwareNotRecognized"),S=g("HardResetFail"),_=g("InvalidXRPTag"),L=g("InvalidAddress"),R=g("InvalidAddressBecauseDestinationIsAlsoSource"),W=g("LatestMCUInstalledError"),H=g("UnknownMCU"),rt=g("LedgerAPIError"),tt=g("LedgerAPIErrorWithMessage"),ft=g("LedgerAPINotAvailable"),wt=g("ManagerAppAlreadyInstalled"),Tt=g("ManagerAppRelyOnBTC"),pt=g("ManagerAppDepInstallRequired"),ct=g("ManagerAppDepUninstallRequired"),St=g("ManagerDeviceLocked"),Gt=g("ManagerFirmwareNotEnoughSpace"),mt=g("ManagerNotEnoughSpace"),kt=g("ManagerUninstallBTCDep"),oe=g("NetworkDown"),_t=g("NoAddressesFound"),Kt=g("NotEnoughBalance"),E=g("NotEnoughBalanceToDelegate"),D=g("NotEnoughBalanceInParentAccount"),T=g("NotEnoughSpendableBalance"),Z=g("NotEnoughBalanceBecauseDestinationNotCreated"),V=g("NoAccessToCamera"),J=g("NotEnoughGas"),ot=g("NotSupportedLegacyAddress"),yt=g("GasLessThanEstimate"),xt=g("PasswordsDontMatch"),Jt=g("PasswordIncorrect"),At=g("RecommendSubAccountsToEmpty"),Lt=g("RecommendUndelegation"),ue=g("TimeoutTagged"),qt=g("UnexpectedBootloader"),ee=g("MCUNotGenuineToDashboard"),se=g("RecipientRequired"),Ht=g("UnavailableTezosOriginatedAccountReceive"),N=g("UnavailableTezosOriginatedAccountSend"),P=g("UpdateFetchFileFail"),k=g("UpdateIncorrectHash"),A=g("UpdateIncorrectSig"),I=g("UpdateYourApp"),$=g("UserRefusedDeviceNameChange"),z=g("UserRefusedAddress"),it=g("UserRefusedFirmwareUpdate"),q=g("UserRefusedAllowManager"),st=g("UserRefusedOnDevice"),It=g("TransportOpenUserCancelled"),nt=g("TransportInterfaceNotAvailable"),Ct=g("TransportRaceCondition"),Nt=g("TransportWebUSBGestureRequired"),ht=g("DeviceShouldStayInApp"),Ft=g("WebsocketConnectionError"),Ut=g("WebsocketConnectionFailed"),dt=g("WrongDeviceForAccount"),Dt=g("WrongAppForCurrency"),Rt=g("ETHAddressNonEIP"),ut=g("CantScanQRCode"),Bt=g("FeeNotLoaded"),$t=g("FeeRequired"),lt=g("FeeTooHigh"),et=g("SyncError"),at=g("PairingFailed"),vt=g("GenuineCheckFailed"),bt=g("LedgerAPI4xx"),Et=g("LedgerAPI5xx"),Mt=g("FirmwareOrAppUpdateRequired"),Xt=g("NoDBPathGiven"),Qt=g("DBWrongPassword"),Yt=g("DBNotReset");function re(gt,Pt){this.name="TransportError",this.message=gt,this.stack=new Error().stack,this.id=Pt}re.prototype=new Error,m("TransportError",function(gt){return new re(gt.message,gt.id)});var ie={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function ne(gt){switch(gt){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=gt&&gt<=28671)return"Internal error, please report"}function Wt(gt){this.name="TransportStatusError";var Pt=Object.keys(ie).find(function(zt){return ie[zt]===gt})||"UNKNOWN_ERROR",jt=ne(gt)||Pt,Ot=gt.toString(16);this.message="Ledger device: "+jt+" (0x"+Ot+")",this.stack=new Error().stack,this.statusCode=gt,this.statusText=Pt}Wt.prototype=new Error,m("TransportStatusError",function(gt){return new Wt(gt.statusCode)})},(O,B,s)=>{var y=s(9).Buffer;Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var b=s(54);function m(n){const u=y.alloc(2);return u.writeUInt16BE(n,0),u}const g={data:y.alloc(0),dataLength:0,sequence:0};B.default=(n,u)=>({makeBlocks(l){let c=y.concat([m(l.length),l]);const p=u-5,f=Math.ceil(c.length/p);c=y.concat([c,y.alloc(f*p-c.length+1).fill(0)]);const d=[];for(let w=0;w<f;w++){const F=y.alloc(5);F.writeUInt16BE(n,0),F.writeUInt8(5,2),F.writeUInt16BE(w,3);const C=c.slice(w*p,(w+1)*p);d.push(y.concat([F,C]))}return d},reduceResponse(l,c){let{data:p,dataLength:f,sequence:d}=l||g;if(c.readUInt16BE(0)!==n)throw new b.TransportError("Invalid channel","InvalidChannel");if(c.readUInt8(2)!==5)throw new b.TransportError("Invalid tag","InvalidTag");if(c.readUInt16BE(3)!==d)throw new b.TransportError("Invalid sequence","InvalidSequence");l||(f=c.readUInt16BE(5)),d++;const w=c.slice(l?5:7);return p=y.concat([p,w]),p.length>f&&(p=p.slice(0,f)),{data:p,dataLength:f,sequence:d}},getReducedResult(l){if(l&&l.dataLength===l.data.length)return l.data}})},(O,B,s)=>{s.r(B),s.d(B,{IICCID:()=>u,IIGenericHID:()=>m,IIKeyboardHID:()=>g,IIU2F:()=>n,IIWebUSB:()=>l,getBluetoothServiceUuids:()=>K,getDeviceModel:()=>w,getInfosForServiceUuid:()=>j,identifyProductName:()=>C,identifyUSBProductId:()=>F,ledgerUSBVendorId:()=>d});var y=s(57),b=s.n(y);const m=1,g=2,n=4,u=8,l=16,c={blue:{id:"blue",productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,blockSize:4096,getBlockSize:U=>4096},nanoS:{id:"nanoS",productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,blockSize:4096,getBlockSize:U=>b().lt(b().coerce(U),"2.0.0")?4096:2048},nanoX:{id:"nanoX",productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,blockSize:4096,getBlockSize:U=>4096,bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572"}]}},p={Blue:"blue","Nano S":"nanoS","Nano X":"nanoX"},f=Object.values(c),d=11415,w=U=>{const G=c[U];if(!G)throw new Error("device '"+U+"' does not exist");return G},F=U=>{const G=f.find(Y=>Y.legacyUsbProductId===U);if(G)return G;const X=U>>8;return f.find(Y=>Y.productIdMM===X)},C=U=>{const G=p[U];return f.find(X=>X.id===G)},M=[],x={};for(let U in c){const G=c[U],{bluetoothSpec:X}=G;if(X)for(let Y=0;Y<X.length;Y++){const Q=X[Y];M.push(Q.serviceUuid),x[Q.serviceUuid]=x[Q.serviceUuid.replace(/-/g,"")]={deviceModel:G,...Q}}}const K=()=>M,j=U=>x[U.toLowerCase()]},(O,B,s)=>{const y=s(58);O.exports={re:y.re,src:y.src,tokens:y.t,SEMVER_SPEC_VERSION:s(59).SEMVER_SPEC_VERSION,SemVer:s(61),compareIdentifiers:s(63).compareIdentifiers,rcompareIdentifiers:s(63).rcompareIdentifiers,parse:s(64),valid:s(65),clean:s(66),inc:s(67),diff:s(68),major:s(71),minor:s(72),patch:s(73),prerelease:s(74),compare:s(70),rcompare:s(75),compareLoose:s(76),compareBuild:s(77),sort:s(78),rsort:s(79),gt:s(80),lt:s(81),eq:s(69),neq:s(82),gte:s(83),lte:s(84),cmp:s(85),coerce:s(86),Comparator:s(87),Range:s(88),satisfies:s(92),toComparators:s(93),maxSatisfying:s(94),minSatisfying:s(95),minVersion:s(96),validRange:s(97),outside:s(98),gtr:s(99),ltr:s(100),intersects:s(101),simplifyRange:s(102),subset:s(103)}},(O,B,s)=>{const{MAX_SAFE_COMPONENT_LENGTH:y}=s(59),b=s(60),m=(B=O.exports={}).re=[],g=B.src=[],n=B.t={};let u=0;const l=(c,p,f)=>{const d=u++;b(d,p),n[c]=d,g[d]=p,m[d]=new RegExp(p,f?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${g[n.NUMERICIDENTIFIER]})\\.(${g[n.NUMERICIDENTIFIER]})\\.(${g[n.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${g[n.NUMERICIDENTIFIERLOOSE]})\\.(${g[n.NUMERICIDENTIFIERLOOSE]})\\.(${g[n.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${g[n.NUMERICIDENTIFIER]}|${g[n.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${g[n.NUMERICIDENTIFIERLOOSE]}|${g[n.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${g[n.PRERELEASEIDENTIFIER]}(?:\\.${g[n.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${g[n.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${g[n.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${g[n.BUILDIDENTIFIER]}(?:\\.${g[n.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${g[n.MAINVERSION]}${g[n.PRERELEASE]}?${g[n.BUILD]}?`),l("FULL",`^${g[n.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${g[n.MAINVERSIONLOOSE]}${g[n.PRERELEASELOOSE]}?${g[n.BUILD]}?`),l("LOOSE",`^${g[n.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${g[n.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${g[n.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${g[n.XRANGEIDENTIFIER]})(?:\\.(${g[n.XRANGEIDENTIFIER]})(?:\\.(${g[n.XRANGEIDENTIFIER]})(?:${g[n.PRERELEASE]})?${g[n.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${g[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[n.XRANGEIDENTIFIERLOOSE]})(?:${g[n.PRERELEASELOOSE]})?${g[n.BUILD]}?)?)?`),l("XRANGE",`^${g[n.GTLT]}\\s*${g[n.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${g[n.GTLT]}\\s*${g[n.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${y}})(?:\\.(\\d{1,${y}}))?(?:\\.(\\d{1,${y}}))?(?:$|[^\\d])`),l("COERCERTL",g[n.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${g[n.LONETILDE]}\\s+`,!0),B.tildeTrimReplace="$1~",l("TILDE",`^${g[n.LONETILDE]}${g[n.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${g[n.LONETILDE]}${g[n.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${g[n.LONECARET]}\\s+`,!0),B.caretTrimReplace="$1^",l("CARET",`^${g[n.LONECARET]}${g[n.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${g[n.LONECARET]}${g[n.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${g[n.GTLT]}\\s*(${g[n.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${g[n.GTLT]}\\s*(${g[n.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${g[n.GTLT]}\\s*(${g[n.LOOSEPLAIN]}|${g[n.XRANGEPLAIN]})`,!0),B.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${g[n.XRANGEPLAIN]})\\s+-\\s+(${g[n.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${g[n.XRANGEPLAINLOOSE]})\\s+-\\s+(${g[n.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0.0.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},O=>{const B=Number.MAX_SAFE_INTEGER||9007199254740991;O.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:B,MAX_SAFE_COMPONENT_LENGTH:16}},O=>{const B=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...s)=>console.error("SEMVER",...s):()=>{};O.exports=B},(O,B,s)=>{const y=s(60),{MAX_LENGTH:b,MAX_SAFE_INTEGER:m}=s(59),{re:g,t:n}=s(58),u=s(62),{compareIdentifiers:l}=s(63);class c{constructor(f,d){if(d=u(d),f instanceof c){if(f.loose===!!d.loose&&f.includePrerelease===!!d.includePrerelease)return f;f=f.version}else if(typeof f!="string")throw new TypeError(`Invalid Version: ${f}`);if(f.length>b)throw new TypeError(`version is longer than ${b} characters`);y("SemVer",f,d),this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease;const w=f.trim().match(d.loose?g[n.LOOSE]:g[n.FULL]);if(!w)throw new TypeError(`Invalid Version: ${f}`);if(this.raw=f,this.major=+w[1],this.minor=+w[2],this.patch=+w[3],this.major>m||this.major<0)throw new TypeError("Invalid major version");if(this.minor>m||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>m||this.patch<0)throw new TypeError("Invalid patch version");w[4]?this.prerelease=w[4].split(".").map(F=>{if(/^[0-9]+$/.test(F)){const C=+F;if(C>=0&&C<m)return C}return F}):this.prerelease=[],this.build=w[5]?w[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(f){if(y("SemVer.compare",this.version,this.options,f),!(f instanceof c)){if(typeof f=="string"&&f===this.version)return 0;f=new c(f,this.options)}return f.version===this.version?0:this.compareMain(f)||this.comparePre(f)}compareMain(f){return f instanceof c||(f=new c(f,this.options)),l(this.major,f.major)||l(this.minor,f.minor)||l(this.patch,f.patch)}comparePre(f){if(f instanceof c||(f=new c(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;let d=0;do{const w=this.prerelease[d],F=f.prerelease[d];if(y("prerelease compare",d,w,F),w===void 0&&F===void 0)return 0;if(F===void 0)return 1;if(w===void 0)return-1;if(w!==F)return l(w,F)}while(++d)}compareBuild(f){f instanceof c||(f=new c(f,this.options));let d=0;do{const w=this.build[d],F=f.build[d];if(y("prerelease compare",d,w,F),w===void 0&&F===void 0)return 0;if(F===void 0)return 1;if(w===void 0)return-1;if(w!==F)return l(w,F)}while(++d)}inc(f,d){switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",d),this.inc("pre",d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",d),this.inc("pre",d);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let w=this.prerelease.length;for(;--w>=0;)typeof this.prerelease[w]=="number"&&(this.prerelease[w]++,w=-2);w===-1&&this.prerelease.push(0)}d&&(this.prerelease[0]===d?isNaN(this.prerelease[1])&&(this.prerelease=[d,0]):this.prerelease=[d,0]);break;default:throw new Error(`invalid increment argument: ${f}`)}return this.format(),this.raw=this.version,this}}O.exports=c},O=>{const B=["includePrerelease","loose","rtl"];O.exports=s=>s?typeof s!="object"?{loose:!0}:B.filter(y=>s[y]).reduce((y,b)=>(y[b]=!0,y),{}):{}},O=>{const B=/^[0-9]+$/,s=(y,b)=>{const m=B.test(y),g=B.test(b);return m&&g&&(y=+y,b=+b),y===b?0:m&&!g?-1:g&&!m?1:y<b?-1:1};O.exports={compareIdentifiers:s,rcompareIdentifiers:(y,b)=>s(b,y)}},(O,B,s)=>{const{MAX_LENGTH:y}=s(59),{re:b,t:m}=s(58),g=s(61),n=s(62);O.exports=(u,l)=>{if(l=n(l),u instanceof g)return u;if(typeof u!="string"||u.length>y||!(l.loose?b[m.LOOSE]:b[m.FULL]).test(u))return null;try{return new g(u,l)}catch{return null}}},(O,B,s)=>{const y=s(64);O.exports=(b,m)=>{const g=y(b,m);return g?g.version:null}},(O,B,s)=>{const y=s(64);O.exports=(b,m)=>{const g=y(b.trim().replace(/^[=v]+/,""),m);return g?g.version:null}},(O,B,s)=>{const y=s(61);O.exports=(b,m,g,n)=>{typeof g=="string"&&(n=g,g=void 0);try{return new y(b,g).inc(m,n).version}catch{return null}}},(O,B,s)=>{const y=s(64),b=s(69);O.exports=(m,g)=>{if(b(m,g))return null;{const n=y(m),u=y(g),l=n.prerelease.length||u.prerelease.length,c=l?"pre":"",p=l?"prerelease":"";for(const f in n)if((f==="major"||f==="minor"||f==="patch")&&n[f]!==u[f])return c+f;return p}}},(O,B,s)=>{const y=s(70);O.exports=(b,m,g)=>y(b,m,g)===0},(O,B,s)=>{const y=s(61);O.exports=(b,m,g)=>new y(b,g).compare(new y(m,g))},(O,B,s)=>{const y=s(61);O.exports=(b,m)=>new y(b,m).major},(O,B,s)=>{const y=s(61);O.exports=(b,m)=>new y(b,m).minor},(O,B,s)=>{const y=s(61);O.exports=(b,m)=>new y(b,m).patch},(O,B,s)=>{const y=s(64);O.exports=(b,m)=>{const g=y(b,m);return g&&g.prerelease.length?g.prerelease:null}},(O,B,s)=>{const y=s(70);O.exports=(b,m,g)=>y(m,b,g)},(O,B,s)=>{const y=s(70);O.exports=(b,m)=>y(b,m,!0)},(O,B,s)=>{const y=s(61);O.exports=(b,m,g)=>{const n=new y(b,g),u=new y(m,g);return n.compare(u)||n.compareBuild(u)}},(O,B,s)=>{const y=s(77);O.exports=(b,m)=>b.sort((g,n)=>y(g,n,m))},(O,B,s)=>{const y=s(77);O.exports=(b,m)=>b.sort((g,n)=>y(n,g,m))},(O,B,s)=>{const y=s(70);O.exports=(b,m,g)=>y(b,m,g)>0},(O,B,s)=>{const y=s(70);O.exports=(b,m,g)=>y(b,m,g)<0},(O,B,s)=>{const y=s(70);O.exports=(b,m,g)=>y(b,m,g)!==0},(O,B,s)=>{const y=s(70);O.exports=(b,m,g)=>y(b,m,g)>=0},(O,B,s)=>{const y=s(70);O.exports=(b,m,g)=>y(b,m,g)<=0},(O,B,s)=>{const y=s(69),b=s(82),m=s(80),g=s(83),n=s(81),u=s(84);O.exports=(l,c,p,f)=>{switch(c){case"===":return typeof l=="object"&&(l=l.version),typeof p=="object"&&(p=p.version),l===p;case"!==":return typeof l=="object"&&(l=l.version),typeof p=="object"&&(p=p.version),l!==p;case"":case"=":case"==":return y(l,p,f);case"!=":return b(l,p,f);case">":return m(l,p,f);case">=":return g(l,p,f);case"<":return n(l,p,f);case"<=":return u(l,p,f);default:throw new TypeError(`Invalid operator: ${c}`)}}},(O,B,s)=>{const y=s(61),b=s(64),{re:m,t:g}=s(58);O.exports=(n,u)=>{if(n instanceof y)return n;if(typeof n=="number"&&(n=String(n)),typeof n!="string")return null;let l=null;if((u=u||{}).rtl){let c;for(;(c=m[g.COERCERTL].exec(n))&&(!l||l.index+l[0].length!==n.length);)l&&c.index+c[0].length===l.index+l[0].length||(l=c),m[g.COERCERTL].lastIndex=c.index+c[1].length+c[2].length;m[g.COERCERTL].lastIndex=-1}else l=n.match(m[g.COERCE]);return l===null?null:b(`${l[2]}.${l[3]||"0"}.${l[4]||"0"}`,u)}},(O,B,s)=>{const y=Symbol("SemVer ANY");class b{static get ANY(){return y}constructor(d,w){if(w=m(w),d instanceof b){if(d.loose===!!w.loose)return d;d=d.value}l("comparator",d,w),this.options=w,this.loose=!!w.loose,this.parse(d),this.semver===y?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(d){const w=this.options.loose?g[n.COMPARATORLOOSE]:g[n.COMPARATOR],F=d.match(w);if(!F)throw new TypeError(`Invalid comparator: ${d}`);this.operator=F[1]!==void 0?F[1]:"",this.operator==="="&&(this.operator=""),F[2]?this.semver=new c(F[2],this.options.loose):this.semver=y}toString(){return this.value}test(d){if(l("Comparator.test",d,this.options.loose),this.semver===y||d===y)return!0;if(typeof d=="string")try{d=new c(d,this.options)}catch{return!1}return u(d,this.operator,this.semver,this.options)}intersects(d,w){if(!(d instanceof b))throw new TypeError("a Comparator is required");if(w&&typeof w=="object"||(w={loose:!!w,includePrerelease:!1}),this.operator==="")return this.value===""||new p(d.value,w).test(this.value);if(d.operator==="")return d.value===""||new p(this.value,w).test(d.semver);const F=!(this.operator!==">="&&this.operator!==">"||d.operator!==">="&&d.operator!==">"),C=!(this.operator!=="<="&&this.operator!=="<"||d.operator!=="<="&&d.operator!=="<"),M=this.semver.version===d.semver.version,x=!(this.operator!==">="&&this.operator!=="<="||d.operator!==">="&&d.operator!=="<="),K=u(this.semver,"<",d.semver,w)&&(this.operator===">="||this.operator===">")&&(d.operator==="<="||d.operator==="<"),j=u(this.semver,">",d.semver,w)&&(this.operator==="<="||this.operator==="<")&&(d.operator===">="||d.operator===">");return F||C||M&&x||K||j}}O.exports=b;const m=s(62),{re:g,t:n}=s(58),u=s(85),l=s(60),c=s(61),p=s(88)},(O,B,s)=>{class y{constructor(t,o){if(o=m(o),t instanceof y)return t.loose===!!o.loose&&t.includePrerelease===!!o.includePrerelease?t:new y(t.raw,o);if(t instanceof g)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(a=>this.parseRange(a.trim())).filter(a=>a.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){const a=this.set[0];if(this.set=this.set.filter(v=>!w(v[0])),this.set.length===0)this.set=[a];else if(this.set.length>1){for(const v of this.set)if(v.length===1&&F(v[0])){this.set=[v];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const o=`parseRange:${Object.keys(this.options).join(",")}:${t}`,a=b.get(o);if(a)return a;const v=this.options.loose,S=v?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];t=t.replace(S,h(this.options.includePrerelease)),n("hyphen replace",t),t=t.replace(l[c.COMPARATORTRIM],p),n("comparator trim",t,l[c.COMPARATORTRIM]),t=(t=(t=t.replace(l[c.TILDETRIM],f)).replace(l[c.CARETTRIM],d)).split(/\s+/).join(" ");const _=v?l[c.COMPARATORLOOSE]:l[c.COMPARATOR],L=t.split(" ").map(H=>M(H,this.options)).join(" ").split(/\s+/).map(H=>i(H,this.options)).filter(this.options.loose?H=>!!H.match(_):()=>!0).map(H=>new g(H,this.options)),R=(L.length,new Map);for(const H of L){if(w(H))return[H];R.set(H.value,H)}R.size>1&&R.has("")&&R.delete("");const W=[...R.values()];return b.set(o,W),W}intersects(t,o){if(!(t instanceof y))throw new TypeError("a Range is required");return this.set.some(a=>C(a,o)&&t.set.some(v=>C(v,o)&&a.every(S=>v.every(_=>S.intersects(_,o)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new u(t,this.options)}catch{return!1}for(let o=0;o<this.set.length;o++)if(r(this.set[o],t,this.options))return!0;return!1}}O.exports=y;const b=new(s(89))({max:1e3}),m=s(62),g=s(87),n=s(60),u=s(61),{re:l,t:c,comparatorTrimReplace:p,tildeTrimReplace:f,caretTrimReplace:d}=s(58),w=e=>e.value==="<0.0.0-0",F=e=>e.value==="",C=(e,t)=>{let o=!0;const a=e.slice();let v=a.pop();for(;o&&a.length;)o=a.every(S=>v.intersects(S,t)),v=a.pop();return o},M=(e,t)=>(n("comp",e,t),e=U(e,t),n("caret",e),e=K(e,t),n("tildes",e),e=X(e,t),n("xrange",e),e=Q(e,t),n("stars",e),e),x=e=>!e||e.toLowerCase()==="x"||e==="*",K=(e,t)=>e.trim().split(/\s+/).map(o=>j(o,t)).join(" "),j=(e,t)=>{const o=t.loose?l[c.TILDELOOSE]:l[c.TILDE];return e.replace(o,(a,v,S,_,L)=>{let R;return n("tilde",e,a,v,S,_,L),x(v)?R="":x(S)?R=`>=${v}.0.0 <${+v+1}.0.0-0`:x(_)?R=`>=${v}.${S}.0 <${v}.${+S+1}.0-0`:L?(n("replaceTilde pr",L),R=`>=${v}.${S}.${_}-${L} <${v}.${+S+1}.0-0`):R=`>=${v}.${S}.${_} <${v}.${+S+1}.0-0`,n("tilde return",R),R})},U=(e,t)=>e.trim().split(/\s+/).map(o=>G(o,t)).join(" "),G=(e,t)=>{n("caret",e,t);const o=t.loose?l[c.CARETLOOSE]:l[c.CARET],a=t.includePrerelease?"-0":"";return e.replace(o,(v,S,_,L,R)=>{let W;return n("caret",e,v,S,_,L,R),x(S)?W="":x(_)?W=`>=${S}.0.0${a} <${+S+1}.0.0-0`:x(L)?W=S==="0"?`>=${S}.${_}.0${a} <${S}.${+_+1}.0-0`:`>=${S}.${_}.0${a} <${+S+1}.0.0-0`:R?(n("replaceCaret pr",R),W=S==="0"?_==="0"?`>=${S}.${_}.${L}-${R} <${S}.${_}.${+L+1}-0`:`>=${S}.${_}.${L}-${R} <${S}.${+_+1}.0-0`:`>=${S}.${_}.${L}-${R} <${+S+1}.0.0-0`):(n("no pr"),W=S==="0"?_==="0"?`>=${S}.${_}.${L}${a} <${S}.${_}.${+L+1}-0`:`>=${S}.${_}.${L}${a} <${S}.${+_+1}.0-0`:`>=${S}.${_}.${L} <${+S+1}.0.0-0`),n("caret return",W),W})},X=(e,t)=>(n("replaceXRanges",e,t),e.split(/\s+/).map(o=>Y(o,t)).join(" ")),Y=(e,t)=>{e=e.trim();const o=t.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return e.replace(o,(a,v,S,_,L,R)=>{n("xRange",e,a,v,S,_,L,R);const W=x(S),H=W||x(_),rt=H||x(L),tt=rt;return v==="="&&tt&&(v=""),R=t.includePrerelease?"-0":"",W?a=v===">"||v==="<"?"<0.0.0-0":"*":v&&tt?(H&&(_=0),L=0,v===">"?(v=">=",H?(S=+S+1,_=0,L=0):(_=+_+1,L=0)):v==="<="&&(v="<",H?S=+S+1:_=+_+1),v==="<"&&(R="-0"),a=`${v+S}.${_}.${L}${R}`):H?a=`>=${S}.0.0${R} <${+S+1}.0.0-0`:rt&&(a=`>=${S}.${_}.0${R} <${S}.${+_+1}.0-0`),n("xRange return",a),a})},Q=(e,t)=>(n("replaceStars",e,t),e.trim().replace(l[c.STAR],"")),i=(e,t)=>(n("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),h=e=>(t,o,a,v,S,_,L,R,W,H,rt,tt,ft)=>`${o=x(a)?"":x(v)?`>=${a}.0.0${e?"-0":""}`:x(S)?`>=${a}.${v}.0${e?"-0":""}`:_?`>=${o}`:`>=${o}${e?"-0":""}`} ${R=x(W)?"":x(H)?`<${+W+1}.0.0-0`:x(rt)?`<${W}.${+H+1}.0-0`:tt?`<=${W}.${H}.${rt}-${tt}`:e?`<${W}.${H}.${+rt+1}-0`:`<=${R}`}`.trim(),r=(e,t,o)=>{for(let a=0;a<e.length;a++)if(!e[a].test(t))return!1;if(t.prerelease.length&&!o.includePrerelease){for(let a=0;a<e.length;a++)if(n(e[a].semver),e[a].semver!==g.ANY&&e[a].semver.prerelease.length>0){const v=e[a].semver;if(v.major===t.major&&v.minor===t.minor&&v.patch===t.patch)return!0}return!1}return!0}},(O,B,s)=>{const y=s(90),b=Symbol("max"),m=Symbol("length"),g=Symbol("lengthCalculator"),n=Symbol("allowStale"),u=Symbol("maxAge"),l=Symbol("dispose"),c=Symbol("noDisposeOnSet"),p=Symbol("lruList"),f=Symbol("cache"),d=Symbol("updateAgeOnGet"),w=()=>1,F=(U,G,X)=>{const Y=U[f].get(G);if(Y){const Q=Y.value;if(C(U,Q)){if(x(U,Y),!U[n])return}else X&&(U[d]&&(Y.value.now=Date.now()),U[p].unshiftNode(Y));return Q.value}},C=(U,G)=>{if(!G||!G.maxAge&&!U[u])return!1;const X=Date.now()-G.now;return G.maxAge?X>G.maxAge:U[u]&&X>U[u]},M=U=>{if(U[m]>U[b])for(let G=U[p].tail;U[m]>U[b]&&G!==null;){const X=G.prev;x(U,G),G=X}},x=(U,G)=>{if(G){const X=G.value;U[l]&&U[l](X.key,X.value),U[m]-=X.length,U[f].delete(X.key),U[p].removeNode(G)}};class K{constructor(G,X,Y,Q,i){this.key=G,this.value=X,this.length=Y,this.now=Q,this.maxAge=i||0}}const j=(U,G,X,Y)=>{let Q=X.value;C(U,Q)&&(x(U,X),U[n]||(Q=void 0)),Q&&G.call(Y,Q.value,Q.key,U)};O.exports=class{constructor(U){if(typeof U=="number"&&(U={max:U}),U||(U={}),U.max&&(typeof U.max!="number"||U.max<0))throw new TypeError("max must be a non-negative number");this[b]=U.max||1/0;const G=U.length||w;if(this[g]=typeof G!="function"?w:G,this[n]=U.stale||!1,U.maxAge&&typeof U.maxAge!="number")throw new TypeError("maxAge must be a number");this[u]=U.maxAge||0,this[l]=U.dispose,this[c]=U.noDisposeOnSet||!1,this[d]=U.updateAgeOnGet||!1,this.reset()}set max(U){if(typeof U!="number"||U<0)throw new TypeError("max must be a non-negative number");this[b]=U||1/0,M(this)}get max(){return this[b]}set allowStale(U){this[n]=!!U}get allowStale(){return this[n]}set maxAge(U){if(typeof U!="number")throw new TypeError("maxAge must be a non-negative number");this[u]=U,M(this)}get maxAge(){return this[u]}set lengthCalculator(U){typeof U!="function"&&(U=w),U!==this[g]&&(this[g]=U,this[m]=0,this[p].forEach(G=>{G.length=this[g](G.value,G.key),this[m]+=G.length})),M(this)}get lengthCalculator(){return this[g]}get length(){return this[m]}get itemCount(){return this[p].length}rforEach(U,G){G=G||this;for(let X=this[p].tail;X!==null;){const Y=X.prev;j(this,U,X,G),X=Y}}forEach(U,G){G=G||this;for(let X=this[p].head;X!==null;){const Y=X.next;j(this,U,X,G),X=Y}}keys(){return this[p].toArray().map(U=>U.key)}values(){return this[p].toArray().map(U=>U.value)}reset(){this[l]&&this[p]&&this[p].length&&this[p].forEach(U=>this[l](U.key,U.value)),this[f]=new Map,this[p]=new y,this[m]=0}dump(){return this[p].map(U=>!C(this,U)&&{k:U.key,v:U.value,e:U.now+(U.maxAge||0)}).toArray().filter(U=>U)}dumpLru(){return this[p]}set(U,G,X){if((X=X||this[u])&&typeof X!="number")throw new TypeError("maxAge must be a number");const Y=X?Date.now():0,Q=this[g](G,U);if(this[f].has(U)){if(Q>this[b])return x(this,this[f].get(U)),!1;const h=this[f].get(U).value;return this[l]&&(this[c]||this[l](U,h.value)),h.now=Y,h.maxAge=X,h.value=G,this[m]+=Q-h.length,h.length=Q,this.get(U),M(this),!0}const i=new K(U,G,Q,Y,X);return i.length>this[b]?(this[l]&&this[l](U,G),!1):(this[m]+=i.length,this[p].unshift(i),this[f].set(U,this[p].head),M(this),!0)}has(U){if(!this[f].has(U))return!1;const G=this[f].get(U).value;return!C(this,G)}get(U){return F(this,U,!0)}peek(U){return F(this,U,!1)}pop(){const U=this[p].tail;return U?(x(this,U),U.value):null}del(U){x(this,this[f].get(U))}load(U){this.reset();const G=Date.now();for(let X=U.length-1;X>=0;X--){const Y=U[X],Q=Y.e||0;if(Q===0)this.set(Y.k,Y.v);else{const i=Q-G;i>0&&this.set(Y.k,Y.v,i)}}}prune(){this[f].forEach((U,G)=>F(this,G,!1))}}},(O,B,s)=>{function y(u){var l=this;if(l instanceof y||(l=new y),l.tail=null,l.head=null,l.length=0,u&&typeof u.forEach=="function")u.forEach(function(f){l.push(f)});else if(arguments.length>0)for(var c=0,p=arguments.length;c<p;c++)l.push(arguments[c]);return l}function b(u,l,c){var p=l===u.head?new n(c,null,l,u):new n(c,l,l.next,u);return p.next===null&&(u.tail=p),p.prev===null&&(u.head=p),u.length++,p}function m(u,l){u.tail=new n(l,u.tail,null,u),u.head||(u.head=u.tail),u.length++}function g(u,l){u.head=new n(l,null,u.head,u),u.tail||(u.tail=u.head),u.length++}function n(u,l,c,p){if(!(this instanceof n))return new n(u,l,c,p);this.list=p,this.value=u,l?(l.next=this,this.prev=l):this.prev=null,c?(c.prev=this,this.next=c):this.next=null}O.exports=y,y.Node=n,y.create=y,y.prototype.removeNode=function(u){if(u.list!==this)throw new Error("removing node which does not belong to this list");var l=u.next,c=u.prev;return l&&(l.prev=c),c&&(c.next=l),u===this.head&&(this.head=l),u===this.tail&&(this.tail=c),u.list.length--,u.next=null,u.prev=null,u.list=null,l},y.prototype.unshiftNode=function(u){if(u!==this.head){u.list&&u.list.removeNode(u);var l=this.head;u.list=this,u.next=l,l&&(l.prev=u),this.head=u,this.tail||(this.tail=u),this.length++}},y.prototype.pushNode=function(u){if(u!==this.tail){u.list&&u.list.removeNode(u);var l=this.tail;u.list=this,u.prev=l,l&&(l.next=u),this.tail=u,this.head||(this.head=u),this.length++}},y.prototype.push=function(){for(var u=0,l=arguments.length;u<l;u++)m(this,arguments[u]);return this.length},y.prototype.unshift=function(){for(var u=0,l=arguments.length;u<l;u++)g(this,arguments[u]);return this.length},y.prototype.pop=function(){if(this.tail){var u=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,u}},y.prototype.shift=function(){if(this.head){var u=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,u}},y.prototype.forEach=function(u,l){l=l||this;for(var c=this.head,p=0;c!==null;p++)u.call(l,c.value,p,this),c=c.next},y.prototype.forEachReverse=function(u,l){l=l||this;for(var c=this.tail,p=this.length-1;c!==null;p--)u.call(l,c.value,p,this),c=c.prev},y.prototype.get=function(u){for(var l=0,c=this.head;c!==null&&l<u;l++)c=c.next;if(l===u&&c!==null)return c.value},y.prototype.getReverse=function(u){for(var l=0,c=this.tail;c!==null&&l<u;l++)c=c.prev;if(l===u&&c!==null)return c.value},y.prototype.map=function(u,l){l=l||this;for(var c=new y,p=this.head;p!==null;)c.push(u.call(l,p.value,this)),p=p.next;return c},y.prototype.mapReverse=function(u,l){l=l||this;for(var c=new y,p=this.tail;p!==null;)c.push(u.call(l,p.value,this)),p=p.prev;return c},y.prototype.reduce=function(u,l){var c,p=this.head;if(arguments.length>1)c=l;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");p=this.head.next,c=this.head.value}for(var f=0;p!==null;f++)c=u(c,p.value,f),p=p.next;return c},y.prototype.reduceReverse=function(u,l){var c,p=this.tail;if(arguments.length>1)c=l;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");p=this.tail.prev,c=this.tail.value}for(var f=this.length-1;p!==null;f--)c=u(c,p.value,f),p=p.prev;return c},y.prototype.toArray=function(){for(var u=new Array(this.length),l=0,c=this.head;c!==null;l++)u[l]=c.value,c=c.next;return u},y.prototype.toArrayReverse=function(){for(var u=new Array(this.length),l=0,c=this.tail;c!==null;l++)u[l]=c.value,c=c.prev;return u},y.prototype.slice=function(u,l){(l=l||this.length)<0&&(l+=this.length),(u=u||0)<0&&(u+=this.length);var c=new y;if(l<u||l<0)return c;u<0&&(u=0),l>this.length&&(l=this.length);for(var p=0,f=this.head;f!==null&&p<u;p++)f=f.next;for(;f!==null&&p<l;p++,f=f.next)c.push(f.value);return c},y.prototype.sliceReverse=function(u,l){(l=l||this.length)<0&&(l+=this.length),(u=u||0)<0&&(u+=this.length);var c=new y;if(l<u||l<0)return c;u<0&&(u=0),l>this.length&&(l=this.length);for(var p=this.length,f=this.tail;f!==null&&p>l;p--)f=f.prev;for(;f!==null&&p>u;p--,f=f.prev)c.push(f.value);return c},y.prototype.splice=function(u,l,...c){u>this.length&&(u=this.length-1),u<0&&(u=this.length+u);for(var p=0,f=this.head;f!==null&&p<u;p++)f=f.next;var d=[];for(p=0;f&&p<l;p++)d.push(f.value),f=this.removeNode(f);for(f===null&&(f=this.tail),f!==this.head&&f!==this.tail&&(f=f.prev),p=0;p<c.length;p++)f=b(this,f,c[p]);return d},y.prototype.reverse=function(){for(var u=this.head,l=this.tail,c=u;c!==null;c=c.prev){var p=c.prev;c.prev=c.next,c.next=p}return this.head=l,this.tail=u,this};try{s(91)(y)}catch{}},O=>{O.exports=function(B){B.prototype[Symbol.iterator]=function*(){for(let s=this.head;s;s=s.next)yield s.value}}},(O,B,s)=>{const y=s(88);O.exports=(b,m,g)=>{try{m=new y(m,g)}catch{return!1}return m.test(b)}},(O,B,s)=>{const y=s(88);O.exports=(b,m)=>new y(b,m).set.map(g=>g.map(n=>n.value).join(" ").trim().split(" "))},(O,B,s)=>{const y=s(61),b=s(88);O.exports=(m,g,n)=>{let u=null,l=null,c=null;try{c=new b(g,n)}catch{return null}return m.forEach(p=>{c.test(p)&&(u&&l.compare(p)!==-1||(u=p,l=new y(u,n)))}),u}},(O,B,s)=>{const y=s(61),b=s(88);O.exports=(m,g,n)=>{let u=null,l=null,c=null;try{c=new b(g,n)}catch{return null}return m.forEach(p=>{c.test(p)&&(u&&l.compare(p)!==1||(u=p,l=new y(u,n)))}),u}},(O,B,s)=>{const y=s(61),b=s(88),m=s(80);O.exports=(g,n)=>{g=new b(g,n);let u=new y("0.0.0");if(g.test(u)||(u=new y("0.0.0-0"),g.test(u)))return u;u=null;for(let l=0;l<g.set.length;++l){const c=g.set[l];let p=null;c.forEach(f=>{const d=new y(f.semver.version);switch(f.operator){case">":d.prerelease.length===0?d.patch++:d.prerelease.push(0),d.raw=d.format();case"":case">=":p&&!m(d,p)||(p=d);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${f.operator}`)}}),!p||u&&!m(u,p)||(u=p)}return u&&g.test(u)?u:null}},(O,B,s)=>{const y=s(88);O.exports=(b,m)=>{try{return new y(b,m).range||"*"}catch{return null}}},(O,B,s)=>{const y=s(61),b=s(87),{ANY:m}=b,g=s(88),n=s(92),u=s(80),l=s(81),c=s(84),p=s(83);O.exports=(f,d,w,F)=>{let C,M,x,K,j;switch(f=new y(f,F),d=new g(d,F),w){case">":C=u,M=c,x=l,K=">",j=">=";break;case"<":C=l,M=p,x=u,K="<",j="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(n(f,d,F))return!1;for(let U=0;U<d.set.length;++U){const G=d.set[U];let X=null,Y=null;if(G.forEach(Q=>{Q.semver===m&&(Q=new b(">=0.0.0")),X=X||Q,Y=Y||Q,C(Q.semver,X.semver,F)?X=Q:x(Q.semver,Y.semver,F)&&(Y=Q)}),X.operator===K||X.operator===j||(!Y.operator||Y.operator===K)&&M(f,Y.semver)||Y.operator===j&&x(f,Y.semver))return!1}return!0}},(O,B,s)=>{const y=s(98);O.exports=(b,m,g)=>y(b,m,">",g)},(O,B,s)=>{const y=s(98);O.exports=(b,m,g)=>y(b,m,"<",g)},(O,B,s)=>{const y=s(88);O.exports=(b,m,g)=>(b=new y(b,g),m=new y(m,g),b.intersects(m))},(O,B,s)=>{const y=s(92),b=s(70);O.exports=(m,g,n)=>{const u=[];let l=null,c=null;const p=m.sort((F,C)=>b(F,C,n));for(const F of p)y(F,g,n)?(c=F,l||(l=F)):(c&&u.push([l,c]),c=null,l=null);l&&u.push([l,null]);const f=[];for(const[F,C]of u)F===C?f.push(F):C||F!==p[0]?C?F===p[0]?f.push(`<=${C}`):f.push(`${F} - ${C}`):f.push(`>=${F}`):f.push("*");const d=f.join(" || "),w=typeof g.raw=="string"?g.raw:String(g);return d.length<w.length?d:g}},(O,B,s)=>{const y=s(88),b=s(87),{ANY:m}=b,g=s(92),n=s(70),u=(p,f,d)=>{if(p===f)return!0;if(p.length===1&&p[0].semver===m){if(f.length===1&&f[0].semver===m)return!0;p=d.includePrerelease?[new b(">=0.0.0-0")]:[new b(">=0.0.0")]}if(f.length===1&&f[0].semver===m){if(d.includePrerelease)return!0;f=[new b(">=0.0.0")]}const w=new Set;let F,C,M,x,K,j,U;for(const Y of p)Y.operator===">"||Y.operator===">="?F=l(F,Y,d):Y.operator==="<"||Y.operator==="<="?C=c(C,Y,d):w.add(Y.semver);if(w.size>1||F&&C&&(M=n(F.semver,C.semver,d),M>0||M===0&&(F.operator!==">="||C.operator!=="<=")))return null;for(const Y of w){if(F&&!g(Y,String(F),d)||C&&!g(Y,String(C),d))return null;for(const Q of f)if(!g(Y,String(Q),d))return!1;return!0}let G=!(!C||d.includePrerelease||!C.semver.prerelease.length)&&C.semver,X=!(!F||d.includePrerelease||!F.semver.prerelease.length)&&F.semver;G&&G.prerelease.length===1&&C.operator==="<"&&G.prerelease[0]===0&&(G=!1);for(const Y of f){if(U=U||Y.operator===">"||Y.operator===">=",j=j||Y.operator==="<"||Y.operator==="<=",F){if(X&&Y.semver.prerelease&&Y.semver.prerelease.length&&Y.semver.major===X.major&&Y.semver.minor===X.minor&&Y.semver.patch===X.patch&&(X=!1),Y.operator===">"||Y.operator===">="){if(x=l(F,Y,d),x===Y&&x!==F)return!1}else if(F.operator===">="&&!g(F.semver,String(Y),d))return!1}if(C){if(G&&Y.semver.prerelease&&Y.semver.prerelease.length&&Y.semver.major===G.major&&Y.semver.minor===G.minor&&Y.semver.patch===G.patch&&(G=!1),Y.operator==="<"||Y.operator==="<="){if(K=c(C,Y,d),K===Y&&K!==C)return!1}else if(C.operator==="<="&&!g(C.semver,String(Y),d))return!1}if(!Y.operator&&(C||F)&&M!==0)return!1}return!(F&&j&&!C&&M!==0||C&&U&&!F&&M!==0||X||G)},l=(p,f,d)=>{if(!p)return f;const w=n(p.semver,f.semver,d);return w>0?p:w<0||f.operator===">"&&p.operator===">="?f:p},c=(p,f,d)=>{if(!p)return f;const w=n(p.semver,f.semver,d);return w<0?p:w>0||f.operator==="<"&&p.operator==="<="?f:p};O.exports=(p,f,d={})=>{if(p===f)return!0;p=new y(p,d),f=new y(f,d);let w=!1;t:for(const F of p.set){for(const C of f.set){const M=u(F,C,d);if(w=w||M!==null,M)continue t}if(w)return!1}return!0}},(O,B,s)=>{s.r(B),s.d(B,{listen:()=>g,log:()=>m});let y=0;const b=[],m=(n,u,l)=>{const c={type:n,id:String(++y),date:new Date};u&&(c.message=u),l&&(c.data=l),function(p){for(let f=0;f<b.length;f++)try{b[f](p)}catch(d){console.error(d)}}(c)},g=n=>(b.push(n),()=>{const u=b.indexOf(n);u!==-1&&(b[u]=b[b.length-1],b.pop())});typeof window<"u"&&(window.__ledgerLogsListen=g)},(O,B,s)=>{s.r(B),s.d(B,{getFirstLedgerDevice:()=>n,getLedgerDevices:()=>g,isSupported:()=>u,requestLedgerDevice:()=>m});var y=s(56);const b=[{vendorId:y.ledgerUSBVendorId}];async function m(){return await navigator.usb.requestDevice({filters:b})}async function g(){return(await navigator.usb.getDevices()).filter(l=>l.vendorId===y.ledgerUSBVendorId)}async function n(){const l=await g();return l.length>0?l[0]:m()}const u=()=>Promise.resolve(!!navigator&&!!navigator.usb&&typeof navigator.usb.getDevices=="function")},(O,B,s)=>{s.r(B),s.d(B,{default:()=>d});var y=s(52),b=s(55),m=s(56),g=s(104),n=s(54),u=s(9).Buffer;const l=[{vendorId:m.ledgerUSBVendorId}],c=()=>{const{hid:w}=navigator;if(!w)throw new n.TransportError("navigator.hid is not supported","HIDNotSupported");return w};async function p(){const w=await c().requestDevice({filters:l});return Array.isArray(w)?w:[w]}async function f(){return(await c().getDevices()).filter(w=>w.vendorId===m.ledgerUSBVendorId)}class d extends y.default{constructor(F){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.inputs=[],this.inputCallback=void 0,this.read=()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise(C=>{this.inputCallback=C}),this.onInputReport=C=>{const M=u.from(C.data.buffer);this.inputCallback?(this.inputCallback(M),this.inputCallback=null):this.inputs.push(M)},this._disconnectEmitted=!1,this._emitDisconnect=C=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",C))},this.exchange=C=>this.exchangeAtomicImpl(async()=>{const{channel:M,packetSize:x}=this;(0,g.log)("apdu","=> "+C.toString("hex"));const K=(0,b.default)(M,x),j=K.makeBlocks(C);for(let X=0;X<j.length;X++)await this.device.sendReport(0,j[X]);let U,G;for(;!(U=K.getReducedResult(G));){const X=await this.read();G=K.reduceResponse(G,X)}return(0,g.log)("apdu","<= "+U.toString("hex")),U}).catch(M=>{throw M&&M.message&&M.message.includes("write")?(this._emitDisconnect(M),new n.DisconnectedDeviceDuringOperation(M.message)):M}),this.device=F,this.deviceModel=(0,m.identifyUSBProductId)(F.productId),F.addEventListener("inputreport",this.onInputReport)}static async request(){const[F]=await p();return d.open(F)}static async openConnected(){const F=await f();return F.length===0?null:d.open(F[0])}static async open(F){await F.open();const C=new d(F),M=x=>{F===x.device&&(c().removeEventListener("disconnect",M),C._emitDisconnect(new n.DisconnectedDevice))};return c().addEventListener("disconnect",M),C}async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}setScrambleKey(){}}d.isSupported=()=>Promise.resolve(!(!s.g.navigator||!s.g.navigator.hid)),d.list=f,d.listen=w=>{let F=!1;return async function(){const C=await f();return C.length>0?C[0]:(await p())[0]}().then(C=>{if(C){if(!F){const M=(0,m.identifyUSBProductId)(C.productId);w.next({type:"add",descriptor:C,deviceModel:M}),w.complete()}}else w.error(new n.TransportOpenUserCancelled("Access denied to use Ledger device"))},C=>{w.error(new n.TransportOpenUserCancelled(C.message))}),{unsubscribe:function(){F=!0}}}},(O,B,s)=>{s.r(B),s.d(B,{default:()=>Q});var y=s(52),b=s(54),m=s(56),g=s(108),n=s(212),u=s(104),l=s(110),c=s(200),p=s(192),f=s(184),d=s(214),w=s(215),F=s(217),C=s(167),M=s(221),x=s(213),K=s(9).Buffer;const j=()=>{const{bluetooth:i}=navigator;if(i===void 0)throw new Error("web bluetooth not supported");return i},U=()=>l.Observable.create(i=>{const h=j(),r=t=>{i.next(t.value)};h.addEventListener("availabilitychanged",r);let e=!1;return h.getAvailability().then(t=>{e||i.next(t)}),()=>{e=!0,h.removeEventListener("availabilitychanged",r)}}),G={},X=()=>({filters:(0,m.getBluetoothServiceUuids)().map(i=>({services:[i]}))});async function Y(i,h){let r;if(typeof i=="string"){if(G[i])return(0,u.log)("ble-verbose","Transport in cache, using that."),G[i];r=await j().requestDevice(X())}else r=i;r.gatt.connected||((0,u.log)("ble-verbose","not connected. connecting..."),await r.gatt.connect());const[e,t]=await(async tt=>{if(!tt.gatt)throw new Error("bluetooth gatt not found");const[ft]=await tt.gatt.getPrimaryServices();if(!ft)throw new Error("bluetooth service not found");const wt=(0,m.getInfosForServiceUuid)(ft.uuid);if(!wt)throw new Error("bluetooth service infos not found");return[ft,wt]})(r),{deviceModel:o,writeUuid:a,notifyUuid:v}=t,[S,_]=await Promise.all([e.getCharacteristic(a),e.getCharacteristic(v)]),L=(0,x.monitorCharacteristic)(_).pipe((0,d.tap)(tt=>{(0,u.log)("ble-frame","<= "+tt.toString("hex"))}),(0,w.share)()),R=L.subscribe(),W=new Q(r,S,L,o);if(!r.gatt.connected)throw new b.DisconnectedDevice;G[W.id]=W;const H=tt=>{console.log("onDisconnect!",tt),delete G[W.id],W.notYetDisconnected=!1,R.unsubscribe(),r.removeEventListener("gattserverdisconnected",H),(0,u.log)("ble-verbose",`BleTransport(${W.id}) disconnected`),W.emit("disconnect",tt)};r.addEventListener("gattserverdisconnected",H);let rt=Date.now();try{await W.inferMTU()}finally{Date.now()-rt<1e3&&(h=!1),h&&(await r.gatt.disconnect(),await new Promise(tt=>setTimeout(tt,4e3)))}return h?Y(r,!1):W}class Q extends y.default{static listen(h){let r;return(0,u.log)("ble-verbose","listen..."),j().requestDevice(X()).then(async e=>{r||(h.next({type:"add",descriptor:e}),h.complete())},e=>{h.error(new b.TransportOpenUserCancelled(e.message))}),{unsubscribe:function(){r=!0}}}static async open(h){return Y(h,!0)}constructor(h,r,e,t){super(),this.id=void 0,this.device=void 0,this.mtuSize=20,this.writeCharacteristic=void 0,this.notifyObservable=void 0,this.notYetDisconnected=!0,this.deviceModel=void 0,this.exchange=o=>this.exchangeAtomicImpl(async()=>{try{const a=o.toString("hex");(0,u.log)("apdu",`=> ${a}`);const v=await(0,c.merge)(this.notifyObservable.pipe(n.receiveAPDU),(0,g.sendAPDU)(this.write,o,this.mtuSize)).toPromise(),S=v.toString("hex");return(0,u.log)("apdu",`<= ${S}`),v}catch(a){throw(0,u.log)("ble-error","exchange got "+String(a)),this.notYetDisconnected&&this.device.gatt.disconnect(),a}}),this.write=async o=>{(0,u.log)("ble-frame","=> "+o.toString("hex")),await this.writeCharacteristic.writeValue(o)},this.id=h.id,this.device=h,this.writeCharacteristic=r,this.notifyObservable=e,this.deviceModel=t,(0,u.log)("ble-verbose",`BleTransport(${String(this.id)}) new instance`)}async inferMTU(){let h=23;if(await this.exchangeAtomicImpl(async()=>{try{h=await(0,c.merge)(this.notifyObservable.pipe((0,F.first)(r=>r.readUInt8(0)===8),(0,C.map)(r=>r.readUInt8(5))),(0,p.defer)(()=>(0,f.from)(this.write(K.from([8,0,0,0,0])))).pipe((0,M.ignoreElements)())).toPromise()+3}catch(r){throw(0,u.log)("ble-error","inferMTU got "+String(r)),this.device.gatt.disconnect(),r}}),h>23){const r=h-3;(0,u.log)("ble-verbose",`BleTransport(${String(this.id)}) mtu set to ${String(r)}`),this.mtuSize=r}return this.mtuSize}setScrambleKey(){}async close(){this.exchangeBusyPromise&&await this.exchangeBusyPromise}}Q.isSupported=()=>Promise.resolve().then(j).then(()=>!0,()=>!1),Q.observeAvailability=i=>U.subscribe(i),Q.list=()=>Promise.resolve([]),Q.disconnect=async i=>{(0,u.log)("ble-verbose",`user disconnect(${i})`);const h=G[i];h&&h.device.gatt.disconnect()}},(O,B,s)=>{var y=s(9).Buffer;Object.defineProperty(B,"__esModule",{value:!0}),B.sendAPDU=void 0;var b=s(109),m=s(104);B.sendAPDU=(g,n,u)=>{const l=function(c,p){const f=[];for(let d=0,w=p(0);d<c.length;d+=w,w=p(d))f.push(c.slice(d,d+w));return f}(n,c=>u-(c===0?5:3)).map((c,p)=>{const f=y.alloc(p===0?5:3);return f.writeUInt8(5,0),f.writeUInt16BE(p,1),p===0&&f.writeUInt16BE(n.length,3),y.concat([f,c])});return b.Observable.create(c=>{let p=!1;return async function(){for(const f of l){if(p)return;await g(f)}}().then(()=>{p=!0,c.complete()},f=>{p=!0,(0,m.log)("ble-error","sendAPDU failure "+String(f)),c.error(f)}),()=>{p||((0,m.log)("ble-verbose","sendAPDU interruption"),p=!0)}})}},(O,B,s)=>{s.r(B),s.d(B,{ArgumentOutOfRangeError:()=>Y.ArgumentOutOfRangeError,AsyncSubject:()=>c.AsyncSubject,BehaviorSubject:()=>u.BehaviorSubject,ConnectableObservable:()=>b.ConnectableObservable,EMPTY:()=>S.EMPTY,EmptyError:()=>Q.EmptyError,GroupedObservable:()=>m.GroupedObservable,NEVER:()=>wt.NEVER,Notification:()=>K.Notification,NotificationKind:()=>K.NotificationKind,ObjectUnsubscribedError:()=>i.ObjectUnsubscribedError,Observable:()=>y.Observable,ReplaySubject:()=>l.ReplaySubject,Scheduler:()=>C.Scheduler,Subject:()=>n.Subject,Subscriber:()=>x.Subscriber,Subscription:()=>M.Subscription,TimeoutError:()=>r.TimeoutError,UnsubscriptionError:()=>h.UnsubscriptionError,VirtualAction:()=>F.VirtualAction,VirtualTimeScheduler:()=>F.VirtualTimeScheduler,animationFrame:()=>w.animationFrame,animationFrameScheduler:()=>w.animationFrameScheduler,asap:()=>p.asap,asapScheduler:()=>p.asapScheduler,async:()=>f.async,asyncScheduler:()=>f.asyncScheduler,bindCallback:()=>e.bindCallback,bindNodeCallback:()=>t.bindNodeCallback,combineLatest:()=>o.combineLatest,concat:()=>a.concat,config:()=>D.config,defer:()=>v.defer,empty:()=>S.empty,forkJoin:()=>_.forkJoin,from:()=>L.from,fromEvent:()=>R.fromEvent,fromEventPattern:()=>W.fromEventPattern,generate:()=>H.generate,identity:()=>G.identity,iif:()=>rt.iif,interval:()=>tt.interval,isObservable:()=>X.isObservable,merge:()=>ft.merge,never:()=>wt.never,noop:()=>U.noop,observable:()=>g.observable,of:()=>Tt.of,onErrorResumeNext:()=>pt.onErrorResumeNext,pairs:()=>ct.pairs,partition:()=>St.partition,pipe:()=>j.pipe,queue:()=>d.queue,queueScheduler:()=>d.queueScheduler,race:()=>Gt.race,range:()=>mt.range,scheduled:()=>E.scheduled,throwError:()=>kt.throwError,timer:()=>oe.timer,using:()=>_t.using,zip:()=>Kt.zip});var y=s(110),b=s(127),m=s(132),g=s(124),n=s(129),u=s(133),l=s(134),c=s(151),p=s(152),f=s(156),d=s(144),w=s(157),F=s(160),C=s(147),M=s(118),x=s(112),K=s(136),j=s(125),U=s(161),G=s(126),X=s(162),Y=s(163),Q=s(164),i=s(130),h=s(120),r=s(165),e=s(166),t=s(168),o=s(169),a=s(180),v=s(192),S=s(143),_=s(193),L=s(184),R=s(194),W=s(195),H=s(196),rt=s(197),tt=s(198),ft=s(200),wt=s(201),Tt=s(137),pt=s(202),ct=s(203),St=s(204),Gt=s(207),mt=s(208),kt=s(142),oe=s(209),_t=s(210),Kt=s(211),E=s(185),D=s(115)},(O,B,s)=>{s.r(B),s.d(B,{Observable:()=>u});var y=s(123),b=s(111),m=s(124),g=s(125),n=s(115),u=function(){function c(p){this._isScalar=!1,p&&(this._subscribe=p)}return c.prototype.lift=function(p){var f=new c;return f.source=this,f.operator=p,f},c.prototype.subscribe=function(p,f,d){var w=this.operator,F=(0,b.toSubscriber)(p,f,d);if(w?F.add(w.call(F,this.source)):F.add(this.source||n.config.useDeprecatedSynchronousErrorHandling&&!F.syncErrorThrowable?this._subscribe(F):this._trySubscribe(F)),n.config.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable&&(F.syncErrorThrowable=!1,F.syncErrorThrown))throw F.syncErrorValue;return F},c.prototype._trySubscribe=function(p){try{return this._subscribe(p)}catch(f){n.config.useDeprecatedSynchronousErrorHandling&&(p.syncErrorThrown=!0,p.syncErrorValue=f),(0,y.canReportError)(p)?p.error(f):console.warn(f)}},c.prototype.forEach=function(p,f){var d=this;return new(f=l(f))(function(w,F){var C;C=d.subscribe(function(M){try{p(M)}catch(x){F(x),C&&C.unsubscribe()}},F,w)})},c.prototype._subscribe=function(p){var f=this.source;return f&&f.subscribe(p)},c.prototype[m.observable]=function(){return this},c.prototype.pipe=function(){for(var p=[],f=0;f<arguments.length;f++)p[f]=arguments[f];return p.length===0?this:(0,g.pipeFromArray)(p)(this)},c.prototype.toPromise=function(p){var f=this;return new(p=l(p))(function(d,w){var F;f.subscribe(function(C){return F=C},function(C){return w(C)},function(){return d(F)})})},c.create=function(p){return new c(p)},c}();function l(c){if(c||(c=n.config.Promise||Promise),!c)throw new Error("no Promise impl found");return c}},(O,B,s)=>{s.r(B),s.d(B,{toSubscriber:()=>g});var y=s(112),b=s(117),m=s(114);function g(n,u,l){if(n){if(n instanceof y.Subscriber)return n;if(n[b.rxSubscriber])return n[b.rxSubscriber]()}return n||u||l?new y.Subscriber(n,u,l):new y.Subscriber(m.empty)}},(O,B,s)=>{s.r(B),s.d(B,{SafeSubscriber:()=>p,Subscriber:()=>c});var y=s(113),b=s(119),m=s(114),g=s(118),n=s(117),u=s(115),l=s(116),c=function(f){function d(w,F,C){var M=f.call(this)||this;switch(M.syncErrorValue=null,M.syncErrorThrown=!1,M.syncErrorThrowable=!1,M.isStopped=!1,arguments.length){case 0:M.destination=m.empty;break;case 1:if(!w){M.destination=m.empty;break}if(typeof w=="object"){w instanceof d?(M.syncErrorThrowable=w.syncErrorThrowable,M.destination=w,w.add(M)):(M.syncErrorThrowable=!0,M.destination=new p(M,w));break}default:M.syncErrorThrowable=!0,M.destination=new p(M,w,F,C)}return M}return y.__extends(d,f),d.prototype[n.rxSubscriber]=function(){return this},d.create=function(w,F,C){var M=new d(w,F,C);return M.syncErrorThrowable=!1,M},d.prototype.next=function(w){this.isStopped||this._next(w)},d.prototype.error=function(w){this.isStopped||(this.isStopped=!0,this._error(w))},d.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},d.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,f.prototype.unsubscribe.call(this))},d.prototype._next=function(w){this.destination.next(w)},d.prototype._error=function(w){this.destination.error(w),this.unsubscribe()},d.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},d.prototype._unsubscribeAndRecycle=function(){var w=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=w,this},d}(g.Subscription),p=function(f){function d(w,F,C,M){var x,K=f.call(this)||this;K._parentSubscriber=w;var j=K;return(0,b.isFunction)(F)?x=F:F&&(x=F.next,C=F.error,M=F.complete,F!==m.empty&&(j=Object.create(F),(0,b.isFunction)(j.unsubscribe)&&K.add(j.unsubscribe.bind(j)),j.unsubscribe=K.unsubscribe.bind(K))),K._context=j,K._next=x,K._error=C,K._complete=M,K}return y.__extends(d,f),d.prototype.next=function(w){if(!this.isStopped&&this._next){var F=this._parentSubscriber;u.config.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?this.__tryOrSetError(F,this._next,w)&&this.unsubscribe():this.__tryOrUnsub(this._next,w)}},d.prototype.error=function(w){if(!this.isStopped){var F=this._parentSubscriber,C=u.config.useDeprecatedSynchronousErrorHandling;if(this._error)C&&F.syncErrorThrowable?(this.__tryOrSetError(F,this._error,w),this.unsubscribe()):(this.__tryOrUnsub(this._error,w),this.unsubscribe());else if(F.syncErrorThrowable)C?(F.syncErrorValue=w,F.syncErrorThrown=!0):(0,l.hostReportError)(w),this.unsubscribe();else{if(this.unsubscribe(),C)throw w;(0,l.hostReportError)(w)}}},d.prototype.complete=function(){var w=this;if(!this.isStopped){var F=this._parentSubscriber;if(this._complete){var C=function(){return w._complete.call(w._context)};u.config.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,C),this.unsubscribe()):(this.__tryOrUnsub(C),this.unsubscribe())}else this.unsubscribe()}},d.prototype.__tryOrUnsub=function(w,F){try{w.call(this._context,F)}catch(C){if(this.unsubscribe(),u.config.useDeprecatedSynchronousErrorHandling)throw C;(0,l.hostReportError)(C)}},d.prototype.__tryOrSetError=function(w,F,C){if(!u.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{F.call(this._context,C)}catch(M){return u.config.useDeprecatedSynchronousErrorHandling?(w.syncErrorValue=M,w.syncErrorThrown=!0,!0):((0,l.hostReportError)(M),!0)}return!1},d.prototype._unsubscribe=function(){var w=this._parentSubscriber;this._context=null,this._parentSubscriber=null,w.unsubscribe()},d}(c)},(O,B,s)=>{s.r(B),s.d(B,{__assign:()=>m,__asyncDelegator:()=>K,__asyncGenerator:()=>x,__asyncValues:()=>j,__await:()=>M,__awaiter:()=>c,__classPrivateFieldGet:()=>Y,__classPrivateFieldSet:()=>Q,__decorate:()=>n,__exportStar:()=>f,__extends:()=>b,__generator:()=>p,__importDefault:()=>X,__importStar:()=>G,__makeTemplateObject:()=>U,__metadata:()=>l,__param:()=>u,__read:()=>w,__rest:()=>g,__spread:()=>F,__spreadArrays:()=>C,__values:()=>d});var y=function(i,h){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])},y(i,h)};function b(i,h){function r(){this.constructor=i}y(i,h),i.prototype=h===null?Object.create(h):(r.prototype=h.prototype,new r)}var m=function(){return m=Object.assign||function(i){for(var h,r=1,e=arguments.length;r<e;r++)for(var t in h=arguments[r])Object.prototype.hasOwnProperty.call(h,t)&&(i[t]=h[t]);return i},m.apply(this,arguments)};function g(i,h){var r={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&h.indexOf(e)<0&&(r[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var t=0;for(e=Object.getOwnPropertySymbols(i);t<e.length;t++)h.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(i,e[t])&&(r[e[t]]=i[e[t]])}return r}function n(i,h,r,e){var t,o=arguments.length,a=o<3?h:e===null?e=Object.getOwnPropertyDescriptor(h,r):e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,h,r,e);else for(var v=i.length-1;v>=0;v--)(t=i[v])&&(a=(o<3?t(a):o>3?t(h,r,a):t(h,r))||a);return o>3&&a&&Object.defineProperty(h,r,a),a}function u(i,h){return function(r,e){h(r,e,i)}}function l(i,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,h)}function c(i,h,r,e){return new(r||(r=Promise))(function(t,o){function a(_){try{S(e.next(_))}catch(L){o(L)}}function v(_){try{S(e.throw(_))}catch(L){o(L)}}function S(_){var L;_.done?t(_.value):(L=_.value,L instanceof r?L:new r(function(R){R(L)})).then(a,v)}S((e=e.apply(i,h||[])).next())})}function p(i,h){var r,e,t,o,a={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return o={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function v(S){return function(_){return function(L){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,e&&(t=2&L[0]?e.return:L[0]?e.throw||((t=e.return)&&t.call(e),0):e.next)&&!(t=t.call(e,L[1])).done)return t;switch(e=0,t&&(L=[2&L[0],t.value]),L[0]){case 0:case 1:t=L;break;case 4:return a.label++,{value:L[1],done:!1};case 5:a.label++,e=L[1],L=[0];continue;case 7:L=a.ops.pop(),a.trys.pop();continue;default:if(!((t=(t=a.trys).length>0&&t[t.length-1])||L[0]!==6&&L[0]!==2)){a=0;continue}if(L[0]===3&&(!t||L[1]>t[0]&&L[1]<t[3])){a.label=L[1];break}if(L[0]===6&&a.label<t[1]){a.label=t[1],t=L;break}if(t&&a.label<t[2]){a.label=t[2],a.ops.push(L);break}t[2]&&a.ops.pop(),a.trys.pop();continue}L=h.call(i,a)}catch(R){L=[6,R],e=0}finally{r=t=0}if(5&L[0])throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}([S,_])}}}function f(i,h){for(var r in i)h.hasOwnProperty(r)||(h[r]=i[r])}function d(i){var h=typeof Symbol=="function"&&Symbol.iterator,r=h&&i[h],e=0;if(r)return r.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(i,h){var r=typeof Symbol=="function"&&i[Symbol.iterator];if(!r)return i;var e,t,o=r.call(i),a=[];try{for(;(h===void 0||h-- >0)&&!(e=o.next()).done;)a.push(e.value)}catch(v){t={error:v}}finally{try{e&&!e.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return a}function F(){for(var i=[],h=0;h<arguments.length;h++)i=i.concat(w(arguments[h]));return i}function C(){for(var i=0,h=0,r=arguments.length;h<r;h++)i+=arguments[h].length;var e=Array(i),t=0;for(h=0;h<r;h++)for(var o=arguments[h],a=0,v=o.length;a<v;a++,t++)e[t]=o[a];return e}function M(i){return this instanceof M?(this.v=i,this):new M(i)}function x(i,h,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=r.apply(i,h||[]),o=[];return e={},a("next"),a("throw"),a("return"),e[Symbol.asyncIterator]=function(){return this},e;function a(R){t[R]&&(e[R]=function(W){return new Promise(function(H,rt){o.push([R,W,H,rt])>1||v(R,W)})})}function v(R,W){try{(H=t[R](W)).value instanceof M?Promise.resolve(H.value.v).then(S,_):L(o[0][2],H)}catch(rt){L(o[0][3],rt)}var H}function S(R){v("next",R)}function _(R){v("throw",R)}function L(R,W){R(W),o.shift(),o.length&&v(o[0][0],o[0][1])}}function K(i){var h,r;return h={},e("next"),e("throw",function(t){throw t}),e("return"),h[Symbol.iterator]=function(){return this},h;function e(t,o){h[t]=i[t]?function(a){return(r=!r)?{value:M(i[t](a)),done:t==="return"}:o?o(a):a}:o}}function j(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h,r=i[Symbol.asyncIterator];return r?r.call(i):(i=d(i),h={},e("next"),e("throw"),e("return"),h[Symbol.asyncIterator]=function(){return this},h);function e(t){h[t]=i[t]&&function(o){return new Promise(function(a,v){(function(S,_,L,R){Promise.resolve(R).then(function(W){S({value:W,done:L})},_)})(a,v,(o=i[t](o)).done,o.value)})}}}function U(i,h){return Object.defineProperty?Object.defineProperty(i,"raw",{value:h}):i.raw=h,i}function G(i){if(i&&i.__esModule)return i;var h={};if(i!=null)for(var r in i)Object.hasOwnProperty.call(i,r)&&(h[r]=i[r]);return h.default=i,h}function X(i){return i&&i.__esModule?i:{default:i}}function Y(i,h){if(!h.has(i))throw new TypeError("attempted to get private field on non-instance");return h.get(i)}function Q(i,h,r){if(!h.has(i))throw new TypeError("attempted to set private field on non-instance");return h.set(i,r),r}},(O,B,s)=>{s.r(B),s.d(B,{empty:()=>m});var y=s(115),b=s(116),m={closed:!0,next:function(g){},error:function(g){if(y.config.useDeprecatedSynchronousErrorHandling)throw g;(0,b.hostReportError)(g)},complete:function(){}}},(O,B,s)=>{s.r(B),s.d(B,{config:()=>b});var y=!1,b={Promise:void 0,set useDeprecatedSynchronousErrorHandling(m){m&&new Error().stack,y=m},get useDeprecatedSynchronousErrorHandling(){return y}}},(O,B,s)=>{function y(b){setTimeout(function(){throw b},0)}s.r(B),s.d(B,{hostReportError:()=>y})},(O,B,s)=>{s.r(B),s.d(B,{$$rxSubscriber:()=>b,rxSubscriber:()=>y});var y=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),b=y},(O,B,s)=>{s.r(B),s.d(B,{Subscription:()=>n});var y=s(121),b=s(122),m=s(119),g=s(120),n=function(){function l(p){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,p&&(this._ctorUnsubscribe=!0,this._unsubscribe=p)}var c;return l.prototype.unsubscribe=function(){var p;if(!this.closed){var f=this,d=f._parentOrParents,w=f._ctorUnsubscribe,F=f._unsubscribe,C=f._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,d instanceof l)d.remove(this);else if(d!==null)for(var M=0;M<d.length;++M)d[M].remove(this);if((0,m.isFunction)(F)){w&&(this._unsubscribe=void 0);try{F.call(this)}catch(j){p=j instanceof g.UnsubscriptionError?u(j.errors):[j]}}if((0,y.isArray)(C)){M=-1;for(var x=C.length;++M<x;){var K=C[M];if((0,b.isObject)(K))try{K.unsubscribe()}catch(j){p=p||[],j instanceof g.UnsubscriptionError?p=p.concat(u(j.errors)):p.push(j)}}}if(p)throw new g.UnsubscriptionError(p)}},l.prototype.add=function(p){var f=p;if(!p)return l.EMPTY;switch(typeof p){case"function":f=new l(p);case"object":if(f===this||f.closed||typeof f.unsubscribe!="function")return f;if(this.closed)return f.unsubscribe(),f;if(!(f instanceof l)){var d=f;(f=new l)._subscriptions=[d]}break;default:throw new Error("unrecognized teardown "+p+" added to Subscription.")}var w=f._parentOrParents;if(w===null)f._parentOrParents=this;else if(w instanceof l){if(w===this)return f;f._parentOrParents=[w,this]}else{if(w.indexOf(this)!==-1)return f;w.push(this)}var F=this._subscriptions;return F===null?this._subscriptions=[f]:F.push(f),f},l.prototype.remove=function(p){var f=this._subscriptions;if(f){var d=f.indexOf(p);d!==-1&&f.splice(d,1)}},l.EMPTY=((c=new l).closed=!0,c),l}();function u(l){return l.reduce(function(c,p){return c.concat(p instanceof g.UnsubscriptionError?p.errors:p)},[])}},(O,B,s)=>{function y(b){return typeof b=="function"}s.r(B),s.d(B,{isFunction:()=>y})},(O,B,s)=>{s.r(B),s.d(B,{UnsubscriptionError:()=>y});var y=function(){function b(m){return Error.call(this),this.message=m?m.length+` errors occurred during unsubscription:
`+m.map(function(g,n){return n+1+") "+g.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=m,this}return b.prototype=Object.create(Error.prototype),b}()},(O,B,s)=>{s.r(B),s.d(B,{isArray:()=>y});var y=function(){return Array.isArray||function(b){return b&&typeof b.length=="number"}}()},(O,B,s)=>{function y(b){return b!==null&&typeof b=="object"}s.r(B),s.d(B,{isObject:()=>y})},(O,B,s)=>{s.r(B),s.d(B,{canReportError:()=>b});var y=s(112);function b(m){for(;m;){var g=m,n=g.closed,u=g.destination,l=g.isStopped;if(n||l)return!1;m=u&&u instanceof y.Subscriber?u:null}return!0}},(O,B,s)=>{s.r(B),s.d(B,{observable:()=>y});var y=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()},(O,B,s)=>{s.r(B),s.d(B,{pipe:()=>b,pipeFromArray:()=>m});var y=s(126);function b(){for(var g=[],n=0;n<arguments.length;n++)g[n]=arguments[n];return m(g)}function m(g){return g.length===0?y.identity:g.length===1?g[0]:function(n){return g.reduce(function(u,l){return l(u)},n)}}},(O,B,s)=>{function y(b){return b}s.r(B),s.d(B,{identity:()=>y})},(O,B,s)=>{s.r(B),s.d(B,{ConnectableObservable:()=>l,connectableObservableDescriptor:()=>c});var y=s(113),b=s(129),m=s(110),g=s(112),n=s(118),u=s(128),l=function(f){function d(w,F){var C=f.call(this)||this;return C.source=w,C.subjectFactory=F,C._refCount=0,C._isComplete=!1,C}return y.__extends(d,f),d.prototype._subscribe=function(w){return this.getSubject().subscribe(w)},d.prototype.getSubject=function(){var w=this._subject;return w&&!w.isStopped||(this._subject=this.subjectFactory()),this._subject},d.prototype.connect=function(){var w=this._connection;return w||(this._isComplete=!1,(w=this._connection=new n.Subscription).add(this.source.subscribe(new p(this.getSubject(),this))),w.closed&&(this._connection=null,w=n.Subscription.EMPTY)),w},d.prototype.refCount=function(){return(0,u.refCount)()(this)},d}(m.Observable),c=function(){var f=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:f._subscribe},_isComplete:{value:f._isComplete,writable:!0},getSubject:{value:f.getSubject},connect:{value:f.connect},refCount:{value:f.refCount}}}(),p=function(f){function d(w,F){var C=f.call(this,w)||this;return C.connectable=F,C}return y.__extends(d,f),d.prototype._error=function(w){this._unsubscribe(),f.prototype._error.call(this,w)},d.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),f.prototype._complete.call(this)},d.prototype._unsubscribe=function(){var w=this.connectable;if(w){this.connectable=null;var F=w._connection;w._refCount=0,w._subject=null,w._connection=null,F&&F.unsubscribe()}},d}(b.SubjectSubscriber);g.Subscriber},(O,B,s)=>{s.r(B),s.d(B,{refCount:()=>m});var y=s(113),b=s(112);function m(){return function(u){return u.lift(new g(u))}}var g=function(){function u(l){this.connectable=l}return u.prototype.call=function(l,c){var p=this.connectable;p._refCount++;var f=new n(l,p),d=c.subscribe(f);return f.closed||(f.connection=p.connect()),d},u}(),n=function(u){function l(c,p){var f=u.call(this,c)||this;return f.connectable=p,f}return y.__extends(l,u),l.prototype._unsubscribe=function(){var c=this.connectable;if(c){this.connectable=null;var p=c._refCount;if(p<=0)this.connection=null;else if(c._refCount=p-1,p>1)this.connection=null;else{var f=this.connection,d=c._connection;this.connection=null,!d||f&&d!==f||d.unsubscribe()}}else this.connection=null},l}(b.Subscriber)},(O,B,s)=>{s.r(B),s.d(B,{AnonymousSubject:()=>f,Subject:()=>p,SubjectSubscriber:()=>c});var y=s(113),b=s(110),m=s(112),g=s(118),n=s(130),u=s(131),l=s(117),c=function(d){function w(F){var C=d.call(this,F)||this;return C.destination=F,C}return y.__extends(w,d),w}(m.Subscriber),p=function(d){function w(){var F=d.call(this)||this;return F.observers=[],F.closed=!1,F.isStopped=!1,F.hasError=!1,F.thrownError=null,F}return y.__extends(w,d),w.prototype[l.rxSubscriber]=function(){return new c(this)},w.prototype.lift=function(F){var C=new f(this,this);return C.operator=F,C},w.prototype.next=function(F){if(this.closed)throw new n.ObjectUnsubscribedError;if(!this.isStopped)for(var C=this.observers,M=C.length,x=C.slice(),K=0;K<M;K++)x[K].next(F)},w.prototype.error=function(F){if(this.closed)throw new n.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=F,this.isStopped=!0;for(var C=this.observers,M=C.length,x=C.slice(),K=0;K<M;K++)x[K].error(F);this.observers.length=0},w.prototype.complete=function(){if(this.closed)throw new n.ObjectUnsubscribedError;this.isStopped=!0;for(var F=this.observers,C=F.length,M=F.slice(),x=0;x<C;x++)M[x].complete();this.observers.length=0},w.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},w.prototype._trySubscribe=function(F){if(this.closed)throw new n.ObjectUnsubscribedError;return d.prototype._trySubscribe.call(this,F)},w.prototype._subscribe=function(F){if(this.closed)throw new n.ObjectUnsubscribedError;return this.hasError?(F.error(this.thrownError),g.Subscription.EMPTY):this.isStopped?(F.complete(),g.Subscription.EMPTY):(this.observers.push(F),new u.SubjectSubscription(this,F))},w.prototype.asObservable=function(){var F=new b.Observable;return F.source=this,F},w.create=function(F,C){return new f(F,C)},w}(b.Observable),f=function(d){function w(F,C){var M=d.call(this)||this;return M.destination=F,M.source=C,M}return y.__extends(w,d),w.prototype.next=function(F){var C=this.destination;C&&C.next&&C.next(F)},w.prototype.error=function(F){var C=this.destination;C&&C.error&&this.destination.error(F)},w.prototype.complete=function(){var F=this.destination;F&&F.complete&&this.destination.complete()},w.prototype._subscribe=function(F){return this.source?this.source.subscribe(F):g.Subscription.EMPTY},w}(p)},(O,B,s)=>{s.r(B),s.d(B,{ObjectUnsubscribedError:()=>y});var y=function(){function b(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return b.prototype=Object.create(Error.prototype),b}()},(O,B,s)=>{s.r(B),s.d(B,{SubjectSubscription:()=>b});var y=s(113),b=function(m){function g(n,u){var l=m.call(this)||this;return l.subject=n,l.subscriber=u,l.closed=!1,l}return y.__extends(g,m),g.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,u=n.observers;if(this.subject=null,u&&u.length!==0&&!n.isStopped&&!n.closed){var l=u.indexOf(this.subscriber);l!==-1&&u.splice(l,1)}}},g}(s(118).Subscription)},(O,B,s)=>{s.r(B),s.d(B,{GroupedObservable:()=>f,groupBy:()=>u});var y=s(113),b=s(112),m=s(118),g=s(110),n=s(129);function u(w,F,C,M){return function(x){return x.lift(new l(w,F,C,M))}}var l=function(){function w(F,C,M,x){this.keySelector=F,this.elementSelector=C,this.durationSelector=M,this.subjectSelector=x}return w.prototype.call=function(F,C){return C.subscribe(new c(F,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},w}(),c=function(w){function F(C,M,x,K,j){var U=w.call(this,C)||this;return U.keySelector=M,U.elementSelector=x,U.durationSelector=K,U.subjectSelector=j,U.groups=null,U.attemptedToUnsubscribe=!1,U.count=0,U}return y.__extends(F,w),F.prototype._next=function(C){var M;try{M=this.keySelector(C)}catch(x){return void this.error(x)}this._group(C,M)},F.prototype._group=function(C,M){var x=this.groups;x||(x=this.groups=new Map);var K,j=x.get(M);if(this.elementSelector)try{K=this.elementSelector(C)}catch(X){this.error(X)}else K=C;if(!j){j=this.subjectSelector?this.subjectSelector():new n.Subject,x.set(M,j);var U=new f(M,j,this);if(this.destination.next(U),this.durationSelector){var G=void 0;try{G=this.durationSelector(new f(M,j))}catch(X){return void this.error(X)}this.add(G.subscribe(new p(M,j,this)))}}j.closed||j.next(K)},F.prototype._error=function(C){var M=this.groups;M&&(M.forEach(function(x,K){x.error(C)}),M.clear()),this.destination.error(C)},F.prototype._complete=function(){var C=this.groups;C&&(C.forEach(function(M,x){M.complete()}),C.clear()),this.destination.complete()},F.prototype.removeGroup=function(C){this.groups.delete(C)},F.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&w.prototype.unsubscribe.call(this))},F}(b.Subscriber),p=function(w){function F(C,M,x){var K=w.call(this,M)||this;return K.key=C,K.group=M,K.parent=x,K}return y.__extends(F,w),F.prototype._next=function(C){this.complete()},F.prototype._unsubscribe=function(){var C=this.parent,M=this.key;this.key=this.parent=null,C&&C.removeGroup(M)},F}(b.Subscriber),f=function(w){function F(C,M,x){var K=w.call(this)||this;return K.key=C,K.groupSubject=M,K.refCountSubscription=x,K}return y.__extends(F,w),F.prototype._subscribe=function(C){var M=new m.Subscription,x=this.refCountSubscription,K=this.groupSubject;return x&&!x.closed&&M.add(new d(x)),M.add(K.subscribe(C)),M},F}(g.Observable),d=function(w){function F(C){var M=w.call(this)||this;return M.parent=C,C.count++,M}return y.__extends(F,w),F.prototype.unsubscribe=function(){var C=this.parent;C.closed||this.closed||(w.prototype.unsubscribe.call(this),C.count-=1,C.count===0&&C.attemptedToUnsubscribe&&C.unsubscribe())},F}(m.Subscription)},(O,B,s)=>{s.r(B),s.d(B,{BehaviorSubject:()=>g});var y=s(113),b=s(129),m=s(130),g=function(n){function u(l){var c=n.call(this)||this;return c._value=l,c}return y.__extends(u,n),Object.defineProperty(u.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),u.prototype._subscribe=function(l){var c=n.prototype._subscribe.call(this,l);return c&&!c.closed&&l.next(this._value),c},u.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new m.ObjectUnsubscribedError;return this._value},u.prototype.next=function(l){n.prototype.next.call(this,this._value=l)},u}(b.Subject)},(O,B,s)=>{s.r(B),s.d(B,{ReplaySubject:()=>c});var y=s(113),b=s(129),m=s(144),g=s(118),n=s(135),u=s(130),l=s(131),c=function(f){function d(w,F,C){w===void 0&&(w=Number.POSITIVE_INFINITY),F===void 0&&(F=Number.POSITIVE_INFINITY);var M=f.call(this)||this;return M.scheduler=C,M._events=[],M._infiniteTimeWindow=!1,M._bufferSize=w<1?1:w,M._windowTime=F<1?1:F,F===Number.POSITIVE_INFINITY?(M._infiniteTimeWindow=!0,M.next=M.nextInfiniteTimeWindow):M.next=M.nextTimeWindow,M}return y.__extends(d,f),d.prototype.nextInfiniteTimeWindow=function(w){if(!this.isStopped){var F=this._events;F.push(w),F.length>this._bufferSize&&F.shift()}f.prototype.next.call(this,w)},d.prototype.nextTimeWindow=function(w){this.isStopped||(this._events.push(new p(this._getNow(),w)),this._trimBufferThenGetEvents()),f.prototype.next.call(this,w)},d.prototype._subscribe=function(w){var F,C=this._infiniteTimeWindow,M=C?this._events:this._trimBufferThenGetEvents(),x=this.scheduler,K=M.length;if(this.closed)throw new u.ObjectUnsubscribedError;if(this.isStopped||this.hasError?F=g.Subscription.EMPTY:(this.observers.push(w),F=new l.SubjectSubscription(this,w)),x&&w.add(w=new n.ObserveOnSubscriber(w,x)),C)for(var j=0;j<K&&!w.closed;j++)w.next(M[j]);else for(j=0;j<K&&!w.closed;j++)w.next(M[j].value);return this.hasError?w.error(this.thrownError):this.isStopped&&w.complete(),F},d.prototype._getNow=function(){return(this.scheduler||m.queue).now()},d.prototype._trimBufferThenGetEvents=function(){for(var w=this._getNow(),F=this._bufferSize,C=this._windowTime,M=this._events,x=M.length,K=0;K<x&&!(w-M[K].time<C);)K++;return x>F&&(K=Math.max(K,x-F)),K>0&&M.splice(0,K),M},d}(b.Subject),p=function(){return function(f,d){this.time=f,this.value=d}}()},(O,B,s)=>{s.r(B),s.d(B,{ObserveOnMessage:()=>l,ObserveOnOperator:()=>n,ObserveOnSubscriber:()=>u,observeOn:()=>g});var y=s(113),b=s(112),m=s(136);function g(c,p){return p===void 0&&(p=0),function(f){return f.lift(new n(c,p))}}var n=function(){function c(p,f){f===void 0&&(f=0),this.scheduler=p,this.delay=f}return c.prototype.call=function(p,f){return f.subscribe(new u(p,this.scheduler,this.delay))},c}(),u=function(c){function p(f,d,w){w===void 0&&(w=0);var F=c.call(this,f)||this;return F.scheduler=d,F.delay=w,F}return y.__extends(p,c),p.dispatch=function(f){var d=f.notification,w=f.destination;d.observe(w),this.unsubscribe()},p.prototype.scheduleMessage=function(f){this.destination.add(this.scheduler.schedule(p.dispatch,this.delay,new l(f,this.destination)))},p.prototype._next=function(f){this.scheduleMessage(m.Notification.createNext(f))},p.prototype._error=function(f){this.scheduleMessage(m.Notification.createError(f)),this.unsubscribe()},p.prototype._complete=function(){this.scheduleMessage(m.Notification.createComplete()),this.unsubscribe()},p}(b.Subscriber),l=function(){return function(c,p){this.notification=c,this.destination=p}}()},(O,B,s)=>{s.r(B),s.d(B,{Notification:()=>n,NotificationKind:()=>y});var y,b=s(143),m=s(137),g=s(142);y||(y={});var n=function(){function u(l,c,p){this.kind=l,this.value=c,this.error=p,this.hasValue=l==="N"}return u.prototype.observe=function(l){switch(this.kind){case"N":return l.next&&l.next(this.value);case"E":return l.error&&l.error(this.error);case"C":return l.complete&&l.complete()}},u.prototype.do=function(l,c,p){switch(this.kind){case"N":return l&&l(this.value);case"E":return c&&c(this.error);case"C":return p&&p()}},u.prototype.accept=function(l,c,p){return l&&typeof l.next=="function"?this.observe(l):this.do(l,c,p)},u.prototype.toObservable=function(){switch(this.kind){case"N":return(0,m.of)(this.value);case"E":return(0,g.throwError)(this.error);case"C":return(0,b.empty)()}throw new Error("unexpected notification kind value")},u.createNext=function(l){return l!==void 0?new u("N",l):u.undefinedValueNotification},u.createError=function(l){return new u("E",void 0,l)},u.createComplete=function(){return u.completeNotification},u.completeNotification=new u("C"),u.undefinedValueNotification=new u("N",void 0),u}()},(O,B,s)=>{s.r(B),s.d(B,{of:()=>g});var y=s(138),b=s(140),m=s(139);function g(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];var l=n[n.length-1];return(0,y.isScheduler)(l)?(n.pop(),(0,m.scheduleArray)(n,l)):(0,b.fromArray)(n)}},(O,B,s)=>{function y(b){return b&&typeof b.schedule=="function"}s.r(B),s.d(B,{isScheduler:()=>y})},(O,B,s)=>{s.r(B),s.d(B,{scheduleArray:()=>m});var y=s(110),b=s(118);function m(g,n){return new y.Observable(function(u){var l=new b.Subscription,c=0;return l.add(n.schedule(function(){c!==g.length?(u.next(g[c++]),u.closed||l.add(this.schedule())):u.complete()})),l})}},(O,B,s)=>{s.r(B),s.d(B,{fromArray:()=>g});var y=s(110),b=s(141),m=s(139);function g(n,u){return u?(0,m.scheduleArray)(n,u):new y.Observable((0,b.subscribeToArray)(n))}},(O,B,s)=>{s.r(B),s.d(B,{subscribeToArray:()=>y});var y=function(b){return function(m){for(var g=0,n=b.length;g<n&&!m.closed;g++)m.next(b[g]);m.complete()}}},(O,B,s)=>{s.r(B),s.d(B,{throwError:()=>b});var y=s(110);function b(g,n){return n?new y.Observable(function(u){return n.schedule(m,0,{error:g,subscriber:u})}):new y.Observable(function(u){return u.error(g)})}function m(g){var n=g.error;g.subscriber.error(n)}},(O,B,s)=>{s.r(B),s.d(B,{EMPTY:()=>b,empty:()=>m});var y=s(110),b=new y.Observable(function(g){return g.complete()});function m(g){return g?function(n){return new y.Observable(function(u){return n.schedule(function(){return u.complete()})})}(g):b}},(O,B,s)=>{s.r(B),s.d(B,{queue:()=>m,queueScheduler:()=>b});var y=s(148),b=new(s(145)).QueueScheduler(y.QueueAction),m=b},(O,B,s)=>{s.r(B),s.d(B,{QueueScheduler:()=>b});var y=s(113),b=function(m){function g(){return m!==null&&m.apply(this,arguments)||this}return y.__extends(g,m),g}(s(146).AsyncScheduler)},(O,B,s)=>{s.r(B),s.d(B,{AsyncScheduler:()=>m});var y=s(113),b=s(147),m=function(g){function n(u,l){l===void 0&&(l=b.Scheduler.now);var c=g.call(this,u,function(){return n.delegate&&n.delegate!==c?n.delegate.now():l()})||this;return c.actions=[],c.active=!1,c.scheduled=void 0,c}return y.__extends(n,g),n.prototype.schedule=function(u,l,c){return l===void 0&&(l=0),n.delegate&&n.delegate!==this?n.delegate.schedule(u,l,c):g.prototype.schedule.call(this,u,l,c)},n.prototype.flush=function(u){var l=this.actions;if(this.active)l.push(u);else{var c;this.active=!0;do if(c=u.execute(u.state,u.delay))break;while(u=l.shift());if(this.active=!1,c){for(;u=l.shift();)u.unsubscribe();throw c}}},n}(b.Scheduler)},(O,B,s)=>{s.r(B),s.d(B,{Scheduler:()=>y});var y=function(){function b(m,g){g===void 0&&(g=b.now),this.SchedulerAction=m,this.now=g}return b.prototype.schedule=function(m,g,n){return g===void 0&&(g=0),new this.SchedulerAction(this,m).schedule(n,g)},b.now=function(){return Date.now()},b}()},(O,B,s)=>{s.r(B),s.d(B,{QueueAction:()=>b});var y=s(113),b=function(m){function g(n,u){var l=m.call(this,n,u)||this;return l.scheduler=n,l.work=u,l}return y.__extends(g,m),g.prototype.schedule=function(n,u){return u===void 0&&(u=0),u>0?m.prototype.schedule.call(this,n,u):(this.delay=u,this.state=n,this.scheduler.flush(this),this)},g.prototype.execute=function(n,u){return u>0||this.closed?m.prototype.execute.call(this,n,u):this._execute(n,u)},g.prototype.requestAsyncId=function(n,u,l){return l===void 0&&(l=0),l!==null&&l>0||l===null&&this.delay>0?m.prototype.requestAsyncId.call(this,n,u,l):n.flush(this)},g}(s(149).AsyncAction)},(O,B,s)=>{s.r(B),s.d(B,{AsyncAction:()=>b});var y=s(113),b=function(m){function g(n,u){var l=m.call(this,n,u)||this;return l.scheduler=n,l.work=u,l.pending=!1,l}return y.__extends(g,m),g.prototype.schedule=function(n,u){if(u===void 0&&(u=0),this.closed)return this;this.state=n;var l=this.id,c=this.scheduler;return l!=null&&(this.id=this.recycleAsyncId(c,l,u)),this.pending=!0,this.delay=u,this.id=this.id||this.requestAsyncId(c,this.id,u),this},g.prototype.requestAsyncId=function(n,u,l){return l===void 0&&(l=0),setInterval(n.flush.bind(n,this),l)},g.prototype.recycleAsyncId=function(n,u,l){if(l===void 0&&(l=0),l!==null&&this.delay===l&&this.pending===!1)return u;clearInterval(u)},g.prototype.execute=function(n,u){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var l=this._execute(n,u);if(l)return l;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},g.prototype._execute=function(n,u){var l=!1,c=void 0;try{this.work(n)}catch(p){l=!0,c=!!p&&p||new Error(p)}if(l)return this.unsubscribe(),c},g.prototype._unsubscribe=function(){var n=this.id,u=this.scheduler,l=u.actions,c=l.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,c!==-1&&l.splice(c,1),n!=null&&(this.id=this.recycleAsyncId(u,n,null)),this.delay=null},g}(s(150).Action)},(O,B,s)=>{s.r(B),s.d(B,{Action:()=>b});var y=s(113),b=function(m){function g(n,u){return m.call(this)||this}return y.__extends(g,m),g.prototype.schedule=function(n,u){return this},g}(s(118).Subscription)},(O,B,s)=>{s.r(B),s.d(B,{AsyncSubject:()=>g});var y=s(113),b=s(129),m=s(118),g=function(n){function u(){var l=n!==null&&n.apply(this,arguments)||this;return l.value=null,l.hasNext=!1,l.hasCompleted=!1,l}return y.__extends(u,n),u.prototype._subscribe=function(l){return this.hasError?(l.error(this.thrownError),m.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(l.next(this.value),l.complete(),m.Subscription.EMPTY):n.prototype._subscribe.call(this,l)},u.prototype.next=function(l){this.hasCompleted||(this.value=l,this.hasNext=!0)},u.prototype.error=function(l){this.hasCompleted||n.prototype.error.call(this,l)},u.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&n.prototype.next.call(this,this.value),n.prototype.complete.call(this)},u}(b.Subject)},(O,B,s)=>{s.r(B),s.d(B,{asap:()=>m,asapScheduler:()=>b});var y=s(154),b=new(s(153)).AsapScheduler(y.AsapAction),m=b},(O,B,s)=>{s.r(B),s.d(B,{AsapScheduler:()=>b});var y=s(113),b=function(m){function g(){return m!==null&&m.apply(this,arguments)||this}return y.__extends(g,m),g.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var u,l=this.actions,c=-1,p=l.length;n=n||l.shift();do if(u=n.execute(n.state,n.delay))break;while(++c<p&&(n=l.shift()));if(this.active=!1,u){for(;++c<p&&(n=l.shift());)n.unsubscribe();throw u}},g}(s(146).AsyncScheduler)},(O,B,s)=>{s.r(B),s.d(B,{AsapAction:()=>m});var y=s(113),b=s(155),m=function(g){function n(u,l){var c=g.call(this,u,l)||this;return c.scheduler=u,c.work=l,c}return y.__extends(n,g),n.prototype.requestAsyncId=function(u,l,c){return c===void 0&&(c=0),c!==null&&c>0?g.prototype.requestAsyncId.call(this,u,l,c):(u.actions.push(this),u.scheduled||(u.scheduled=b.Immediate.setImmediate(u.flush.bind(u,null))))},n.prototype.recycleAsyncId=function(u,l,c){if(c===void 0&&(c=0),c!==null&&c>0||c===null&&this.delay>0)return g.prototype.recycleAsyncId.call(this,u,l,c);u.actions.length===0&&(b.Immediate.clearImmediate(l),u.scheduled=void 0)},n}(s(149).AsyncAction)},(O,B,s)=>{s.r(B),s.d(B,{Immediate:()=>n,TestTools:()=>u});var y=1,b=function(){return Promise.resolve()}(),m={};function g(l){return l in m&&(delete m[l],!0)}var n={setImmediate:function(l){var c=y++;return m[c]=!0,b.then(function(){return g(c)&&l()}),c},clearImmediate:function(l){g(l)}},u={pending:function(){return Object.keys(m).length}}},(O,B,s)=>{s.r(B),s.d(B,{async:()=>m,asyncScheduler:()=>b});var y=s(149),b=new(s(146)).AsyncScheduler(y.AsyncAction),m=b},(O,B,s)=>{s.r(B),s.d(B,{animationFrame:()=>m,animationFrameScheduler:()=>b});var y=s(159),b=new(s(158)).AnimationFrameScheduler(y.AnimationFrameAction),m=b},(O,B,s)=>{s.r(B),s.d(B,{AnimationFrameScheduler:()=>b});var y=s(113),b=function(m){function g(){return m!==null&&m.apply(this,arguments)||this}return y.__extends(g,m),g.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var u,l=this.actions,c=-1,p=l.length;n=n||l.shift();do if(u=n.execute(n.state,n.delay))break;while(++c<p&&(n=l.shift()));if(this.active=!1,u){for(;++c<p&&(n=l.shift());)n.unsubscribe();throw u}},g}(s(146).AsyncScheduler)},(O,B,s)=>{s.r(B),s.d(B,{AnimationFrameAction:()=>b});var y=s(113),b=function(m){function g(n,u){var l=m.call(this,n,u)||this;return l.scheduler=n,l.work=u,l}return y.__extends(g,m),g.prototype.requestAsyncId=function(n,u,l){return l===void 0&&(l=0),l!==null&&l>0?m.prototype.requestAsyncId.call(this,n,u,l):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(function(){return n.flush(null)})))},g.prototype.recycleAsyncId=function(n,u,l){if(l===void 0&&(l=0),l!==null&&l>0||l===null&&this.delay>0)return m.prototype.recycleAsyncId.call(this,n,u,l);n.actions.length===0&&(cancelAnimationFrame(u),n.scheduled=void 0)},g}(s(149).AsyncAction)},(O,B,s)=>{s.r(B),s.d(B,{VirtualAction:()=>g,VirtualTimeScheduler:()=>m});var y=s(113),b=s(149),m=function(n){function u(l,c){l===void 0&&(l=g),c===void 0&&(c=Number.POSITIVE_INFINITY);var p=n.call(this,l,function(){return p.frame})||this;return p.maxFrames=c,p.frame=0,p.index=-1,p}return y.__extends(u,n),u.prototype.flush=function(){for(var l,c,p=this.actions,f=this.maxFrames;(c=p[0])&&c.delay<=f&&(p.shift(),this.frame=c.delay,!(l=c.execute(c.state,c.delay))););if(l){for(;c=p.shift();)c.unsubscribe();throw l}},u.frameTimeFactor=10,u}(s(146).AsyncScheduler),g=function(n){function u(l,c,p){p===void 0&&(p=l.index+=1);var f=n.call(this,l,c)||this;return f.scheduler=l,f.work=c,f.index=p,f.active=!0,f.index=l.index=p,f}return y.__extends(u,n),u.prototype.schedule=function(l,c){if(c===void 0&&(c=0),!this.id)return n.prototype.schedule.call(this,l,c);this.active=!1;var p=new u(this.scheduler,this.work);return this.add(p),p.schedule(l,c)},u.prototype.requestAsyncId=function(l,c,p){p===void 0&&(p=0),this.delay=l.frame+p;var f=l.actions;return f.push(this),f.sort(u.sortActions),!0},u.prototype.recycleAsyncId=function(l,c,p){},u.prototype._execute=function(l,c){if(this.active===!0)return n.prototype._execute.call(this,l,c)},u.sortActions=function(l,c){return l.delay===c.delay?l.index===c.index?0:l.index>c.index?1:-1:l.delay>c.delay?1:-1},u}(b.AsyncAction)},(O,B,s)=>{function y(){}s.r(B),s.d(B,{noop:()=>y})},(O,B,s)=>{s.r(B),s.d(B,{isObservable:()=>b});var y=s(110);function b(m){return!!m&&(m instanceof y.Observable||typeof m.lift=="function"&&typeof m.subscribe=="function")}},(O,B,s)=>{s.r(B),s.d(B,{ArgumentOutOfRangeError:()=>y});var y=function(){function b(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return b.prototype=Object.create(Error.prototype),b}()},(O,B,s)=>{s.r(B),s.d(B,{EmptyError:()=>y});var y=function(){function b(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return b.prototype=Object.create(Error.prototype),b}()},(O,B,s)=>{s.r(B),s.d(B,{TimeoutError:()=>y});var y=function(){function b(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return b.prototype=Object.create(Error.prototype),b}()},(O,B,s)=>{s.r(B),s.d(B,{bindCallback:()=>l});var y=s(110),b=s(151),m=s(167),g=s(123),n=s(121),u=s(138);function l(f,d,w){if(d){if(!(0,u.isScheduler)(d))return function(){for(var F=[],C=0;C<arguments.length;C++)F[C]=arguments[C];return l(f,w).apply(void 0,F).pipe((0,m.map)(function(M){return(0,n.isArray)(M)?d.apply(void 0,M):d(M)}))};w=d}return function(){for(var F=[],C=0;C<arguments.length;C++)F[C]=arguments[C];var M,x=this,K={context:x,subject:M,callbackFunc:f,scheduler:w};return new y.Observable(function(j){if(w){var U={args:F,subscriber:j,params:K};return w.schedule(c,0,U)}if(!M){M=new b.AsyncSubject;try{f.apply(x,F.concat([function(){for(var G=[],X=0;X<arguments.length;X++)G[X]=arguments[X];M.next(G.length<=1?G[0]:G),M.complete()}]))}catch(G){(0,g.canReportError)(M)?M.error(G):console.warn(G)}}return M.subscribe(j)})}}function c(f){var d=this,w=f.args,F=f.subscriber,C=f.params,M=C.callbackFunc,x=C.context,K=C.scheduler,j=C.subject;if(!j){j=C.subject=new b.AsyncSubject;try{M.apply(x,w.concat([function(){for(var U=[],G=0;G<arguments.length;G++)U[G]=arguments[G];var X=U.length<=1?U[0]:U;d.add(K.schedule(p,0,{value:X,subject:j}))}]))}catch(U){j.error(U)}}this.add(j.subscribe(F))}function p(f){var d=f.value,w=f.subject;w.next(d),w.complete()}},(O,B,s)=>{s.r(B),s.d(B,{MapOperator:()=>g,map:()=>m});var y=s(113),b=s(112);function m(u,l){return function(c){if(typeof u!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.lift(new g(u,l))}}var g=function(){function u(l,c){this.project=l,this.thisArg=c}return u.prototype.call=function(l,c){return c.subscribe(new n(l,this.project,this.thisArg))},u}(),n=function(u){function l(c,p,f){var d=u.call(this,c)||this;return d.project=p,d.count=0,d.thisArg=f||d,d}return y.__extends(l,u),l.prototype._next=function(c){var p;try{p=this.project.call(this.thisArg,c,this.count++)}catch(f){return void this.destination.error(f)}this.destination.next(p)},l}(b.Subscriber)},(O,B,s)=>{s.r(B),s.d(B,{bindNodeCallback:()=>l});var y=s(110),b=s(151),m=s(167),g=s(123),n=s(138),u=s(121);function l(d,w,F){if(w){if(!(0,n.isScheduler)(w))return function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];return l(d,F).apply(void 0,C).pipe((0,m.map)(function(x){return(0,u.isArray)(x)?w.apply(void 0,x):w(x)}))};F=w}return function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];var x={subject:void 0,args:C,callbackFunc:d,scheduler:F,context:this};return new y.Observable(function(K){var j=x.context,U=x.subject;if(F)return F.schedule(c,0,{params:x,subscriber:K,context:j});if(!U){U=x.subject=new b.AsyncSubject;try{d.apply(j,C.concat([function(){for(var G=[],X=0;X<arguments.length;X++)G[X]=arguments[X];var Y=G.shift();Y?U.error(Y):(U.next(G.length<=1?G[0]:G),U.complete())}]))}catch(G){(0,g.canReportError)(U)?U.error(G):console.warn(G)}}return U.subscribe(K)})}}function c(d){var w=this,F=d.params,C=d.subscriber,M=d.context,x=F.callbackFunc,K=F.args,j=F.scheduler,U=F.subject;if(!U){U=F.subject=new b.AsyncSubject;try{x.apply(M,K.concat([function(){for(var G=[],X=0;X<arguments.length;X++)G[X]=arguments[X];var Y=G.shift();if(Y)w.add(j.schedule(f,0,{err:Y,subject:U}));else{var Q=G.length<=1?G[0]:G;w.add(j.schedule(p,0,{value:Q,subject:U}))}}]))}catch(G){this.add(j.schedule(f,0,{err:G,subject:U}))}}this.add(U.subscribe(C))}function p(d){var w=d.value,F=d.subject;F.next(w),F.complete()}function f(d){var w=d.err;d.subject.error(w)}},(O,B,s)=>{s.r(B),s.d(B,{CombineLatestOperator:()=>p,CombineLatestSubscriber:()=>f,combineLatest:()=>c});var y=s(113),b=s(138),m=s(121),g=s(179),n=s(170),u=s(140),l={};function c(){for(var d=[],w=0;w<arguments.length;w++)d[w]=arguments[w];var F=void 0,C=void 0;return(0,b.isScheduler)(d[d.length-1])&&(C=d.pop()),typeof d[d.length-1]=="function"&&(F=d.pop()),d.length===1&&(0,m.isArray)(d[0])&&(d=d[0]),(0,u.fromArray)(d,C).lift(new p(F))}var p=function(){function d(w){this.resultSelector=w}return d.prototype.call=function(w,F){return F.subscribe(new f(w,this.resultSelector))},d}(),f=function(d){function w(F,C){var M=d.call(this,F)||this;return M.resultSelector=C,M.active=0,M.values=[],M.observables=[],M}return y.__extends(w,d),w.prototype._next=function(F){this.values.push(l),this.observables.push(F)},w.prototype._complete=function(){var F=this.observables,C=F.length;if(C===0)this.destination.complete();else{this.active=C,this.toRespond=C;for(var M=0;M<C;M++){var x=F[M];this.add((0,n.subscribeToResult)(this,x,void 0,M))}}},w.prototype.notifyComplete=function(F){(this.active-=1)==0&&this.destination.complete()},w.prototype.notifyNext=function(F,C,M){var x=this.values,K=x[M],j=this.toRespond?K===l?--this.toRespond:this.toRespond:0;x[M]=C,j===0&&(this.resultSelector?this._tryResultSelector(x):this.destination.next(x.slice()))},w.prototype._tryResultSelector=function(F){var C;try{C=this.resultSelector.apply(this,F)}catch(M){return void this.destination.error(M)}this.destination.next(C)},w}(g.OuterSubscriber)},(O,B,s)=>{s.r(B),s.d(B,{subscribeToResult:()=>g});var y=s(171),b=s(172),m=s(110);function g(n,u,l,c,p){if(p===void 0&&(p=new y.InnerSubscriber(n,l,c)),!p.closed)return u instanceof m.Observable?u.subscribe(p):(0,b.subscribeTo)(u)(p)}},(O,B,s)=>{s.r(B),s.d(B,{InnerSubscriber:()=>b});var y=s(113),b=function(m){function g(n,u,l){var c=m.call(this)||this;return c.parent=n,c.outerValue=u,c.outerIndex=l,c.index=0,c}return y.__extends(g,m),g.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},g.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},g.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},g}(s(112).Subscriber)},(O,B,s)=>{s.r(B),s.d(B,{subscribeTo:()=>f});var y=s(141),b=s(176),m=s(178),g=s(173),n=s(174),u=s(175),l=s(122),c=s(177),p=s(124),f=function(d){if(d&&typeof d[p.observable]=="function")return(0,g.subscribeToObservable)(d);if((0,n.isArrayLike)(d))return(0,y.subscribeToArray)(d);if((0,u.isPromise)(d))return(0,b.subscribeToPromise)(d);if(d&&typeof d[c.iterator]=="function")return(0,m.subscribeToIterable)(d);var w=(0,l.isObject)(d)?"an invalid object":"'"+d+"'";throw new TypeError("You provided "+w+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},(O,B,s)=>{s.r(B),s.d(B,{subscribeToObservable:()=>b});var y=s(124),b=function(m){return function(g){var n=m[y.observable]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(g)}}},(O,B,s)=>{s.r(B),s.d(B,{isArrayLike:()=>y});var y=function(b){return b&&typeof b.length=="number"&&typeof b!="function"}},(O,B,s)=>{function y(b){return!!b&&typeof b.subscribe!="function"&&typeof b.then=="function"}s.r(B),s.d(B,{isPromise:()=>y})},(O,B,s)=>{s.r(B),s.d(B,{subscribeToPromise:()=>b});var y=s(116),b=function(m){return function(g){return m.then(function(n){g.closed||(g.next(n),g.complete())},function(n){return g.error(n)}).then(null,y.hostReportError),g}}},(O,B,s)=>{function y(){return typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator"}s.r(B),s.d(B,{$$iterator:()=>m,getSymbolIterator:()=>y,iterator:()=>b});var b=y(),m=b},(O,B,s)=>{s.r(B),s.d(B,{subscribeToIterable:()=>b});var y=s(177),b=function(m){return function(g){for(var n=m[y.iterator]();;){var u=void 0;try{u=n.next()}catch(l){return g.error(l),g}if(u.done){g.complete();break}if(g.next(u.value),g.closed)break}return typeof n.return=="function"&&g.add(function(){n.return&&n.return()}),g}}},(O,B,s)=>{s.r(B),s.d(B,{OuterSubscriber:()=>b});var y=s(113),b=function(m){function g(){return m!==null&&m.apply(this,arguments)||this}return y.__extends(g,m),g.prototype.notifyNext=function(n,u,l,c,p){this.destination.next(u)},g.prototype.notifyError=function(n,u){this.destination.error(n)},g.prototype.notifyComplete=function(n){this.destination.complete()},g}(s(112).Subscriber)},(O,B,s)=>{s.r(B),s.d(B,{concat:()=>m});var y=s(137),b=s(181);function m(){for(var g=[],n=0;n<arguments.length;n++)g[n]=arguments[n];return(0,b.concatAll)()(y.of.apply(void 0,g))}},(O,B,s)=>{s.r(B),s.d(B,{concatAll:()=>b});var y=s(182);function b(){return(0,y.mergeAll)(1)}},(O,B,s)=>{s.r(B),s.d(B,{mergeAll:()=>m});var y=s(183),b=s(126);function m(g){return g===void 0&&(g=Number.POSITIVE_INFINITY),(0,y.mergeMap)(b.identity,g)}},(O,B,s)=>{s.r(B),s.d(B,{MergeMapOperator:()=>u,MergeMapSubscriber:()=>l,flatMap:()=>c,mergeMap:()=>n});var y=s(113),b=s(167),m=s(184),g=s(191);function n(p,f,d){return d===void 0&&(d=Number.POSITIVE_INFINITY),typeof f=="function"?function(w){return w.pipe(n(function(F,C){return(0,m.from)(p(F,C)).pipe((0,b.map)(function(M,x){return f(F,M,C,x)}))},d))}:(typeof f=="number"&&(d=f),function(w){return w.lift(new u(p,d))})}var u=function(){function p(f,d){d===void 0&&(d=Number.POSITIVE_INFINITY),this.project=f,this.concurrent=d}return p.prototype.call=function(f,d){return d.subscribe(new l(f,this.project,this.concurrent))},p}(),l=function(p){function f(d,w,F){F===void 0&&(F=Number.POSITIVE_INFINITY);var C=p.call(this,d)||this;return C.project=w,C.concurrent=F,C.hasCompleted=!1,C.buffer=[],C.active=0,C.index=0,C}return y.__extends(f,p),f.prototype._next=function(d){this.active<this.concurrent?this._tryNext(d):this.buffer.push(d)},f.prototype._tryNext=function(d){var w,F=this.index++;try{w=this.project(d,F)}catch(C){return void this.destination.error(C)}this.active++,this._innerSub(w)},f.prototype._innerSub=function(d){var w=new g.SimpleInnerSubscriber(this),F=this.destination;F.add(w);var C=(0,g.innerSubscribe)(d,w);C!==w&&F.add(C)},f.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},f.prototype.notifyNext=function(d){this.destination.next(d)},f.prototype.notifyComplete=function(){var d=this.buffer;this.active--,d.length>0?this._next(d.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},f}(g.SimpleOuterSubscriber),c=n},(O,B,s)=>{s.r(B),s.d(B,{from:()=>g});var y=s(110),b=s(172),m=s(185);function g(n,u){return u?(0,m.scheduled)(n,u):n instanceof y.Observable?n:new y.Observable((0,b.subscribeTo)(n))}},(O,B,s)=>{s.r(B),s.d(B,{scheduled:()=>p});var y=s(187),b=s(188),m=s(139),g=s(190),n=s(186),u=s(175),l=s(174),c=s(189);function p(f,d){if(f!=null){if((0,n.isInteropObservable)(f))return(0,y.scheduleObservable)(f,d);if((0,u.isPromise)(f))return(0,b.schedulePromise)(f,d);if((0,l.isArrayLike)(f))return(0,m.scheduleArray)(f,d);if((0,c.isIterable)(f)||typeof f=="string")return(0,g.scheduleIterable)(f,d)}throw new TypeError((f!==null&&typeof f||f)+" is not observable")}},(O,B,s)=>{s.r(B),s.d(B,{isInteropObservable:()=>b});var y=s(124);function b(m){return m&&typeof m[y.observable]=="function"}},(O,B,s)=>{s.r(B),s.d(B,{scheduleObservable:()=>g});var y=s(110),b=s(118),m=s(124);function g(n,u){return new y.Observable(function(l){var c=new b.Subscription;return c.add(u.schedule(function(){var p=n[m.observable]();c.add(p.subscribe({next:function(f){c.add(u.schedule(function(){return l.next(f)}))},error:function(f){c.add(u.schedule(function(){return l.error(f)}))},complete:function(){c.add(u.schedule(function(){return l.complete()}))}}))})),c})}},(O,B,s)=>{s.r(B),s.d(B,{schedulePromise:()=>m});var y=s(110),b=s(118);function m(g,n){return new y.Observable(function(u){var l=new b.Subscription;return l.add(n.schedule(function(){return g.then(function(c){l.add(n.schedule(function(){u.next(c),l.add(n.schedule(function(){return u.complete()}))}))},function(c){l.add(n.schedule(function(){return u.error(c)}))})})),l})}},(O,B,s)=>{s.r(B),s.d(B,{isIterable:()=>b});var y=s(177);function b(m){return m&&typeof m[y.iterator]=="function"}},(O,B,s)=>{s.r(B),s.d(B,{scheduleIterable:()=>g});var y=s(110),b=s(118),m=s(177);function g(n,u){if(!n)throw new Error("Iterable cannot be null");return new y.Observable(function(l){var c,p=new b.Subscription;return p.add(function(){c&&typeof c.return=="function"&&c.return()}),p.add(u.schedule(function(){c=n[m.iterator](),p.add(u.schedule(function(){if(!l.closed){var f,d;try{var w=c.next();f=w.value,d=w.done}catch(F){return void l.error(F)}d?l.complete():(l.next(f),this.schedule())}}))})),p})}},(O,B,s)=>{s.r(B),s.d(B,{ComplexInnerSubscriber:()=>u,ComplexOuterSubscriber:()=>c,SimpleInnerSubscriber:()=>n,SimpleOuterSubscriber:()=>l,innerSubscribe:()=>p});var y=s(113),b=s(112),m=s(110),g=s(172),n=function(f){function d(w){var F=f.call(this)||this;return F.parent=w,F}return y.__extends(d,f),d.prototype._next=function(w){this.parent.notifyNext(w)},d.prototype._error=function(w){this.parent.notifyError(w),this.unsubscribe()},d.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},d}(b.Subscriber),u=function(f){function d(w,F,C){var M=f.call(this)||this;return M.parent=w,M.outerValue=F,M.outerIndex=C,M}return y.__extends(d,f),d.prototype._next=function(w){this.parent.notifyNext(this.outerValue,w,this.outerIndex,this)},d.prototype._error=function(w){this.parent.notifyError(w),this.unsubscribe()},d.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},d}(b.Subscriber),l=function(f){function d(){return f!==null&&f.apply(this,arguments)||this}return y.__extends(d,f),d.prototype.notifyNext=function(w){this.destination.next(w)},d.prototype.notifyError=function(w){this.destination.error(w)},d.prototype.notifyComplete=function(){this.destination.complete()},d}(b.Subscriber),c=function(f){function d(){return f!==null&&f.apply(this,arguments)||this}return y.__extends(d,f),d.prototype.notifyNext=function(w,F,C,M){this.destination.next(F)},d.prototype.notifyError=function(w){this.destination.error(w)},d.prototype.notifyComplete=function(w){this.destination.complete()},d}(b.Subscriber);function p(f,d){if(!d.closed){if(f instanceof m.Observable)return f.subscribe(d);var w;try{w=(0,g.subscribeTo)(f)(d)}catch(F){d.error(F)}return w}}},(O,B,s)=>{s.r(B),s.d(B,{defer:()=>g});var y=s(110),b=s(184),m=s(143);function g(n){return new y.Observable(function(u){var l;try{l=n()}catch(c){return void u.error(c)}return(l?(0,b.from)(l):(0,m.empty)()).subscribe(u)})}},(O,B,s)=>{s.r(B),s.d(B,{forkJoin:()=>u});var y=s(110),b=s(121),m=s(167),g=s(122),n=s(184);function u(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];if(c.length===1){var f=c[0];if((0,b.isArray)(f))return l(f,null);if((0,g.isObject)(f)&&Object.getPrototypeOf(f)===Object.prototype){var d=Object.keys(f);return l(d.map(function(F){return f[F]}),d)}}if(typeof c[c.length-1]=="function"){var w=c.pop();return l(c=c.length===1&&(0,b.isArray)(c[0])?c[0]:c,null).pipe((0,m.map)(function(F){return w.apply(void 0,F)}))}return l(c,null)}function l(c,p){return new y.Observable(function(f){var d=c.length;if(d!==0)for(var w=new Array(d),F=0,C=0,M=function(K){var j=(0,n.from)(c[K]),U=!1;f.add(j.subscribe({next:function(G){U||(U=!0,C++),w[K]=G},error:function(G){return f.error(G)},complete:function(){++F!==d&&U||(C===d&&f.next(p?p.reduce(function(G,X,Y){return G[X]=w[Y],G},{}):w),f.complete())}}))},x=0;x<d;x++)M(x);else f.complete()})}},(O,B,s)=>{s.r(B),s.d(B,{fromEvent:()=>n});var y=s(110),b=s(121),m=s(119),g=s(167);function n(l,c,p,f){return(0,m.isFunction)(p)&&(f=p,p=void 0),f?n(l,c,p).pipe((0,g.map)(function(d){return(0,b.isArray)(d)?f.apply(void 0,d):f(d)})):new y.Observable(function(d){u(l,c,function(w){arguments.length>1?d.next(Array.prototype.slice.call(arguments)):d.next(w)},d,p)})}function u(l,c,p,f,d){var w;if(function(j){return j&&typeof j.addEventListener=="function"&&typeof j.removeEventListener=="function"}(l)){var F=l;l.addEventListener(c,p,d),w=function(){return F.removeEventListener(c,p,d)}}else if(function(j){return j&&typeof j.on=="function"&&typeof j.off=="function"}(l)){var C=l;l.on(c,p),w=function(){return C.off(c,p)}}else if(function(j){return j&&typeof j.addListener=="function"&&typeof j.removeListener=="function"}(l)){var M=l;l.addListener(c,p),w=function(){return M.removeListener(c,p)}}else{if(!l||!l.length)throw new TypeError("Invalid event target");for(var x=0,K=l.length;x<K;x++)u(l[x],c,p,f,d)}f.add(w)}},(O,B,s)=>{s.r(B),s.d(B,{fromEventPattern:()=>n});var y=s(110),b=s(121),m=s(119),g=s(167);function n(u,l,c){return c?n(u,l).pipe((0,g.map)(function(p){return(0,b.isArray)(p)?c.apply(void 0,p):c(p)})):new y.Observable(function(p){var f,d=function(){for(var w=[],F=0;F<arguments.length;F++)w[F]=arguments[F];return p.next(w.length===1?w[0]:w)};try{f=u(d)}catch(w){return void p.error(w)}if((0,m.isFunction)(l))return function(){return l(d,f)}})}},(O,B,s)=>{s.r(B),s.d(B,{generate:()=>g});var y=s(110),b=s(126),m=s(138);function g(u,l,c,p,f){var d,w;if(arguments.length==1){var F=u;w=F.initialState,l=F.condition,c=F.iterate,d=F.resultSelector||b.identity,f=F.scheduler}else p===void 0||(0,m.isScheduler)(p)?(w=u,d=b.identity,f=p):(w=u,d=p);return new y.Observable(function(C){var M=w;if(f)return f.schedule(n,0,{subscriber:C,iterate:c,condition:l,resultSelector:d,state:M});for(;;){if(l){var x=void 0;try{x=l(M)}catch(j){return void C.error(j)}if(!x){C.complete();break}}var K=void 0;try{K=d(M)}catch(j){return void C.error(j)}if(C.next(K),C.closed)break;try{M=c(M)}catch(j){return void C.error(j)}}})}function n(u){var l=u.subscriber,c=u.condition;if(!l.closed){if(u.needIterate)try{u.state=u.iterate(u.state)}catch(d){return void l.error(d)}else u.needIterate=!0;if(c){var p=void 0;try{p=c(u.state)}catch(d){return void l.error(d)}if(!p)return void l.complete();if(l.closed)return}var f;try{f=u.resultSelector(u.state)}catch(d){return void l.error(d)}if(!l.closed&&(l.next(f),!l.closed))return this.schedule(u)}}},(O,B,s)=>{s.r(B),s.d(B,{iif:()=>m});var y=s(192),b=s(143);function m(g,n,u){return n===void 0&&(n=b.EMPTY),u===void 0&&(u=b.EMPTY),(0,y.defer)(function(){return g()?n:u})}},(O,B,s)=>{s.r(B),s.d(B,{interval:()=>g});var y=s(110),b=s(156),m=s(199);function g(u,l){return u===void 0&&(u=0),l===void 0&&(l=b.async),(!(0,m.isNumeric)(u)||u<0)&&(u=0),l&&typeof l.schedule=="function"||(l=b.async),new y.Observable(function(c){return c.add(l.schedule(n,u,{subscriber:c,counter:0,period:u})),c})}function n(u){var l=u.subscriber,c=u.counter,p=u.period;l.next(c),this.schedule({subscriber:l,counter:c+1,period:p},p)}},(O,B,s)=>{s.r(B),s.d(B,{isNumeric:()=>b});var y=s(121);function b(m){return!(0,y.isArray)(m)&&m-parseFloat(m)+1>=0}},(O,B,s)=>{s.r(B),s.d(B,{merge:()=>n});var y=s(110),b=s(138),m=s(182),g=s(140);function n(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var c=Number.POSITIVE_INFINITY,p=null,f=u[u.length-1];return(0,b.isScheduler)(f)?(p=u.pop(),u.length>1&&typeof u[u.length-1]=="number"&&(c=u.pop())):typeof f=="number"&&(c=u.pop()),p===null&&u.length===1&&u[0]instanceof y.Observable?u[0]:(0,m.mergeAll)(c)((0,g.fromArray)(u,p))}},(O,B,s)=>{s.r(B),s.d(B,{NEVER:()=>m,never:()=>g});var y=s(110),b=s(161),m=new y.Observable(b.noop);function g(){return m}},(O,B,s)=>{s.r(B),s.d(B,{onErrorResumeNext:()=>n});var y=s(110),b=s(184),m=s(121),g=s(143);function n(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];if(u.length===0)return g.EMPTY;var c=u[0],p=u.slice(1);return u.length===1&&(0,m.isArray)(c)?n.apply(void 0,c):new y.Observable(function(f){var d=function(){return f.add(n.apply(void 0,p).subscribe(f))};return(0,b.from)(c).subscribe({next:function(w){f.next(w)},error:d,complete:d})})}},(O,B,s)=>{s.r(B),s.d(B,{dispatch:()=>g,pairs:()=>m});var y=s(110),b=s(118);function m(n,u){return u?new y.Observable(function(l){var c=Object.keys(n),p=new b.Subscription;return p.add(u.schedule(g,0,{keys:c,index:0,subscriber:l,subscription:p,obj:n})),p}):new y.Observable(function(l){for(var c=Object.keys(n),p=0;p<c.length&&!l.closed;p++){var f=c[p];n.hasOwnProperty(f)&&l.next([f,n[f]])}l.complete()})}function g(n){var u=n.keys,l=n.index,c=n.subscriber,p=n.subscription,f=n.obj;if(!c.closed)if(l<u.length){var d=u[l];c.next([d,f[d]]),p.add(this.schedule({keys:u,index:l+1,subscriber:c,subscription:p,obj:f}))}else c.complete()}},(O,B,s)=>{s.r(B),s.d(B,{partition:()=>n});var y=s(206),b=s(172),m=s(205),g=s(110);function n(u,l,c){return[(0,m.filter)(l,c)(new g.Observable((0,b.subscribeTo)(u))),(0,m.filter)((0,y.not)(l,c))(new g.Observable((0,b.subscribeTo)(u)))]}},(O,B,s)=>{s.r(B),s.d(B,{filter:()=>m});var y=s(113),b=s(112);function m(u,l){return function(c){return c.lift(new g(u,l))}}var g=function(){function u(l,c){this.predicate=l,this.thisArg=c}return u.prototype.call=function(l,c){return c.subscribe(new n(l,this.predicate,this.thisArg))},u}(),n=function(u){function l(c,p,f){var d=u.call(this,c)||this;return d.predicate=p,d.thisArg=f,d.count=0,d}return y.__extends(l,u),l.prototype._next=function(c){var p;try{p=this.predicate.call(this.thisArg,c,this.count++)}catch(f){return void this.destination.error(f)}p&&this.destination.next(c)},l}(b.Subscriber)},(O,B,s)=>{function y(b,m){function g(){return!g.pred.apply(g.thisArg,arguments)}return g.pred=b,g.thisArg=m,g}s.r(B),s.d(B,{not:()=>y})},(O,B,s)=>{s.r(B),s.d(B,{RaceOperator:()=>l,RaceSubscriber:()=>c,race:()=>u});var y=s(113),b=s(121),m=s(140),g=s(179),n=s(170);function u(){for(var p=[],f=0;f<arguments.length;f++)p[f]=arguments[f];if(p.length===1){if(!(0,b.isArray)(p[0]))return p[0];p=p[0]}return(0,m.fromArray)(p,void 0).lift(new l)}var l=function(){function p(){}return p.prototype.call=function(f,d){return d.subscribe(new c(f))},p}(),c=function(p){function f(d){var w=p.call(this,d)||this;return w.hasFirst=!1,w.observables=[],w.subscriptions=[],w}return y.__extends(f,p),f.prototype._next=function(d){this.observables.push(d)},f.prototype._complete=function(){var d=this.observables,w=d.length;if(w===0)this.destination.complete();else{for(var F=0;F<w&&!this.hasFirst;F++){var C=d[F],M=(0,n.subscribeToResult)(this,C,void 0,F);this.subscriptions&&this.subscriptions.push(M),this.add(M)}this.observables=null}},f.prototype.notifyNext=function(d,w,F){if(!this.hasFirst){this.hasFirst=!0;for(var C=0;C<this.subscriptions.length;C++)if(C!==F){var M=this.subscriptions[C];M.unsubscribe(),this.remove(M)}this.subscriptions=null}this.destination.next(w)},f}(g.OuterSubscriber)},(O,B,s)=>{s.r(B),s.d(B,{dispatch:()=>m,range:()=>b});var y=s(110);function b(g,n,u){return g===void 0&&(g=0),new y.Observable(function(l){n===void 0&&(n=g,g=0);var c=0,p=g;if(u)return u.schedule(m,0,{index:c,count:n,start:g,subscriber:l});for(;;){if(c++>=n){l.complete();break}if(l.next(p++),l.closed)break}})}function m(g){var n=g.start,u=g.index,l=g.count,c=g.subscriber;u>=l?c.complete():(c.next(n),c.closed||(g.index=u+1,g.start=n+1,this.schedule(g)))}},(O,B,s)=>{s.r(B),s.d(B,{timer:()=>n});var y=s(110),b=s(156),m=s(199),g=s(138);function n(l,c,p){l===void 0&&(l=0);var f=-1;return(0,m.isNumeric)(c)?f=Number(c)<1?1:Number(c):(0,g.isScheduler)(c)&&(p=c),(0,g.isScheduler)(p)||(p=b.async),new y.Observable(function(d){var w=(0,m.isNumeric)(l)?l:+l-p.now();return p.schedule(u,w,{index:0,period:f,subscriber:d})})}function u(l){var c=l.index,p=l.period,f=l.subscriber;if(f.next(c),!f.closed){if(p===-1)return f.complete();l.index=c+1,this.schedule(l,p)}}},(O,B,s)=>{s.r(B),s.d(B,{using:()=>g});var y=s(110),b=s(184),m=s(143);function g(n,u){return new y.Observable(function(l){var c,p;try{c=n()}catch(d){return void l.error(d)}try{p=u(c)}catch(d){return void l.error(d)}var f=(p?(0,b.from)(p):m.EMPTY).subscribe(l);return function(){f.unsubscribe(),c&&c.unsubscribe()}})}},(O,B,s)=>{s.r(B),s.d(B,{ZipOperator:()=>c,ZipSubscriber:()=>p,zip:()=>l});var y=s(113),b=s(140),m=s(121),g=s(112),n=s(177),u=s(191);function l(){for(var F=[],C=0;C<arguments.length;C++)F[C]=arguments[C];var M=F[F.length-1];return typeof M=="function"&&F.pop(),(0,b.fromArray)(F,void 0).lift(new c(M))}var c=function(){function F(C){this.resultSelector=C}return F.prototype.call=function(C,M){return M.subscribe(new p(C,this.resultSelector))},F}(),p=function(F){function C(M,x,K){var j=F.call(this,M)||this;return j.resultSelector=x,j.iterators=[],j.active=0,j.resultSelector=typeof x=="function"?x:void 0,j}return y.__extends(C,F),C.prototype._next=function(M){var x=this.iterators;(0,m.isArray)(M)?x.push(new d(M)):typeof M[n.iterator]=="function"?x.push(new f(M[n.iterator]())):x.push(new w(this.destination,this,M))},C.prototype._complete=function(){var M=this.iterators,x=M.length;if(this.unsubscribe(),x!==0){this.active=x;for(var K=0;K<x;K++){var j=M[K];j.stillUnsubscribed?this.destination.add(j.subscribe()):this.active--}}else this.destination.complete()},C.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},C.prototype.checkIterators=function(){for(var M=this.iterators,x=M.length,K=this.destination,j=0;j<x;j++)if(typeof(X=M[j]).hasValue=="function"&&!X.hasValue())return;var U=!1,G=[];for(j=0;j<x;j++){var X,Y=(X=M[j]).next();if(X.hasCompleted()&&(U=!0),Y.done)return void K.complete();G.push(Y.value)}this.resultSelector?this._tryresultSelector(G):K.next(G),U&&K.complete()},C.prototype._tryresultSelector=function(M){var x;try{x=this.resultSelector.apply(this,M)}catch(K){return void this.destination.error(K)}this.destination.next(x)},C}(g.Subscriber),f=function(){function F(C){this.iterator=C,this.nextResult=C.next()}return F.prototype.hasValue=function(){return!0},F.prototype.next=function(){var C=this.nextResult;return this.nextResult=this.iterator.next(),C},F.prototype.hasCompleted=function(){var C=this.nextResult;return Boolean(C&&C.done)},F}(),d=function(){function F(C){this.array=C,this.index=0,this.length=0,this.length=C.length}return F.prototype[n.iterator]=function(){return this},F.prototype.next=function(C){var M=this.index++,x=this.array;return M<this.length?{value:x[M],done:!1}:{value:null,done:!0}},F.prototype.hasValue=function(){return this.array.length>this.index},F.prototype.hasCompleted=function(){return this.array.length===this.index},F}(),w=function(F){function C(M,x,K){var j=F.call(this,M)||this;return j.parent=x,j.observable=K,j.stillUnsubscribed=!0,j.buffer=[],j.isComplete=!1,j}return y.__extends(C,F),C.prototype[n.iterator]=function(){return this},C.prototype.next=function(){var M=this.buffer;return M.length===0&&this.isComplete?{value:null,done:!0}:{value:M.shift(),done:!1}},C.prototype.hasValue=function(){return this.buffer.length>0},C.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},C.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},C.prototype.notifyNext=function(M){this.buffer.push(M),this.parent.checkIterators()},C.prototype.subscribe=function(){return(0,u.innerSubscribe)(this.observable,new u.SimpleInnerSubscriber(this))},C}(u.SimpleOuterSubscriber)},(O,B,s)=>{var y=s(9).Buffer;Object.defineProperty(B,"__esModule",{value:!0}),B.receiveAPDU=void 0;var b=s(54),m=s(109),g=s(104);B.receiveAPDU=n=>m.Observable.create(u=>{let l=0,c=0,p=y.alloc(0);const f=n.subscribe({complete:()=>{u.error(new b.DisconnectedDevice),f.unsubscribe()},error:d=>{(0,g.log)("ble-error","in receiveAPDU "+String(d)),u.error(d),f.unsubscribe()},next:d=>{const w=d.readUInt8(0),F=d.readUInt16BE(1);let C=d.slice(3);w===5?l===F?(F===0&&(c=C.readUInt16BE(0),C=C.slice(2)),l++,p=y.concat([p,C]),p.length>c?u.error(new b.TransportError("BLE: received too much data. discontinued chunk. Received "+p.length+" but expected "+c,"BLETooMuchData")):p.length===c&&(u.next(p),u.complete(),f.unsubscribe())):u.error(new b.TransportError("BLE: Invalid sequence number. discontinued chunk. Received "+F+" but expected "+l,"InvalidSequence")):u.error(new b.TransportError("Invalid tag "+w.toString(16),"InvalidTag"))}});return()=>{f.unsubscribe()}})},(O,B,s)=>{s.r(B),s.d(B,{monitorCharacteristic:()=>g});var y=s(110),b=s(104),m=s(9).Buffer;const g=n=>y.Observable.create(u=>{function l(c){const p=c.target;p.value&&u.next(m.from(p.value.buffer))}return(0,b.log)("ble-verbose","start monitor "+n.uuid),n.startNotifications().then(()=>{n.addEventListener("characteristicvaluechanged",l)}),()=>{(0,b.log)("ble-verbose","end monitor "+n.uuid),n.stopNotifications()}})},(O,B,s)=>{s.r(B),s.d(B,{tap:()=>n});var y=s(113),b=s(112),m=s(161),g=s(119);function n(c,p,f){return function(d){return d.lift(new u(c,p,f))}}var u=function(){function c(p,f,d){this.nextOrObserver=p,this.error=f,this.complete=d}return c.prototype.call=function(p,f){return f.subscribe(new l(p,this.nextOrObserver,this.error,this.complete))},c}(),l=function(c){function p(f,d,w,F){var C=c.call(this,f)||this;return C._tapNext=m.noop,C._tapError=m.noop,C._tapComplete=m.noop,C._tapError=w||m.noop,C._tapComplete=F||m.noop,(0,g.isFunction)(d)?(C._context=C,C._tapNext=d):d&&(C._context=d,C._tapNext=d.next||m.noop,C._tapError=d.error||m.noop,C._tapComplete=d.complete||m.noop),C}return y.__extends(p,c),p.prototype._next=function(f){try{this._tapNext.call(this._context,f)}catch(d){return void this.destination.error(d)}this.destination.next(f)},p.prototype._error=function(f){try{this._tapError.call(this._context,f)}catch(d){return void this.destination.error(d)}this.destination.error(f)},p.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(f){return void this.destination.error(f)}return this.destination.complete()},p}(b.Subscriber)},(O,B,s)=>{s.r(B),s.d(B,{share:()=>n});var y=s(216),b=s(128),m=s(129);function g(){return new m.Subject}function n(){return function(u){return(0,b.refCount)()((0,y.multicast)(g)(u))}}},(O,B,s)=>{s.r(B),s.d(B,{MulticastOperator:()=>m,multicast:()=>b});var y=s(127);function b(g,n){return function(u){var l;if(l=typeof g=="function"?g:function(){return g},typeof n=="function")return u.lift(new m(l,n));var c=Object.create(u,y.connectableObservableDescriptor);return c.source=u,c.subjectFactory=l,c}}var m=function(){function g(n,u){this.subjectFactory=n,this.selector=u}return g.prototype.call=function(n,u){var l=this.selector,c=this.subjectFactory(),p=l(c).subscribe(n);return p.add(u.subscribe(c)),p},g}()},(O,B,s)=>{s.r(B),s.d(B,{first:()=>l});var y=s(164),b=s(205),m=s(218),g=s(219),n=s(220),u=s(126);function l(c,p){var f=arguments.length>=2;return function(d){return d.pipe(c?(0,b.filter)(function(w,F){return c(w,F,d)}):u.identity,(0,m.take)(1),f?(0,g.defaultIfEmpty)(p):(0,n.throwIfEmpty)(function(){return new y.EmptyError}))}}},(O,B,s)=>{s.r(B),s.d(B,{take:()=>n});var y=s(113),b=s(112),m=s(163),g=s(143);function n(c){return function(p){return c===0?(0,g.empty)():p.lift(new u(c))}}var u=function(){function c(p){if(this.total=p,this.total<0)throw new m.ArgumentOutOfRangeError}return c.prototype.call=function(p,f){return f.subscribe(new l(p,this.total))},c}(),l=function(c){function p(f,d){var w=c.call(this,f)||this;return w.total=d,w.count=0,w}return y.__extends(p,c),p.prototype._next=function(f){var d=this.total,w=++this.count;w<=d&&(this.destination.next(f),w===d&&(this.destination.complete(),this.unsubscribe()))},p}(b.Subscriber)},(O,B,s)=>{s.r(B),s.d(B,{defaultIfEmpty:()=>m});var y=s(113),b=s(112);function m(u){return u===void 0&&(u=null),function(l){return l.lift(new g(u))}}var g=function(){function u(l){this.defaultValue=l}return u.prototype.call=function(l,c){return c.subscribe(new n(l,this.defaultValue))},u}(),n=function(u){function l(c,p){var f=u.call(this,c)||this;return f.defaultValue=p,f.isEmpty=!0,f}return y.__extends(l,u),l.prototype._next=function(c){this.isEmpty=!1,this.destination.next(c)},l.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},l}(b.Subscriber)},(O,B,s)=>{s.r(B),s.d(B,{throwIfEmpty:()=>g});var y=s(113),b=s(164),m=s(112);function g(c){return c===void 0&&(c=l),function(p){return p.lift(new n(c))}}var n=function(){function c(p){this.errorFactory=p}return c.prototype.call=function(p,f){return f.subscribe(new u(p,this.errorFactory))},c}(),u=function(c){function p(f,d){var w=c.call(this,f)||this;return w.errorFactory=d,w.hasValue=!1,w}return y.__extends(p,c),p.prototype._next=function(f){this.hasValue=!0,this.destination.next(f)},p.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var f=void 0;try{f=this.errorFactory()}catch(d){f=d}this.destination.error(f)},p}(m.Subscriber);function l(){return new b.EmptyError}},(O,B,s)=>{s.r(B),s.d(B,{ignoreElements:()=>m});var y=s(113),b=s(112);function m(){return function(u){return u.lift(new g)}}var g=function(){function u(){}return u.prototype.call=function(l,c){return c.subscribe(new n(l))},u}(),n=function(u){function l(){return u!==null&&u.apply(this,arguments)||this}return y.__extends(l,u),l.prototype._next=function(c){},l}(b.Subscriber)},(O,B,s)=>{const y=s(223).default,{DnsCollection:b}=s(225),{DnsItem:m}=s(226);O.exports.default={Dns:y,DnsCollection:b,DnsItem:m}},(O,B,s)=>{s(19);const{BN:y,Address:b}=s(1),{DNS_CATEGORY_NEXT_RESOLVER:m,DNS_CATEGORY_SITE:g,DNS_CATEGORY_WALLET:n,createSmartContractAddressRecord:u,createAdnlAddressRecord:l,createNextResolverRecord:c,parseNextResolverRecord:p,parseSmartContractAddressRecord:f,dnsResolve:d}=s(224),w="Ef_BimcWrQ5pmAWfRqfeVHUCNV8XgsLqeAMBivKryXrghFW3";class F{constructor(M){this.provider=M}async getRootDnsAddress(){return this.provider.host.indexOf("testnet")===-1?null:new b(w)}resolve(M,x,K){return this.provider.host.indexOf("testnet")===-1?null:d(this.provider,w,M,x,K)}getWalletAddress(M){return this.provider.host.indexOf("testnet")===-1?null:this.resolve(M,n)}}F.resolve=d,F.createSmartContractAddressRecord=u,F.createAdnlAddressRecord=l,F.createNextResolverRecord=c,F.parseNextResolverRecord=p,F.parseSmartContractAddressRecord=f,F.DNS_CATEGORY_NEXT_RESOLVER=m,F.DNS_CATEGORY_WALLET=n,F.DNS_CATEGORY_SITE=g,O.exports.default=F},(O,B,s)=>{const{parseAddress:y}=s(37),{BN:b,sha256:m,bytesToHex:g,bytesToBase64:n}=s(1),{Cell:u}=s(19),l="dns_next_resolver",c="wallet",p="site",f=async x=>{if(!x)return new b(0);const K=new TextEncoder().encode(x),j=new Uint8Array(await m(K));return new b(g(j),16)},d=(x,K,j)=>{if(x.bits.array[0]!==K||x.bits.array[1]!==j)throw new Error("Invalid dns record value prefix");return x.bits.array=x.bits.array.slice(2),y(x)},w=x=>d(x,159,211),F=x=>d(x,186,147),C=async(x,K,j,U,G)=>{const X=8*j.length,Y=new u;Y.bits.writeBytes(j);const Q=await f(U),i=await x.call2(K,"dnsresolve",[["tvm.Slice",n(await Y.toBoc(!1))],["num",Q.toString()]]);if(i.length!==2)throw new Error("Invalid dnsresolve response");const h=i[0].toNumber();let r=i[1];if(r instanceof Array&&r.length===0&&(r=null),r&&!r.bits)throw new Error("Invalid dnsresolve response");if(h===0)return null;if(h%8!=0)throw new Error("domain split not at a component boundary");if(h>X)throw new Error("invalid response "+h+"/"+X);if(h===X)return U===l?r?F(r):null:U===c?r?w(r):null:U===p?r||null:r;if(r){const e=F(r);return G?U===l?e:null:await C(x,e.toString(),j.slice(h/8),U,!1)}return null},M=x=>{if(!x||!x.length)throw new Error("empty domain");if(x===".")return new Uint8Array([0]);x=x.toLowerCase();for(let U=0;U<x.length;U++)if(x.charCodeAt(U)<=32)throw new Error("bytes in range 0..32 are not allowed in domain names");for(let U=0;U<x.length;U++){const G=x.substring(U,U+1);for(let X=127;X<=159;X++)if(G===String.fromCharCode(X))throw new Error("bytes in range 127..159 are not allowed in domain names")}const K=x.split(".");K.forEach(U=>{if(!U.length)throw new Error("domain name cannot have an empty component")});const j="\0"+K.reverse().join("\0")+"\0";return new TextEncoder().encode(j)};O.exports={DNS_CATEGORY_NEXT_RESOLVER:l,DNS_CATEGORY_SITE:p,DNS_CATEGORY_WALLET:c,categoryToBN:f,domainToBytes:M,createSmartContractAddressRecord:x=>{const K=new u;return K.bits.writeUint(40915,16),K.bits.writeAddress(x),K.bits.writeUint(0,8),K},createAdnlAddressRecord:x=>{const K=new u;return K.bits.writeUint(44289,16),K.bits.writeUint(x,256),K.bits.writeUint(0,8),K},createNextResolverRecord:x=>{const K=new u;return K.bits.writeUint(47763,16),K.bits.writeAddress(x),K},parseNextResolverRecord:F,parseSmartContractAddressRecord:w,dnsResolve:async(x,K,j,U,G)=>{const X=M(j);return C(x,K,X,U,G)}}},(O,B,s)=>{const{Contract:y}=s(23),{Cell:b}=s(19);s(1);const{parseAddress:m}=s(37),{dnsResolve:g}=s(224),{parseOffchainUriCell:n}=s(37);O.exports={DnsCollection:class extends y{constructor(u,l){if(l.wc=0,l.code=l.code||b.oneFromBoc("B5EE9C724102170100020E000114FF00F4A413F4BCF2C80B0102016202030202CC0405020120111202012006070201D40F1002012008090201200D0E01F543221C70094840FF2F0DED0D3030171B0915BE0FA403001D31FED44D0D4D4303122C0008E5032F00320D74920C218F2E0C8208103F0BBF2E0C978A908C000F2E0CA20F004F2E0CB20F9018050F833206EB38E10D0F4043052108307F40E6FA131F2D0CC9130E2C858CF16C9C85004CF1613CCC9F009E010235F0380A0201200B0C000EC007DC840FF2F000331C27C074C1C07000082CE500A98200B784B98C4830003CB43260004F3223880875D244B5C61673C58875D2883000082CE6C070007CB83280B50C3400A44C78B98C727420007F47021D7498E355CBA20B38E2E3002D30721C02D23C200B024A6F85240B9B022C22F23C13AB0B122C26003C17B13B012B1B320B39402A60802DE13DEE66C12BA8002D501C8CBFFF828CF16C97020C8CB0113F400F400CB00C98001B3E401D3232C084B281F2FFF274200039167C01DC087C021DE0063232C15633C59C3E80B2DAF3333260103EC020020120131402012015160007B8B5D318001FBA7A3ED44D0D4D43031F0077001F00880019B905BED44D0D4D4303070016D8009DBA30C3020D74978A908C000F2E04620D70A07C00021D749C0085210B0935B786DE0209501D3073101DE21F0025122D71830F9018200BA93C8CB0F01820167A3ED43D8CF16C90191789170E212A0018467EBCAB"),super(u,l),!l.collectionContent&&!l.address)throw new Error("required collectionContent cell");this.methods.getCollectionData=this.getCollectionData.bind(this),this.methods.getNftItemAddressByIndex=this.getNftItemAddressByIndex.bind(this),this.methods.getNftItemContent=this.getNftItemContent.bind(this),this.methods.resolve=this.resolve.bind(this)}createDataCell(){const u=new b;return u.refs[0]=this.options.collectionContent,u.refs[1]=b.oneFromBoc(this.options.dnsItemCodeHex),u}async getCollectionData(){const u=await this.getAddress(),l=(await this.provider.call2(u.toString(),"get_collection_data"))[1];return{collectionContentUri:n(l),collectionContent:l,ownerAddress:null,nextItemIndex:0}}async getNftItemContent(u){return await u.getData()}async getNftItemAddressByIndex(u){const l=await this.getAddress(),c=await this.provider.call2(l.toString(),"get_nft_address_by_index",[["num",u.toString()]]);return m(c)}async resolve(u,l,c){const p=await this.getAddress();return g(this.provider,p.toString(),u,l,c)}}}},(O,B,s)=>{const{Contract:y}=s(23),{Cell:b}=s(19),{Address:m,BN:g}=s(1),{parseAddress:n}=s(37),{dnsResolve:u,categoryToBN:l}=s(224),c="B5EE9C7241022C010006F8000114FF00F4A413F4BCF2C80B0102016202030202CC0405020120232402012006070201481F2002014808090201201B1C03F7007434C0C05C6C2497C1383E903E900C7E800C5C75C87E800C7E800C3C0249ECF8C094D671C1462C238CC426D7C2FE900C1C14C01B60101C20043232C15401F3C594017E808572DA84B2C7F2CFC89BACE51633C5C0644CB88072407EC0380A71C0245C254274C7D42AB8887C01FE08C86F09300038C08C4374CFC9600A0B0C00113E910C1C2EBCB8536002FC5F056C22355242C705F2E19501FA40D4306D21D08B42E746F6E8F00682F082A3537FF0DBCE7EEC35D69EDC3A189EE6F17D82F353A553F9AA96CB0BE3CE89588307F4168BA544F4E20446F6D61696E86DF00682F0C9046F7A37AD0EA7CEE73355984FA5428982F8B37C8F7BCEC91F7AC71A7CD104588307F4168922D0F0060D0E013C343A3A3B8E1636363737375135C705F2E196102510241023F823F00AE30E0F03FC6EB31FB08E5A343652DDA1820AFAF0805210A15260BC9835820AFAF08015A1923004E220C2FF8E2F77706D722951454434708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00DE0C6D0DA150CC0B04923E5BE2F82328A18209E14320BC226EB0E30282105FCC3D145210BAE302101112003A68747470733A2F2F646E732E746F6E2E6F72672F69636F6E2E706E672300C682F06105D6CC76AF400325E94D588CE511BE5BFDBB73B437DC51ECA43917D7A43E3D588307F41670C8CB07F400C981012C8050F833206EB38E14D0F4043070018307F40E6FA19431D31F309130E29130E2F82301A0F0054466F00810351034F823F00A00F0302680698064A98452A0BCF2E197820AFAF08052B0A15270BC9836820AFAF0801AA1933A0905E220C2FF8E2C70206D21105B708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00923036E27A23F823A1A120C2009313A0029130E24464F00810451024F823F00A00305B6C55F005F82381012CA04470F0081045103412F823F00A0128305383C705F2E191105A104910381027103655021303FE82102FCB26A25210BA8E3F5F0535365B7082108B77173505C8CBFF5003CF164440138040708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00E082101A0B9D515210BA8E193032353537375135C705F2E19A03D4304015045033F823F00AE020C00AE3023A09C00BE3025F0B840F14151603F63603FA4021F001FA40D20031FA00820AFAF0801EA121945315A0A1DE22D70B01C300209206A19136E220C2FFF2E192218E3E821005138D91C8500CCF16500ECF1671244C145449D0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00107A94102D3A5BE202E30F105618191A0086303739395155C705F2E19B05D3FF20D74AC20009D0D30701C000F2E19CF404300999D430D040188307F416983050078307F45B30E270C8CB07F400C91045034444F00A01DA8050F833D0F4043052508307F40E6FA18ED7D30721C0008E932510BD107A09105810471046105C4313504C1D96303B5F036C61E201C0018E2D7053006D8100A0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB009130E2925F0CE2170004F2F003F83603FA4021F001FA40D20031FA00820AFAF0801EA121945315A0A1DE22D70B01C300209206A19136E220C2FFF2E192218E3E821005138D91C8500CCF16500ECF1671244C145449D0708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00107A94102D3A5BE202E30F10560118191A006A29F0018210D53276DB103A47046D71708010C8CB055007CF165005FA0215CB6A12CB1FCB3F226EB39458CF17019132E201C901FB00000A10293335300010104510344033F00A000D570C8CB01C9D080201201D1E00531C3232C1C8B3C5885BACE385C0B5D24875D2682040FDEEE4B3C5A5F20073C5B2407338A49B0878B274200021081BA50C1B5C0838343E903E8034CFCC200201202122002B406C8CBFF5005CF165003CF16CCCCF400CB3FC9ED5480017321400F3C5807E80B2CFF26000513B513434FFFE900835D2708027DFC07E9035353D0134CFCC0415C415B80C1C1B5B5B5B490415C415A0020120252602012027280013BBB39F009175F07F0078000DBA559F0096C718000DB8FCFF0095F038020120292A0013B64A5E012204EBE0FA1001FBB461843AE9240F152118001E5C08DE012206EBE0FA1A60E038001E5C339E8086047AE140E68078001E5C33B80111C344180012660F003C003060FE81CDF432CF190B19E2D93C060F0DBC06105E033E04883DCB11FB64DDC4964AD1BA06B879240DC23572F37CC5CAAAB143A2FFE03060FE81CDF432CF190B19E2D93C06102B0004786DA9E7FD01";class p extends y{constructor(d,w){w.wc=0,w.code=w.code||b.oneFromBoc(c),super(d,w),this.methods.getData=this.getData.bind(this),this.methods.getDomain=this.getDomain.bind(this),this.methods.getAuctionInfo=this.getAuctionInfo.bind(this),this.methods.getLastFillUpTime=this.getLastFillUpTime.bind(this),this.methods.resolve=this.resolve.bind(this)}createDataCell(){const d=new b;return d.bits.writeUint(this.options.index,256),d.bits.writeAddress(this.options.collectionAddress),d}async getData(){const d=await this.getAddress(),w=await this.provider.call2(d.toString(),"get_nft_data"),F=w[0].toNumber()===-1;return{isInitialized:F,index:w[1],collectionAddress:n(w[2]),ownerAddress:F?n(w[3]):null,contentCell:w[4]}}async createTransferBody(d){const w=new b;return w.bits.writeUint(1607220500,32),w.bits.writeUint(d.queryId||0,64),w.bits.writeAddress(d.newOwnerAddress),w.bits.writeAddress(d.responseAddress),w.bits.writeBit(!1),w.bits.writeCoins(d.forwardAmount||new g(0)),w.bits.writeBit(!1),d.forwardPayload&&w.bits.writeBytes(d.forwardPayload),w}createGetStaticDataBody(d){const w=new b;return w.bits.writeUint(801842850,32),w.bits.writeUint(d.queryId||0,64),w}async getDomain(){const d=await this.getAddress(),w=await this.provider.call2(d.toString(),"get_domain");return new TextDecoder().decode(w.bits.array.buffer)}async getAuctionInfo(){const d=await this.getAddress(),w=await this.provider.call2(d.toString(),"get_auction_info");return{maxBidAddress:n(w[0]),maxBidAmount:w[1],auctionEndTime:w[2].toNumber()}}async getLastFillUpTime(){const d=await this.getAddress();return(await this.provider.call2(d.toString(),"get_last_fill_up_time")).toNumber()}async resolve(d,w,F){const C=await this.getAddress();return u(this.provider,C.toString(),d,w,F)}}p.createChangeContentEntryBody=async f=>{const d=new b;return d.bits.writeUint(10,32),d.bits.writeUint(f.queryId||0,64),d.bits.writeUint(await l(f.category),256),f.value&&(d.refs[0]=f.value),d},p.codeHex=c,O.exports={DnsItem:p}}],ge={};function ce(O){var B=ge[O];if(B!==void 0)return B.exports;var s=ge[O]={id:O,loaded:!1,exports:{}};return he[O].call(s.exports,s,s.exports,ce),s.loaded=!0,s.exports}return ce.n=O=>{var B=O&&O.__esModule?()=>O.default:()=>O;return ce.d(B,{a:B}),B},ce.d=(O,B)=>{for(var s in B)ce.o(B,s)&&!ce.o(O,s)&&Object.defineProperty(O,s,{enumerable:!0,get:B[s]})},ce.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ce.o=(O,B)=>Object.prototype.hasOwnProperty.call(O,B),ce.r=O=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(O,"__esModule",{value:!0})},ce.nmd=O=>(O.paths=[],O.children||(O.children=[]),O),ce(0)})()})})(ke);const be=ir(ke.exports),Re=self.localStorage,nr=be.utils.BN;be.utils.nacl;be.utils.Address;be.utils.fromNano;const or=window.TonWeb.mnemonic;async function sr(te,Vt){const he=new TextEncoder().encode(Vt),ge=await crypto.subtle.digest("SHA-256",he),ce=crypto.getRandomValues(new Uint8Array(12)),O={name:"AES-GCM",iv:ce},B=await crypto.subtle.importKey("raw",ge,O,!1,["encrypt"]),s=new TextEncoder().encode(te),y=await crypto.subtle.encrypt(O,B,s),m=Array.from(new Uint8Array(y)).map(u=>String.fromCharCode(u)).join(""),g=btoa(m);return Array.from(ce).map(u=>("00"+u.toString(16)).slice(-2)).join("")+g}async function ar(te,Vt){const he=new TextEncoder().encode(Vt),ge=await crypto.subtle.digest("SHA-256",he),ce=te.slice(0,24).match(/.{2}/g).map(g=>parseInt(g,16)),O={name:"AES-GCM",iv:new Uint8Array(ce)},B=await crypto.subtle.importKey("raw",ge,O,!1,["decrypt"]),s=atob(te.slice(24)),y=new Uint8Array(s.match(/[\s\S]/g).map(g=>g.charCodeAt(0))),b=await crypto.subtle.decrypt(O,B,y);return new TextDecoder().decode(b)}class mr{static async wordsToPrivateKey(Vt){const he=await or.mnemonicToKeyPair(Vt);return be.utils.bytesToBase64(he.secretKey.slice(0,32))}static async saveWords(Vt,he){await Re.setItem("words",await sr(Vt.join(","),he))}static async loadWords(Vt){return(await ar(await Re.getItem("words"),Vt)).split(",")}static async getBalance(Vt){return new nr(Vt.balance)}}const Ue="https://toncenter.com/api/v2/jsonRPC",Oe="6494499baadce5c74d337dfa79efd3b525e3d94c012aa3f88a3f1a1c6eb4aa7c",hr={keyPair:void 0,providerUrl:Ue,apiKey:Oe,ton:new be(new be.HttpProvider(Ue,{apiKey:Oe}))},ur=()=>{const te=Je(hr),Vt=he=>{te.update(ge=>({...ge,keyPair:he}))};return{subscribe:te.subscribe,setUserKeyPair:Vt}},gr=ur();export{dr as B,mr as C,be as T,pr as a,Re as s,gr as w};

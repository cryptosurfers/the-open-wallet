import{S as V,i as F,s as H,l as v,m as E,n as C,h as d,p as b,K as B,b as p,L as J,E as O,C as j,M as w,N as $,q as D,a as P,w as K,c as z,x as N,y as I,f as g,d as X,t as y,O as ee,B as U,P as te,r as W,u as q,G as T,v as Y,g as Z,Q as le,R as G}from"../chunks/index-d6efaadc.js";import{B as se,T as L,C as ne,w as M,a as ie}from"../chunks/wallet-04cd0647.js";import"../chunks/index-a0b22331.js";function ae(n){let e;return{c(){e=v("i"),this.h()},l(t){e=E(t,"I",{style:!0,class:!0}),C(e).forEach(d),this.h()},h(){D(e,"background-image","url("+n[1]+")"),b(e,"class","svelte-9bk1x6")},m(t,i){p(t,e,i)},p(t,i){i&2&&D(e,"background-image","url("+t[1]+")")},d(t){t&&d(e)}}}function re(n){let e,t;return{c(){e=v("i"),this.h()},l(i){e=E(i,"I",{class:!0}),C(e).forEach(d),this.h()},h(){b(e,"class",t=B(n[0])+" svelte-9bk1x6")},m(i,f){p(i,e,f)},p(i,f){f&1&&t!==(t=B(i[0])+" svelte-9bk1x6")&&b(e,"class",t)},d(i){i&&d(e)}}}function oe(n){let e,t,i,f;function c(l,u){if(l[0])return re;if(l[1])return ae}let a=c(n),s=a&&a(n);return{c(){e=v("button"),s&&s.c(),this.h()},l(l){e=E(l,"BUTTON",{class:!0,type:!0});var u=C(e);s&&s.l(u),u.forEach(d),this.h()},h(){b(e,"class",t=B(n[2])+" svelte-9bk1x6"),b(e,"type","button")},m(l,u){p(l,e,u),s&&s.m(e,null),i||(f=J(e,"click",n[8]),i=!0)},p(l,[u]){a===(a=c(l))&&s?s.p(l,u):(s&&s.d(1),s=a&&a(l),s&&(s.c(),s.m(e,null))),u&4&&t!==(t=B(l[2])+" svelte-9bk1x6")&&b(e,"class",t)},i:O,o:O,d(l){l&&d(e),s&&s.d(),i=!1,f()}}}function ue(n,e,t){let{size:i="md"}=e,{type:f="default"}=e,{icon:c=""}=e,{iconClass:a=""}=e,{iconUrl:s=""}=e,{loading:l=!1}=e,{disabled:u=!1}=e,h=e.class||e.className||"",_="";function k(r){$.call(this,n,r)}return n.$$set=r=>{t(10,e=j(j({},e),w(r))),"size"in r&&t(3,i=r.size),"type"in r&&t(4,f=r.type),"icon"in r&&t(5,c=r.icon),"iconClass"in r&&t(0,a=r.iconClass),"iconUrl"in r&&t(1,s=r.iconUrl),"loading"in r&&t(6,l=r.loading),"disabled"in r&&t(7,u=r.disabled)},n.$$.update=()=>{n.$$.dirty&216&&t(2,_=[f,i,h,l&&"loading",u&&"disabled"].filter(r=>r).join(" "))},e=w(e),[a,s,_,i,f,c,l,u,k]}class A extends V{constructor(e){super(),F(this,e,ue,oe,H,{size:3,type:4,icon:5,iconClass:0,iconUrl:1,loading:6,disabled:7})}}function Q(n,e,t){const i=n.slice();return i[10]=e[t],i[11]=e,i[12]=t,i}function ce(n){let e,t,i,f,c,a,s,l,u,h;function _(){n[6].call(t,n[11],n[12])}function k(){return n[7](n[10],n[11],n[12])}c=new A({props:{iconClass:"icon-check",size:"xs",type:"ghost"}}),c.$on("click",k);function r(){return n[8](n[10],n[11],n[12])}return s=new A({props:{iconClass:"icon-close",size:"xs",type:"ghost"}}),s.$on("click",r),{c(){e=v("span"),t=v("input"),f=P(),K(c.$$.fragment),a=P(),K(s.$$.fragment),this.h()},l(o){e=E(o,"SPAN",{});var m=C(e);t=E(m,"INPUT",{class:!0,size:!0,maxlength:!0,spellcheck:!0}),m.forEach(d),f=z(o),N(c.$$.fragment,o),a=z(o),N(s.$$.fragment,o),this.h()},h(){var o;b(t,"class","outline-none"),b(t,"size",i=n[10].value?((o=n[10].value)==null?void 0:o.length)+1:8),b(t,"maxlength","24"),b(t,"spellcheck","false")},m(o,m){p(o,e,m),T(e,t),n[5](t),G(t,n[10].value),p(o,f,m),I(c,o,m),p(o,a,m),I(s,o,m),l=!0,u||(h=J(t,"input",_),u=!0)},p(o,m){var S;n=o,(!l||m&1&&i!==(i=n[10].value?((S=n[10].value)==null?void 0:S.length)+1:8))&&b(t,"size",i),m&1&&t.value!==n[10].value&&G(t,n[10].value)},i(o){l||(g(c.$$.fragment,o),g(s.$$.fragment,o),l=!0)},o(o){y(c.$$.fragment,o),y(s.$$.fragment,o),l=!1},d(o){o&&d(e),n[5](null),o&&d(f),U(c,o),o&&d(a),U(s,o),u=!1,h()}}}function fe(n){let e=n[10].value+"",t,i,f,c;function a(){return n[4](n[10],n[11],n[12])}return f=new A({props:{iconClass:"icon-edit",size:"xs",type:"ghost"}}),f.$on("click",a),{c(){t=W(e),i=P(),K(f.$$.fragment)},l(s){t=q(s,e),i=z(s),N(f.$$.fragment,s)},m(s,l){p(s,t,l),p(s,i,l),I(f,s,l),c=!0},p(s,l){n=s,(!c||l&1)&&e!==(e=n[10].value+"")&&Y(t,e)},i(s){c||(g(f.$$.fragment,s),c=!0)},o(s){y(f.$$.fragment,s),c=!1},d(s){s&&d(t),s&&d(i),U(f,s)}}}function R(n){let e,t,i=n[10].position+1+".",f,c,a,s,l,u;const h=[fe,ce],_=[];function k(r,o){return r[10].isEditing?1:0}return a=k(n),s=_[a]=h[a](n),{c(){e=v("span"),t=v("span"),f=W(i),c=P(),s.c(),l=P(),this.h()},l(r){e=E(r,"SPAN",{class:!0});var o=C(e);t=E(o,"SPAN",{class:!0});var m=C(t);f=q(m,i),m.forEach(d),c=z(o),s.l(o),l=z(o),o.forEach(d),this.h()},h(){b(t,"class","mr-3"),b(e,"class","flex items-center ")},m(r,o){p(r,e,o),T(e,t),T(t,f),T(e,c),_[a].m(e,null),T(e,l),u=!0},p(r,o){(!u||o&1)&&i!==(i=r[10].position+1+".")&&Y(f,i);let m=a;a=k(r),a===m?_[a].p(r,o):(Z(),y(_[m],1,1,()=>{_[m]=null}),X(),s=_[a],s?s.p(r,o):(s=_[a]=h[a](r),s.c()),g(s,1),s.m(e,l))},i(r){u||(g(s),u=!0)},o(r){y(s),u=!1},d(r){r&&d(e),_[a].d()}}}function _e(n){let e;return{c(){e=W("Confirm")},l(t){e=q(t,"Confirm")},m(t,i){p(t,e,i)},d(t){t&&d(e)}}}function me(n){let e,t,i,f,c=n[0],a=[];for(let l=0;l<c.length;l+=1)a[l]=R(Q(n,c,l));const s=l=>y(a[l],1,1,()=>{a[l]=null});return i=new se({props:{wide:!0,type:"accent",$$slots:{default:[_e]},$$scope:{ctx:n}}}),i.$on("click",n[9]),{c(){e=v("div");for(let l=0;l<a.length;l+=1)a[l].c();t=P(),K(i.$$.fragment),this.h()},l(l){e=E(l,"DIV",{class:!0});var u=C(e);for(let h=0;h<a.length;h+=1)a[h].l(u);u.forEach(d),t=z(l),N(i.$$.fragment,l),this.h()},h(){b(e,"class","phrase svelte-q94nka")},m(l,u){p(l,e,u);for(let h=0;h<a.length;h+=1)a[h].m(e,null);p(l,t,u),I(i,l,u),f=!0},p(l,[u]){if(u&3){c=l[0];let _;for(_=0;_<c.length;_+=1){const k=Q(l,c,_);a[_]?(a[_].p(k,u),g(a[_],1)):(a[_]=R(k),a[_].c(),g(a[_],1),a[_].m(e,null))}for(Z(),_=c.length;_<a.length;_+=1)s(_);X()}const h={};u&8192&&(h.$$scope={dirty:u,ctx:l}),i.$set(h)},i(l){if(!f){for(let u=0;u<c.length;u+=1)g(a[u]);g(i.$$.fragment,l),f=!0}},o(l){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)y(a[u]);y(i.$$.fragment,l),f=!1},d(l){l&&d(e),ee(a,l),l&&d(t),U(i,l)}}}function he(n,e,t){let i;te(n,M,r=>t(2,i=r));const f=L.utils.nacl;let{initWords:c=Array.from(Array(24).keys()).map(r=>({position:r,value:"",isEditing:!1}))}=e,a;const s=(r,o,m)=>{t(0,o[m].isEditing=!0,c),t(0,o[m].isEditing=!0,c),setTimeout(()=>{a.focus()})};function l(r){le[r?"unshift":"push"](()=>{a=r,t(1,a)})}function u(r,o){r[o].value=this.value,t(0,c)}const h=(r,o,m)=>{t(0,o[m].isEditing=!1,c)},_=(r,o,m)=>{t(0,o[m].value="",c),t(0,o[m].isEditing=!1,c)},k=async()=>{var S;const r=c.map(x=>x.value),o=await ne.wordsToPrivateKey(r);M.setUserKeyPair(f.sign.keyPair.fromSeed(L.utils.base64ToBytes(o)));let m=(await i.ton.wallet.create({publicKey:(S=i.keyPair)==null?void 0:S.publicKey}).getAddress()).toString(!0,!0,!0);i.keyPair&&ie.createWallet({params:{address:m,publicKey:i.keyPair.publicKey}})};return n.$$set=r=>{"initWords"in r&&t(0,c=r.initWords)},[c,a,i,f,s,l,u,h,_,k]}class ke extends V{constructor(e){super(),F(this,e,he,me,H,{initWords:0})}}export{ke as default};
